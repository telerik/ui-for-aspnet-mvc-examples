/*
* Kendo UI Complete v2013.1.319 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
("function"==typeof define&&define.amd?define:function(n,e){return e()})(["./kendo.mobile.application.min"],function(){(function(n,e){function t(n,e,t){return Math.max(e,Math.min(t,n))}var a=window.kendo,i=a.mobile.ui,s=i.Widget,o=a.support,c="change",r="km-switch-on",p="km-switch-off",l="margin-left",d="km-state-active",h=o.transitions.css+"transform",f=n.proxy,u=s.extend({init:function(e,t){var i,o=this;s.fn.init.call(o,e,t),o._wrapper(),o._drag(),o._background(),o.origin=parseInt(o.background.css(l),10),o._handle(),o.constrain=0,o.snapPoint=0,o.container().bind("show",n.proxy(this,"refresh")),e=o.element[0],e.type="checkbox",o._animateBackground=!0,i=o.options.checked,null===i&&(i=e.checked),o.check(i),o.refresh(),a.notify(o,a.mobile.ui)},refresh:function(){var n,e,t=this;n=t.wrapper.width(),e=t.handle.outerWidth(!0),t.constrain=n-e,t.snapPoint=n/2-e/2,t.background.data("origin",t.origin),t.check(t.element[0].checked)},events:[c],options:{name:"Switch",onLabel:"ON",offLabel:"OFF",checked:null},check:function(n){var t=this,a=t.element[0];return n===e?a.checked:(t._position(n?t.constrain:0),a.checked=n,t.wrapper.toggleClass(r,n).toggleClass(p,!n),e)},destroy:function(){s.fn.destroy.call(this),this.userEvents.destroy()},toggle:function(){var n=this;n.check(!n.element[0].checked)},_move:function(n){var e=this;n.preventDefault(),e._position(t(e.position+n.x.delta,0,e.constrain))},_position:function(n){var e=this;e.position=n,e.handle.css(h,"translatex("+n+"px)"),e._animateBackground&&e.background.css(l,e.origin+n)},_start:function(){this.userEvents.capture(),this.handle.addClass(d)},_stop:function(){var n=this;n.handle.removeClass(d),n._toggle(n.position>n.snapPoint)},_toggle:function(n){var e,t=this,i=t.handle,s=t.element[0],o=s.checked,l=a.mobile.application&&a.mobile.application.os.wp?100:200;t.wrapper.toggleClass(r,n).toggleClass(p,!n),t.position=e=n*t.constrain,t._animateBackground&&t.background.kendoStop(!0,!0).kendoAnimate({effects:"slideMargin",offset:e,reset:!0,reverse:!n,axis:"left",duration:l}),i.kendoStop(!0,!0).kendoAnimate({effects:"slideTo",duration:l,offset:e+"px,0",reset:!0,complete:function(){o!==n&&(s.checked=n,t.trigger(c,{checked:n}))}})},_background:function(){var e,t=this;e=n("<span class='km-switch-wrapper'><span class='km-switch-background'></span></span>").appendTo(t.wrapper).children(".km-switch-background"),t.background=e},_handle:function(){var e=this,t=e.options;e.handle=n("<span class='km-switch-container'><span class='km-switch-handle' /></span>").appendTo(e.wrapper).children(".km-switch-handle"),e.handle.append('<span class="km-switch-label-on">'+t.onLabel+'</span><span class="km-switch-label-off">'+t.offLabel+"</span>")},_wrapper:function(){var n=this,e=n.element,t=e.parent("span.km-switch");t[0]||(t=e.wrap('<span class="km-switch"/>').parent()),n.wrapper=t},_drag:function(){var n=this;n.userEvents=new a.UserEvents(n.wrapper,{tap:function(){n._toggle(!n.element[0].checked)},start:f(n._start,n),move:f(n._move,n),end:f(n._stop,n)})}});i.plugin(u)})(window.kendo.jQuery)});