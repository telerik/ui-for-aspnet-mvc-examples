{"version":3,"sources":["kendo.drawing.js"],"names":["f","define","defined","value","UNDEFINED","round","precision","power","pow","math","p","limitValue","min","max","rad","degrees","DEG_TO_RAD","deg","radians","isNumber","val","isNaN","valueOrDefault","defaultValue","sqr","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","hashObject","arrayLimits","arr","MAX_NUM","MIN_NUM","arrayMin","arrayMax","sparseArrayMin","sparseArrayLimits","sparseArrayMax","n","isFinite","undefined","last","array","append","first","second","apply","renderTemplate","text","kendo","template","useWithBlock","paramName","renderAttr","name","renderAllAttr","attrs","output","renderStyle","renderSize","size","renderPos","pos","result","toHyphens","split","isTransparent","color","arabicToRoman","literals","1","10","100","2","20","200","3","30","300","4","40","400","5","50","500","6","60","600","7","70","700","8","80","800","9","90","900","1000","values","roman","shift","romanToArabic","r","digits","prev","v","toLowerCase","x","l","c","d","m","charAt","memoize","cache","Object","create","id","arguments","this","ucs2decode","string","extra","counter","ucs2encode","map","String","fromCharCode","mergeSort","a","cmp","merge","b","ai","bi","slice","left","right","Math","floor","window","deepExtend","PI","Number","MAX_VALUE","now","Date","getTime","util","drawing","dataviz","amd","a1","a2","a3","$","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","loadFonts","fonts","callback","promises","document","font","load","e","logToConsole","Promise","all","then","doc","Class","LRUCache","extend","init","_size","_length","_map","put","lru","entry","_head","_tail","newer","older","get","defaultMeasureBox","options","_cache","_initOptions","baselineMarkerSize","box","styleKey","cacheKey","cachedResult","baselineMarker","_baselineMarker","cloneNode","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","jQuery","encodeBase64","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","KEY_STR","inArray","ObserversMixin","observers","_observers","addObserver","element","removeObserver","index","splice","trigger","methodName","event","observer","idx","_suspended","optionsChange","geometryChange","suspend","resume","_observerField","field","mixins","transform","matrix","Transformation","toMatrix","isFunction","ellipseExtremeAngles","center","rx","ry","extremeX","extremeY","atan2","y","bboxStartAngle","angle","start","defineAccessors","fn","fields","capitalized","toUpperCase","substring","setAccessor","getAccessor","elipseAngle","end","swipe","alpha","abs","calculateAngle","cx","cy","cos","sin","normalizeArcParameters","x1","y1","x2","y2","largeArc","cx1","cy1","sqrt","x21","y21","rx2","ry2","k","yk2","Point","startAngle","endAngle","solveCubic","solveQuadratic","y3","z1","z2","q","Q","ComplexNumber","b3a","nthRoot","numberSign","add","multiplyConstant","negate","multiply","isReal","real","PRECISION","toCubicPolynomial","points","calculateCurveAt","t","t1","curveIntersectionsCount","point","bbox","rayIntersection","intersectsRay","polynomial","roots","count","close","bottomRight","lineIntersectionsCount","intersects","minX","maxX","minY","maxY","inRange","lineIntersection","p0","p1","p2","p3","s1x","s2x","s1y","s2y","nx","ny","s","tolerance","closeOrLess","isOutOfEndPoint","endPoint","controlPoint","rotatedPoint","transformCopy","rotate","hasRootsInRange","rootField","range","intersection","squareRoot","Size","Rect","Circle","Arc","Matrix","PI_DIV_2","equals","other","clone","origin","translate","translateWith","move","scale","scaleX","scaleY","scaleCopy","transformation","mx","distanceTo","dx","dy","toArray","doRound","toString","separator","arg0","arg1","pt","minPoint","maxPoint","ZERO","setOrigin","setSize","getOrigin","getSize","topLeft","topRight","bottomLeft","tl","tr","br","bl","fromPoints","expand","expandCopy","containsPoint","_isOnPath","rectOuter","rectInner","union","intersect","top","bottom","radius","setCenter","setRadius","getCenter","pointAt","_pointAt","currentPointX","currentPointY","currentPoint","extremeAngles","inCircle","pointDistance","radiusX","radiusY","anticlockwise","MAX_INTERVAL","radian","curvePoints","nextAngle","dir","currentAngle","interval","_arcInterval","intervalAngle","subIntervalsCount","ceil","subIntervalAngle","_intervalCurvePoints","cp1","cp2","arc","currentAngleX","currentAngleY","oldStart","p1Derivative","_derivativeAt","p2Derivative","inAngleRange","distance","angleRad","pointRadius","startPoint","arcParameters","multiplyCopy","invert","g","h","det","unit","IDENTITY","_matrix","_optionsChange","img","prototype","cNumber","addConstant","nthR","geometry","eventCoordinates","touch","location","pageX","clientX","pageY","clientY","BaseNode","OptionsStore","SurfaceFactory","SurfaceTooltip","noop","Widget","ui","proxy","NS","TOOLTIP_TEMPLATE","TOOLTIP_CLOSE_TEMPLATE","Surface","call","_click","_handler","_mouseenter","_mouseleave","_mousemove","_visual","Group","css","_enableTracking","tooltip","events","draw","children","clear","hideTooltip","destroy","_tooltip","exportVisual","_resize","eventTarget","node","domNode","initialTouch","target","_kendoNode","is","parent","srcElement","showTooltip","shape","show","hide","suspendTracking","_suspendedTracking","resumeTracking","surface","originalEvent","type","Popup","_elementOffset","offset","paddingLeft","parseInt","paddingTop","_surfacePoint","coord","plugin","childNodes","observe","insertAt","remove","removeSelf","invalidate","childrenChange","action","items","prefix","member","_wrap","getter","set","composite","_set","path","obj","indexOf","_clear","setter","_items","register","order","unshift","preferred","match","navigator","userAgent","content","_tooltipOptions","popup","appendTo","animation","copyAnchorStyles","collision","_openPopupHandler","_openPopup","_bindEvents","position","showOn","autoHide","hideDelay","showAfter","_showHandler","_showEvent","_surfaceLeaveHandler","_surfaceLeave","_mouseleaveHandler","_mousemoveHandler","bind","on","_hideClick","unbind","off","clearTimeout","_timeout","shared","_tooltipShape","_updateContent","html","_position","elementSize","tooltipOffset","surfaceOffset","_offset","_show","_current","_showTimeout","visible","preventDefault","delay","_autoHide","_measure","setTimeout","open","_closeButton","removeClass","addClass","prependTo","wrapper","outerWidth","outerHeight","_popupRelatedTarget","relatedTarget","closest","DASH_ARRAYS","dot","dash","longdash","dashdot","longdashdot","longdashdotdot","Color","GRADIENT","IDENTITY_MATRIX_HASH","Paintable","proto","fill","stroke","opacity","newFill","nodeType","Traversable","childrenField","traverse","child","Measurable","strokeWidth","combinedMatrix","currentTransform","matrixHash","_bboxCache","_matrixHash","_bbox","elementsBoundingBox","elements","applyTransform","boundingBox","elementBoundingBox","rawBBox","elementsClippedBoundingBox","clippedBBox","defineGeometryAccessors","names","geometryAccessor","fieldName","definePointAccessors","pointAccessor","defineOptionsAccessors","optionsAccessor","generateDefinitionId","defId","align","rect","alignment","alignElements","vAlign","stack","stackElements","getStackElements","vStack","wrap","wrapElements","vWrap","axis","otherAxis","sizeField","startElement","elementIdx","stacks","getStacks","translateToPoint","fit","rectSize","maxSize","stackSize","addElementToStack","stackAxis","previousBBox","alignStart","START","END","transofrm","ElementsArray","Text","GeometryElementsArray","Segment","Path","MultiPath","Image","GradientStop","StopsArray","Gradient","LinearGradient","RadialGradient","Layout","pop","HORIZONTAL","Element","clip","parentTransform","parentMatrix","elementTransform","elementMatrix","_clippedBBox","_hasFill","_containsPoint","_hasStroke","_splice","_change","_add","_remove","howMany","that","concat","_clearObserver","_setObserver","_reparent","insert","removeAt","newParent","metrics","_geometry","toPath","moveTo","curveTo","anchor","controlIn","controlOut","bboxTo","toSegment","segmentAnchor","toSegmentAnchor","_curveBoundingBox","_lineBoundingBox","extremesX","_curveExtremesFor","extremesY","xLimits","yLimits","extremes","_curveExtremes","_calculateCurveAt","x3","x4","t2","_intersectionsTo","segment","intersectionsCount","_isOnCurveTo","endSegment","p4","rotation","rotatedPoints","_isOnLineTo","_isOnPathTo","isOnPath","segments","lineJoin","lineTo","lastSegment","_addArcSegments","arcTo","closed","previous","segmentBox","fromRect","fromArc","paths","src","_rect","arg","stop","stops","_createStops","_userSpace","userSpace","addStop","removeStop","_radius","_fallbackFill","fallbackFill","_defaults","_fieldMap","alignContent","justifyContent","alignItems","spacing","orientation","lineSpacing","_initMap","fieldMap","groupsSizeField","groupAxis","groupsAxis","reflow","groupOptions","groups","groupsSize","groupStart","groupOrigin","elementOrigin","elementStart","group","groupBox","groupIdx","scaledStart","scaledSize","newStart","_initGroups","lineSize","bboxes","_newGroup","addGroup","_addToGroup","parseParameters","parameters","replace","SPLIT_REGEX","number","parseFloat","toLineParamaters","isVertical","insertPosition","reflectionPoint","quadraticToCubicControlPoints","third","trim","SEGMENT_REGEX","MOVE","CLOSE","PathParser","parse","previousCommand","multiPath","params","closePath","command","isRelative","ShapeMap","Error","lastControlIn","cubicControlPoints","zIndexComparer","_zIndex","isArray","LEVEL_STEP","MAX_LEVEL","QuadRoot","shapes","_quadNode","pointShapes","QuadNode","inBounds","nodeRect","nodeBottomRight","inserted","_initChildren","halfWidth","halfHeight","ShapesQuadTree","ROOT_SIZE","initRoots","rootMap","root","rootElements","pointShape","sectorRoot","assignZindex","levelWeight","zIndex","parents","bboxChange","_insertShape","elementsArray","_insert","Array","rootSize","sectors","getSectors","inRoot","bottomX","bottomY","alignToScreen","ctm","getScreenCTM","baseUrl","base","getElementsByTagName","url","href","hashIndex","support","browser","msie","refUrl","exportGroup","exportRoot","svg","RootNode","SVG_NS","render","exportSVG","raw","Deferred","resolve","promise","isDefinition","decodeEntities","_element","innerHTML","textContent","innerText","DefinitionMap","BUTT","NONE","SOLID","SPACE","TRANSFORM","_root","renderSVG","_template","_rootElement","firstElementChild","attachTo","resize","viewBox","format","setAttribute","visual","Node","definitions","clearDefinitions","childNode","nodeMap","createDefinitions","domElement","container","createElement","firstChild","insertBefore","setElement","childElement","nodes","renderChildren","updateDefinition","attr","allAttr","allCss","styles","removeAttr","removeAttribute","mapTransform","renderTransform","transformChange","mapStyle","cursor","renderOpacity","definition","hasDefinitions","definitionChange","renderDefinitions","mapDefinitions","defs","DefinitionNode","definitionMap","addDefinitions","removeDefinitions","createDefinition","item","ClipNode","LinearGradientNode","RadialGradientNode","addDefinition","mapItem","removeDefinition","GroupNode","PathNode","renderData","mapFill","mapStroke","attributeMap","fill.opacity","stroke.color","stroke.width","stroke.opacity","printPath","segmentType","currentType","printPoints","segmentStart","segmentEnd","renderLinecap","dashType","renderDashType","renderStroke","dashArray","lineCap","renderFill","ArcNode","MultiPathNode","CircleNode","TextNode","encode","htmlEncode","setY","renderContent","ImageNode","mapPosition","mapSource","renderPosition","renderSource","GradientStopNode","renderOffset","GradientNode","loadStops","stopNode","mapCoordinates","renderCoordinates","mapSpace","RectNode","testFragment","testContainer","hasParser","DOMParser","namespaceURI","parser","chartDoc","parseFromString","importedDoc","adoptNode","documentElement","implementation","hasFeature","_exportGroup","exportImage","defaults","cors","display","image","always","addGradientStops","gradient","parseColor","addColorStop","toCssRgba","FRAME_DELAY","canvas","_searchTree","defer","rootElement","loadingStates","loading","when","done","_invalidate","data","toDataURL","reject","fail","_mouseTrackHandler","_trackMouse","currentShape","_currentShape","initClip","clearClip","setClip","ctx","beginPath","renderPoints","setTransform","loadElements","setOpacity","globalAlpha","renderTo","save","restore","getContext","invalidateHandler","throttle","animationFrame","clearRect","setLineDash","setLineCap","setLineJoin","setFill","setStroke","hasFill","setGradientFill","fillStyle","createLinearGradient","createRadialGradient","strokeStyle","lineWidth","mozDash","webkitLineDash","seg","prevSeg","prevOut","bezierCurveTo","fillText","strokeText","onLoad","onError","test","crossOrigin","complete","onload","onerror","state","drawImage","enableVML","namespaces","kvml","stylesheet","styleSheets","createStyleSheet","addRule","createElementVML","className","COORDINATE_MULTIPLE","fillField","stopColor","baseColor","baseOpacity","blendColors","overlay","overlayColor","blendChannel","toHex","EMPTY_CLIP","COORDINATE_SIZE","TRANSFORM_PRECISION","empty","attachReference","combinedTransform","currentOpacity","setStyle","mapOpacityTo","multiplier","ClipObserver","ObserverNode","clipRect","clipBBox","_attachTo","frag","createDocumentFragment","refreshTransform","refreshOpacity","StrokeNode","FillNode","mapGradient","mapFillColor","mapLinearGradient","supportVML","mapRadialGradient","addColors","focusx","focusy","stopColors","colorsField","colors","color2","TransformNode","refresh","transformOrigin","ShapeNode","createFillNode","createTransformNode","setCoordsize","PathDataNode","setPathData","pathData","createDataNode","MultiPathDataNode","CircleTransformNode","originX","originY","diameter","ArcDataNode","TextPathDataNode","TextPathNode","setString","ImagePathDataNode","ImageFillNode","setSrc","sx","sy","ax","ay","rawbbox","rawcenter","fillOrigin","fillSize","RectDataNode","vml","version","getXY","thing","drawDOM","doOne","getBoundingClientRect","nodeInfo","_clipbox","geo","_stackingContext","_avoidLinks","avoidLinks","renderElement","makeTemplate","el","cloneNodes","$el","$clone","tagName","nextSibling","handlePageBreaks","forceBreak","pageWidth","pageHeight","margin","doPageBreak","next","whenImagesAreActuallyLoaded","pages","page","splitElement","copy","makePage","forEach","pageNum","totalPages","cacheImages","keepTogether","jqel","adjust","isFirst","fall","getComputedStyle","bottomPadding","getPropertyValue","bottomBorder","saveAdjust","breakAtElement","fallsOnMargin","splitText","firstInParent","table","colgroup","thead","grid","gridHead","find","repeatHeaders","querySelector","createRange","setStartBefore","setEndBefore","extractContents","boxSizing","padding","overflow","pageClassName","available","len","nextnode","selectNodeContents","findEOP","setEnd","endOffset","ownerDocument","_destructive","each","paddingRight","beforePageBreak","pdf","defineFont","getFontFaces","forcePageBreak","hasPaperSize","paperSize","paperOptions","getPaperOptions","def","hasMargin","multiPage","_ignoreMargin","progress","canceled","cancel","doStylesheet","ss","rules","cssRules","ex","addRules","findFonts","rule","splitProperty","reduce","getFontURL","cssText","styleSheet","family","bold","italic","hasOwnProperty","getCounter","getAllCounters","getPrototypeOf","reverse","incCounter","inc","resetCounter","doCounters","toRGB","pending","images","querySelectorAll","IMAGE_CACHE","urls","dive","parseBackgroundImage","bg","alphaNumeral","pushNodeInfo","decoration","createsStackingContext","popNodeInfo","updateClipbox","emptyClipbox","cb","prop","pseudoElt","webkit","mozilla","opera","pleaseSetPropertyValue","important","setProperty","getBorder","side","saveStyle","func","getBorderRadius","sanitizeRadius","getContentBox","innerBox","wt","wr","wb","wl","getTransform","exec","radiansToDegrees","parseAngle","num","setClipping","clipPath","addArcToPath","adjustBorderRadiusForBox","rTL","rTR","rBR","rBL","tl_x","tl_y","tr_x","tr_y","br_x","br_y","bl_x","bl_y","elementRoundBox","bt","bb","pr","pb","pl","roundBox","rTL0","rTR0","rBR0","rBL0","tmp","formatCounter","romanNumeral","evalPseudoElementContent","displayCounter","getAttribute","getCssText","_renderWithPseudoElements","pseudo","kind","place","psel","KENDO_PSEUDO_ELEMENT","fake","saveClass","_renderElement","adjustBoxes","boxes","tableBorderLeft","tableBorderTop","tableBox","firstCell","firstCellBox","rows","cells","drawEdge","Wtop","Wleft","Wright","rl","rr","drawRoundCorner","ri","edge","drawBackground","background","_pdfLink","backgroundColor","backgroundImage","drawOneBackground","backgroundRepeat","backgroundPosition","backgroundOrigin","backgroundSize","drawBackgroundImage","img_width","img_height","renderBG","rewX","rewY","repeatX","aspect_ratio","orgBox","gradientRenderer","drawBullet","_drawBullet","bullet","listStylePosition","textAlign","elementIndex","listStyleType","fontSize","lineHeight","fontFamily","disc","circle","square","drawOneBox","isLast","inv","shouldDrawLeft","shouldDrawRight","innerbox","currentStyle","getClientRects","clipit","isFormField","maybeRenderWidget","renderContents","pxlen","scaledAngle","implicit","to","atan","tan","percent","console","log","widget","widgetInstance","exportDOMVisual","renderImage","zIndexSort","sa","sb","za","zb","pa","getSelectedOption","selectedOptions","selectedIndex","renderCheckbox","checked","renderFormField","option","tag","whiteSpace","multiple","scrollLeft","scrollTop","blocks","floats","inline","positioned","floating","renderText","actuallyGetRangeBoundingRect","rectangles","chrome","Infinity","prevLineBottom","doChunk","found","cc","code","indent","origStart","substr","search","setStart","isJustified","findEOL","eol","estimateLineLength","startOffset","drawText","TextRect","decorate","line","ypos","textOverflow","saveTextOverflow","groupInStackingContext","main","_dom_zIndex","counterIncrement","visibility","counterReset","mmul","b1","c1","d1","e1","f1","b2","c2","d2","e2","f2","_pdfRect","skip_ws","tok_whitespace","read","token","read_stop","tok_length","tok_percent","read_linear_gradient","propName","to1","to2","tok_popen","tok_angle","tok_comma","tok_keyword","tok_pclose","read_url","tok_content","tok","orig","cache1","tok_linear_gradient","tok_url","cache2","looking_at","ret","in_paren","in_string","Animation","anim","duration","easing","setup","step","play","finish","abort","loop","wallTime","time","easingPos","_stopped","AnimationFactory"],"mappings":"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","file":"kendo.drawing.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/main', ['kendo.core'], f);\n}(function () {\n    (function () {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend;\n        var DEG_TO_RAD = math.PI / 180, MAX_NUM = Number.MAX_VALUE, MIN_NUM = -Number.MAX_VALUE, UNDEFINED = 'undefined';\n        function defined(value) {\n            return typeof value !== UNDEFINED;\n        }\n        function round(value, precision) {\n            var power = pow(precision);\n            return math.round(value * power) / power;\n        }\n        function pow(p) {\n            if (p) {\n                return math.pow(10, p);\n            } else {\n                return 1;\n            }\n        }\n        function limitValue(value, min, max) {\n            return math.max(math.min(value, max), min);\n        }\n        function rad(degrees) {\n            return degrees * DEG_TO_RAD;\n        }\n        function deg(radians) {\n            return radians / DEG_TO_RAD;\n        }\n        function isNumber(val) {\n            return typeof val === 'number' && !isNaN(val);\n        }\n        function valueOrDefault(value, defaultValue) {\n            return defined(value) ? value : defaultValue;\n        }\n        function sqr(value) {\n            return value * value;\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function hashObject(object) {\n            return hashKey(objectKey(object));\n        }\n        var now = Date.now;\n        if (!now) {\n            now = function () {\n                return new Date().getTime();\n            };\n        }\n        function arrayLimits(arr) {\n            var length = arr.length, i, min = MAX_NUM, max = MIN_NUM;\n            for (i = 0; i < length; i++) {\n                max = math.max(max, arr[i]);\n                min = math.min(min, arr[i]);\n            }\n            return {\n                min: min,\n                max: max\n            };\n        }\n        function arrayMin(arr) {\n            return arrayLimits(arr).min;\n        }\n        function arrayMax(arr) {\n            return arrayLimits(arr).max;\n        }\n        function sparseArrayMin(arr) {\n            return sparseArrayLimits(arr).min;\n        }\n        function sparseArrayMax(arr) {\n            return sparseArrayLimits(arr).max;\n        }\n        function sparseArrayLimits(arr) {\n            var min = MAX_NUM, max = MIN_NUM;\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var n = arr[i];\n                if (n !== null && isFinite(n)) {\n                    min = math.min(min, n);\n                    max = math.max(max, n);\n                }\n            }\n            return {\n                min: min === MAX_NUM ? undefined : min,\n                max: max === MIN_NUM ? undefined : max\n            };\n        }\n        function last(array) {\n            if (array) {\n                return array[array.length - 1];\n            }\n        }\n        function append(first, second) {\n            first.push.apply(first, second);\n            return first;\n        }\n        function renderTemplate(text) {\n            return kendo.template(text, {\n                useWithBlock: false,\n                paramName: 'd'\n            });\n        }\n        function renderAttr(name, value) {\n            return defined(value) && value !== null ? ' ' + name + '=\\'' + value + '\\' ' : '';\n        }\n        function renderAllAttr(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                output += renderAttr(attrs[i][0], attrs[i][1]);\n            }\n            return output;\n        }\n        function renderStyle(attrs) {\n            var output = '';\n            for (var i = 0; i < attrs.length; i++) {\n                var value = attrs[i][1];\n                if (defined(value)) {\n                    output += attrs[i][0] + ':' + value + ';';\n                }\n            }\n            if (output !== '') {\n                return output;\n            }\n        }\n        function renderSize(size) {\n            if (typeof size !== 'string') {\n                size += 'px';\n            }\n            return size;\n        }\n        function renderPos(pos) {\n            var result = [];\n            if (pos) {\n                var parts = kendo.toHyphens(pos).split('-');\n                for (var i = 0; i < parts.length; i++) {\n                    result.push('k-pos-' + parts[i]);\n                }\n            }\n            return result.join(' ');\n        }\n        function isTransparent(color) {\n            return color === '' || color === null || color === 'none' || color === 'transparent' || !defined(color);\n        }\n        function arabicToRoman(n) {\n            var literals = {\n                1: 'i',\n                10: 'x',\n                100: 'c',\n                2: 'ii',\n                20: 'xx',\n                200: 'cc',\n                3: 'iii',\n                30: 'xxx',\n                300: 'ccc',\n                4: 'iv',\n                40: 'xl',\n                400: 'cd',\n                5: 'v',\n                50: 'l',\n                500: 'd',\n                6: 'vi',\n                60: 'lx',\n                600: 'dc',\n                7: 'vii',\n                70: 'lxx',\n                700: 'dcc',\n                8: 'viii',\n                80: 'lxxx',\n                800: 'dccc',\n                9: 'ix',\n                90: 'xc',\n                900: 'cm',\n                1000: 'm'\n            };\n            var values = [\n                1000,\n                900,\n                800,\n                700,\n                600,\n                500,\n                400,\n                300,\n                200,\n                100,\n                90,\n                80,\n                70,\n                60,\n                50,\n                40,\n                30,\n                20,\n                10,\n                9,\n                8,\n                7,\n                6,\n                5,\n                4,\n                3,\n                2,\n                1\n            ];\n            var roman = '';\n            while (n > 0) {\n                if (n < values[0]) {\n                    values.shift();\n                } else {\n                    roman += literals[values[0]];\n                    n -= values[0];\n                }\n            }\n            return roman;\n        }\n        function romanToArabic(r) {\n            r = r.toLowerCase();\n            var digits = {\n                i: 1,\n                v: 5,\n                x: 10,\n                l: 50,\n                c: 100,\n                d: 500,\n                m: 1000\n            };\n            var value = 0, prev = 0;\n            for (var i = 0; i < r.length; ++i) {\n                var v = digits[r.charAt(i)];\n                if (!v) {\n                    return null;\n                }\n                value += v;\n                if (v > prev) {\n                    value -= 2 * prev;\n                }\n                prev = v;\n            }\n            return value;\n        }\n        function memoize(f) {\n            var cache = Object.create(null);\n            return function () {\n                var id = '';\n                for (var i = arguments.length; --i >= 0;) {\n                    id += ':' + arguments[i];\n                }\n                if (id in cache) {\n                    return cache[id];\n                }\n                return f.apply(this, arguments);\n            };\n        }\n        function ucs2decode(string) {\n            var output = [], counter = 0, length = string.length, value, extra;\n            while (counter < length) {\n                value = string.charCodeAt(counter++);\n                if (value >= 55296 && value <= 56319 && counter < length) {\n                    extra = string.charCodeAt(counter++);\n                    if ((extra & 64512) == 56320) {\n                        output.push(((value & 1023) << 10) + (extra & 1023) + 65536);\n                    } else {\n                        output.push(value);\n                        counter--;\n                    }\n                } else {\n                    output.push(value);\n                }\n            }\n            return output;\n        }\n        function ucs2encode(array) {\n            return array.map(function (value) {\n                var output = '';\n                if (value > 65535) {\n                    value -= 65536;\n                    output += String.fromCharCode(value >>> 10 & 1023 | 55296);\n                    value = 56320 | value & 1023;\n                }\n                output += String.fromCharCode(value);\n                return output;\n            }).join('');\n        }\n        function mergeSort(a, cmp) {\n            if (a.length < 2) {\n                return a.slice();\n            }\n            function merge(a, b) {\n                var r = [], ai = 0, bi = 0, i = 0;\n                while (ai < a.length && bi < b.length) {\n                    if (cmp(a[ai], b[bi]) <= 0) {\n                        r[i++] = a[ai++];\n                    } else {\n                        r[i++] = b[bi++];\n                    }\n                }\n                if (ai < a.length) {\n                    r.push.apply(r, a.slice(ai));\n                }\n                if (bi < b.length) {\n                    r.push.apply(r, b.slice(bi));\n                }\n                return r;\n            }\n            return function sort(a) {\n                if (a.length <= 1) {\n                    return a;\n                }\n                var m = Math.floor(a.length / 2);\n                var left = a.slice(0, m);\n                var right = a.slice(m);\n                left = sort(left);\n                right = sort(right);\n                return merge(left, right);\n            }(a);\n        }\n        deepExtend(kendo, {\n            util: {\n                MAX_NUM: MAX_NUM,\n                MIN_NUM: MIN_NUM,\n                append: append,\n                arrayLimits: arrayLimits,\n                arrayMin: arrayMin,\n                arrayMax: arrayMax,\n                defined: defined,\n                deg: deg,\n                hashKey: hashKey,\n                hashObject: hashObject,\n                isNumber: isNumber,\n                isTransparent: isTransparent,\n                last: last,\n                limitValue: limitValue,\n                now: now,\n                objectKey: objectKey,\n                round: round,\n                rad: rad,\n                renderAttr: renderAttr,\n                renderAllAttr: renderAllAttr,\n                renderPos: renderPos,\n                renderSize: renderSize,\n                renderStyle: renderStyle,\n                renderTemplate: renderTemplate,\n                sparseArrayLimits: sparseArrayLimits,\n                sparseArrayMin: sparseArrayMin,\n                sparseArrayMax: sparseArrayMax,\n                sqr: sqr,\n                valueOrDefault: valueOrDefault,\n                romanToArabic: romanToArabic,\n                arabicToRoman: arabicToRoman,\n                memoize: memoize,\n                ucs2encode: ucs2encode,\n                ucs2decode: ucs2decode,\n                mergeSort: mergeSort\n            }\n        });\n        kendo.drawing.util = kendo.util;\n        kendo.dataviz.util = kendo.util;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', [\n        'kendo.core',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, Class = kendo.Class, util = kendo.util, defined = util.defined;\n        var LRUCache = Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var lru = this, map = lru._map, entry = {\n                        key: key,\n                        value: value\n                    };\n                map[key] = entry;\n                if (!lru._head) {\n                    lru._head = lru._tail = entry;\n                } else {\n                    lru._tail.newer = entry;\n                    entry.older = lru._tail;\n                    lru._tail = entry;\n                }\n                if (lru._length >= lru._size) {\n                    map[lru._head.key] = null;\n                    lru._head = lru._head.newer;\n                    lru._head.older = null;\n                } else {\n                    lru._length++;\n                }\n            },\n            get: function (key) {\n                var lru = this, entry = lru._map[key];\n                if (entry) {\n                    if (entry === lru._head && entry !== lru._tail) {\n                        lru._head = entry.newer;\n                        lru._head.older = null;\n                    }\n                    if (entry !== lru._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = lru._tail;\n                        entry.newer = null;\n                        lru._tail.newer = entry;\n                        lru._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var defaultMeasureBox = $('<div style=\\'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: nowrap!important;\\' />')[0];\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var TextMetrics = Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this._initOptions(options);\n            },\n            options: { baselineMarkerSize: 1 },\n            measure: function (text, style, box) {\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = util.objectKey(style), cacheKey = util.hashKey(text + styleKey), cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = box ? box : defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (defined(value)) {\n                        measureBox.style[key] = value;\n                    }\n                }\n                $(measureBox).text(text);\n                measureBox.appendChild(baselineMarker);\n                doc.body.appendChild(measureBox);\n                if ((text + '').length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                return $('<div class=\\'k-baseline-marker\\' ' + 'style=\\'display: inline-block; vertical-align: baseline;' + 'width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;' + 'overflow: hidden;\\' />')[0];\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        function loadFonts(fonts, callback) {\n            var promises = [];\n            if (fonts.length > 0 && document.fonts) {\n                try {\n                    promises = fonts.map(function (font) {\n                        return document.fonts.load(font);\n                    });\n                } catch (e) {\n                    kendo.logToConsole(e);\n                }\n                Promise.all(promises).then(callback, callback);\n            } else {\n                callback();\n            }\n        }\n        kendo.util.TextMetrics = TextMetrics;\n        kendo.util.LRUCache = LRUCache;\n        kendo.util.loadFonts = loadFonts;\n        kendo.util.measureText = measureText;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/base64', ['util/main'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, fromCharCode = String.fromCharCode;\n        var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n        function encodeBase64(input) {\n            var output = '';\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n            var i = 0;\n            input = encodeUTF8(input);\n            while (i < input.length) {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n                enc1 = chr1 >> 2;\n                enc2 = (chr1 & 3) << 4 | chr2 >> 4;\n                enc3 = (chr2 & 15) << 2 | chr3 >> 6;\n                enc4 = chr3 & 63;\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n                output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n            }\n            return output;\n        }\n        function encodeUTF8(input) {\n            var output = '';\n            for (var i = 0; i < input.length; i++) {\n                var c = input.charCodeAt(i);\n                if (c < 128) {\n                    output += fromCharCode(c);\n                } else if (c < 2048) {\n                    output += fromCharCode(192 | c >>> 6);\n                    output += fromCharCode(128 | c & 63);\n                } else if (c < 65536) {\n                    output += fromCharCode(224 | c >>> 12);\n                    output += fromCharCode(128 | c >>> 6 & 63);\n                    output += fromCharCode(128 | c & 63);\n                }\n            }\n            return output;\n        }\n        deepExtend(kendo.util, {\n            encodeBase64: encodeBase64,\n            encodeUTF8: encodeUTF8\n        });\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('mixins/observers', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        var math = Math, kendo = window.kendo, deepExtend = kendo.deepExtend, inArray = $.inArray;\n        var ObserversMixin = {\n            observers: function () {\n                this._observers = this._observers || [];\n                return this._observers;\n            },\n            addObserver: function (element) {\n                if (!this._observers) {\n                    this._observers = [element];\n                } else {\n                    this._observers.push(element);\n                }\n                return this;\n            },\n            removeObserver: function (element) {\n                var observers = this.observers();\n                var index = inArray(element, observers);\n                if (index != -1) {\n                    observers.splice(index, 1);\n                }\n                return this;\n            },\n            trigger: function (methodName, event) {\n                var observers = this._observers;\n                var observer;\n                var idx;\n                if (observers && !this._suspended) {\n                    for (idx = 0; idx < observers.length; idx++) {\n                        observer = observers[idx];\n                        if (observer[methodName]) {\n                            observer[methodName](event);\n                        }\n                    }\n                }\n                return this;\n            },\n            optionsChange: function (e) {\n                e = e || {};\n                e.element = this;\n                this.trigger('optionsChange', e);\n            },\n            geometryChange: function () {\n                this.trigger('geometryChange', { element: this });\n            },\n            suspend: function () {\n                this._suspended = (this._suspended || 0) + 1;\n                return this;\n            },\n            resume: function () {\n                this._suspended = math.max((this._suspended || 0) - 1, 0);\n                return this;\n            },\n            _observerField: function (field, value) {\n                if (this[field]) {\n                    this[field].removeObserver(this);\n                }\n                this[field] = value;\n                value.addObserver(this);\n            }\n        };\n        deepExtend(kendo, { mixins: { ObserversMixin: ObserversMixin } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/geometry', [\n        'util/main',\n        'mixins/observers'\n    ], f);\n}(function () {\n    (function () {\n        var math = Math, pow = math.pow, kendo = window.kendo, Class = kendo.Class, deepExtend = kendo.deepExtend, ObserversMixin = kendo.mixins.ObserversMixin, util = kendo.util, defined = util.defined, rad = util.rad, deg = util.deg, round = util.round;\n        var PI_DIV_2 = math.PI / 2, MIN_NUM = util.MIN_NUM, MAX_NUM = util.MAX_NUM, PRECISION = 10;\n        var Point = Class.extend({\n            init: function (x, y) {\n                this.x = x || 0;\n                this.y = y || 0;\n            },\n            equals: function (other) {\n                return other && other.x === this.x && other.y === this.y;\n            },\n            clone: function () {\n                return new Point(this.x, this.y);\n            },\n            rotate: function (angle, origin) {\n                return this.transform(transform().rotate(angle, origin));\n            },\n            translate: function (x, y) {\n                this.x += x;\n                this.y += y;\n                this.geometryChange();\n                return this;\n            },\n            translateWith: function (point) {\n                return this.translate(point.x, point.y);\n            },\n            move: function (x, y) {\n                this.x = this.y = 0;\n                return this.translate(x, y);\n            },\n            scale: function (scaleX, scaleY) {\n                if (!defined(scaleY)) {\n                    scaleY = scaleX;\n                }\n                this.x *= scaleX;\n                this.y *= scaleY;\n                this.geometryChange();\n                return this;\n            },\n            scaleCopy: function (scaleX, scaleY) {\n                return this.clone().scale(scaleX, scaleY);\n            },\n            transform: function (transformation) {\n                var mx = toMatrix(transformation), x = this.x, y = this.y;\n                this.x = mx.a * x + mx.c * y + mx.e;\n                this.y = mx.b * x + mx.d * y + mx.f;\n                this.geometryChange();\n                return this;\n            },\n            transformCopy: function (transformation) {\n                var point = this.clone();\n                if (transformation) {\n                    point.transform(transformation);\n                }\n                return point;\n            },\n            distanceTo: function (point) {\n                var dx = this.x - point.x;\n                var dy = this.y - point.y;\n                return math.sqrt(dx * dx + dy * dy);\n            },\n            round: function (digits) {\n                this.x = round(this.x, digits);\n                this.y = round(this.y, digits);\n                this.geometryChange();\n                return this;\n            },\n            toArray: function (digits) {\n                var doRound = defined(digits);\n                var x = doRound ? round(this.x, digits) : this.x;\n                var y = doRound ? round(this.y, digits) : this.y;\n                return [\n                    x,\n                    y\n                ];\n            }\n        });\n        defineAccessors(Point.fn, [\n            'x',\n            'y'\n        ]);\n        deepExtend(Point.fn, ObserversMixin);\n        Point.fn.toString = function (digits, separator) {\n            var x = this.x, y = this.y;\n            if (defined(digits)) {\n                x = round(x, digits);\n                y = round(y, digits);\n            }\n            separator = separator || ' ';\n            return x + separator + y;\n        };\n        Point.create = function (arg0, arg1) {\n            if (defined(arg0)) {\n                if (arg0 instanceof Point) {\n                    return arg0;\n                } else if (arguments.length === 1 && arg0.length === 2) {\n                    return new Point(arg0[0], arg0[1]);\n                } else {\n                    return new Point(arg0, arg1);\n                }\n            }\n        };\n        Point.min = function () {\n            var minX = util.MAX_NUM;\n            var minY = util.MAX_NUM;\n            for (var i = 0; i < arguments.length; i++) {\n                var pt = arguments[i];\n                minX = math.min(pt.x, minX);\n                minY = math.min(pt.y, minY);\n            }\n            return new Point(minX, minY);\n        };\n        Point.max = function () {\n            var maxX = util.MIN_NUM;\n            var maxY = util.MIN_NUM;\n            for (var i = 0; i < arguments.length; i++) {\n                var pt = arguments[i];\n                maxX = math.max(pt.x, maxX);\n                maxY = math.max(pt.y, maxY);\n            }\n            return new Point(maxX, maxY);\n        };\n        Point.minPoint = function () {\n            return new Point(MIN_NUM, MIN_NUM);\n        };\n        Point.maxPoint = function () {\n            return new Point(MAX_NUM, MAX_NUM);\n        };\n        Point.ZERO = new Point(0, 0);\n        var Size = Class.extend({\n            init: function (width, height) {\n                this.width = width || 0;\n                this.height = height || 0;\n            },\n            equals: function (other) {\n                return other && other.width === this.width && other.height === this.height;\n            },\n            clone: function () {\n                return new Size(this.width, this.height);\n            },\n            toArray: function (digits) {\n                var doRound = defined(digits);\n                var width = doRound ? round(this.width, digits) : this.width;\n                var height = doRound ? round(this.height, digits) : this.height;\n                return [\n                    width,\n                    height\n                ];\n            }\n        });\n        defineAccessors(Size.fn, [\n            'width',\n            'height'\n        ]);\n        deepExtend(Size.fn, ObserversMixin);\n        Size.create = function (arg0, arg1) {\n            if (defined(arg0)) {\n                if (arg0 instanceof Size) {\n                    return arg0;\n                } else if (arguments.length === 1 && arg0.length === 2) {\n                    return new Size(arg0[0], arg0[1]);\n                } else {\n                    return new Size(arg0, arg1);\n                }\n            }\n        };\n        Size.ZERO = new Size(0, 0);\n        var Rect = Class.extend({\n            init: function (origin, size) {\n                this.setOrigin(origin || new Point());\n                this.setSize(size || new Size());\n            },\n            clone: function () {\n                return new Rect(this.origin.clone(), this.size.clone());\n            },\n            equals: function (other) {\n                return other && other.origin.equals(this.origin) && other.size.equals(this.size);\n            },\n            setOrigin: function (value) {\n                this._observerField('origin', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getOrigin: function () {\n                return this.origin;\n            },\n            setSize: function (value) {\n                this._observerField('size', Size.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getSize: function () {\n                return this.size;\n            },\n            width: function () {\n                return this.size.width;\n            },\n            height: function () {\n                return this.size.height;\n            },\n            topLeft: function () {\n                return this.origin.clone();\n            },\n            bottomRight: function () {\n                return this.origin.clone().translate(this.width(), this.height());\n            },\n            topRight: function () {\n                return this.origin.clone().translate(this.width(), 0);\n            },\n            bottomLeft: function () {\n                return this.origin.clone().translate(0, this.height());\n            },\n            center: function () {\n                return this.origin.clone().translate(this.width() / 2, this.height() / 2);\n            },\n            bbox: function (matrix) {\n                var tl = this.topLeft().transformCopy(matrix);\n                var tr = this.topRight().transformCopy(matrix);\n                var br = this.bottomRight().transformCopy(matrix);\n                var bl = this.bottomLeft().transformCopy(matrix);\n                return Rect.fromPoints(tl, tr, br, bl);\n            },\n            transformCopy: function (m) {\n                return Rect.fromPoints(this.topLeft().transform(m), this.bottomRight().transform(m));\n            },\n            expand: function (x, y) {\n                if (!defined(y)) {\n                    y = x;\n                }\n                this.size.width += 2 * x;\n                this.size.height += 2 * y;\n                this.origin.translate(-x, -y);\n                return this;\n            },\n            expandCopy: function (x, y) {\n                return this.clone().expand(x, y);\n            },\n            containsPoint: function (point) {\n                var origin = this.origin;\n                var bottomRight = this.bottomRight();\n                return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);\n            },\n            _isOnPath: function (point, width) {\n                var rectOuter = this.expandCopy(width, width);\n                var rectInner = this.expandCopy(-width, -width);\n                return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);\n            }\n        });\n        deepExtend(Rect.fn, ObserversMixin);\n        Rect.fromPoints = function () {\n            var topLeft = Point.min.apply(this, arguments);\n            var bottomRight = Point.max.apply(this, arguments);\n            var size = new Size(bottomRight.x - topLeft.x, bottomRight.y - topLeft.y);\n            return new Rect(topLeft, size);\n        };\n        Rect.union = function (a, b) {\n            return Rect.fromPoints(Point.min(a.topLeft(), b.topLeft()), Point.max(a.bottomRight(), b.bottomRight()));\n        };\n        Rect.intersect = function (a, b) {\n            a = {\n                left: a.topLeft().x,\n                top: a.topLeft().y,\n                right: a.bottomRight().x,\n                bottom: a.bottomRight().y\n            };\n            b = {\n                left: b.topLeft().x,\n                top: b.topLeft().y,\n                right: b.bottomRight().x,\n                bottom: b.bottomRight().y\n            };\n            if (a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom) {\n                return Rect.fromPoints(new Point(math.max(a.left, b.left), math.max(a.top, b.top)), new Point(math.min(a.right, b.right), math.min(a.bottom, b.bottom)));\n            }\n        };\n        var Circle = Class.extend({\n            init: function (center, radius) {\n                this.setCenter(center || new Point());\n                this.setRadius(radius || 0);\n            },\n            setCenter: function (value) {\n                this._observerField('center', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getCenter: function () {\n                return this.center;\n            },\n            equals: function (other) {\n                return other && other.center.equals(this.center) && other.radius === this.radius;\n            },\n            clone: function () {\n                return new Circle(this.center.clone(), this.radius);\n            },\n            pointAt: function (angle) {\n                return this._pointAt(rad(angle));\n            },\n            bbox: function (matrix) {\n                var minPoint = Point.maxPoint();\n                var maxPoint = Point.minPoint();\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radius, this.radius, matrix);\n                for (var i = 0; i < 4; i++) {\n                    var currentPointX = this._pointAt(extremeAngles.x + i * PI_DIV_2).transformCopy(matrix);\n                    var currentPointY = this._pointAt(extremeAngles.y + i * PI_DIV_2).transformCopy(matrix);\n                    var currentPoint = new Point(currentPointX.x, currentPointY.y);\n                    minPoint = Point.min(minPoint, currentPoint);\n                    maxPoint = Point.max(maxPoint, currentPoint);\n                }\n                return Rect.fromPoints(minPoint, maxPoint);\n            },\n            _pointAt: function (angle) {\n                var c = this.center;\n                var r = this.radius;\n                return new Point(c.x - r * math.cos(angle), c.y - r * math.sin(angle));\n            },\n            containsPoint: function (point) {\n                var center = this.center;\n                var inCircle = math.pow(point.x - center.x, 2) + math.pow(point.y - center.y, 2) <= math.pow(this.radius, 2);\n                return inCircle;\n            },\n            _isOnPath: function (point, width) {\n                var center = this.center;\n                var radius = this.radius;\n                var pointDistance = center.distanceTo(point);\n                return radius - width <= pointDistance && pointDistance <= radius + width;\n            }\n        });\n        defineAccessors(Circle.fn, ['radius']);\n        deepExtend(Circle.fn, ObserversMixin);\n        var Arc = Class.extend({\n            init: function (center, options) {\n                this.setCenter(center || new Point());\n                options = options || {};\n                this.radiusX = options.radiusX;\n                this.radiusY = options.radiusY || options.radiusX;\n                this.startAngle = options.startAngle;\n                this.endAngle = options.endAngle;\n                this.anticlockwise = options.anticlockwise || false;\n            },\n            clone: function () {\n                return new Arc(this.center, {\n                    radiusX: this.radiusX,\n                    radiusY: this.radiusY,\n                    startAngle: this.startAngle,\n                    endAngle: this.endAngle,\n                    anticlockwise: this.anticlockwise\n                });\n            },\n            setCenter: function (value) {\n                this._observerField('center', Point.create(value));\n                this.geometryChange();\n                return this;\n            },\n            getCenter: function () {\n                return this.center;\n            },\n            MAX_INTERVAL: 45,\n            pointAt: function (angle) {\n                var center = this.center;\n                var radian = rad(angle);\n                return new Point(center.x + this.radiusX * math.cos(radian), center.y + this.radiusY * math.sin(radian));\n            },\n            curvePoints: function () {\n                var startAngle = this.startAngle;\n                var dir = this.anticlockwise ? -1 : 1;\n                var curvePoints = [this.pointAt(startAngle)];\n                var currentAngle = startAngle;\n                var interval = this._arcInterval();\n                var intervalAngle = interval.endAngle - interval.startAngle;\n                var subIntervalsCount = math.ceil(intervalAngle / this.MAX_INTERVAL);\n                var subIntervalAngle = intervalAngle / subIntervalsCount;\n                for (var i = 1; i <= subIntervalsCount; i++) {\n                    var nextAngle = currentAngle + dir * subIntervalAngle;\n                    var points = this._intervalCurvePoints(currentAngle, nextAngle);\n                    curvePoints.push(points.cp1, points.cp2, points.p2);\n                    currentAngle = nextAngle;\n                }\n                return curvePoints;\n            },\n            bbox: function (matrix) {\n                var arc = this;\n                var interval = arc._arcInterval();\n                var startAngle = interval.startAngle;\n                var endAngle = interval.endAngle;\n                var extremeAngles = ellipseExtremeAngles(this.center, this.radiusX, this.radiusY, matrix);\n                var extremeX = deg(extremeAngles.x);\n                var extremeY = deg(extremeAngles.y);\n                var currentPoint = arc.pointAt(startAngle).transformCopy(matrix);\n                var endPoint = arc.pointAt(endAngle).transformCopy(matrix);\n                var minPoint = Point.min(currentPoint, endPoint);\n                var maxPoint = Point.max(currentPoint, endPoint);\n                var currentAngleX = bboxStartAngle(extremeX, startAngle);\n                var currentAngleY = bboxStartAngle(extremeY, startAngle);\n                while (currentAngleX < endAngle || currentAngleY < endAngle) {\n                    var currentPointX;\n                    if (currentAngleX < endAngle) {\n                        currentPointX = arc.pointAt(currentAngleX).transformCopy(matrix);\n                        currentAngleX += 90;\n                    }\n                    var currentPointY;\n                    if (currentAngleY < endAngle) {\n                        currentPointY = arc.pointAt(currentAngleY).transformCopy(matrix);\n                        currentAngleY += 90;\n                    }\n                    currentPoint = new Point(currentPointX.x, currentPointY.y);\n                    minPoint = Point.min(minPoint, currentPoint);\n                    maxPoint = Point.max(maxPoint, currentPoint);\n                }\n                return Rect.fromPoints(minPoint, maxPoint);\n            },\n            _arcInterval: function () {\n                var startAngle = this.startAngle;\n                var endAngle = this.endAngle;\n                var anticlockwise = this.anticlockwise;\n                if (anticlockwise) {\n                    var oldStart = startAngle;\n                    startAngle = endAngle;\n                    endAngle = oldStart;\n                }\n                if (startAngle > endAngle || anticlockwise && startAngle === endAngle) {\n                    endAngle += 360;\n                }\n                return {\n                    startAngle: startAngle,\n                    endAngle: endAngle\n                };\n            },\n            _intervalCurvePoints: function (startAngle, endAngle) {\n                var arc = this;\n                var p1 = arc.pointAt(startAngle);\n                var p2 = arc.pointAt(endAngle);\n                var p1Derivative = arc._derivativeAt(startAngle);\n                var p2Derivative = arc._derivativeAt(endAngle);\n                var t = (rad(endAngle) - rad(startAngle)) / 3;\n                var cp1 = new Point(p1.x + t * p1Derivative.x, p1.y + t * p1Derivative.y);\n                var cp2 = new Point(p2.x - t * p2Derivative.x, p2.y - t * p2Derivative.y);\n                return {\n                    p1: p1,\n                    cp1: cp1,\n                    cp2: cp2,\n                    p2: p2\n                };\n            },\n            _derivativeAt: function (angle) {\n                var arc = this;\n                var radian = rad(angle);\n                return new Point(-arc.radiusX * math.sin(radian), arc.radiusY * math.cos(radian));\n            },\n            containsPoint: function (point) {\n                var interval = this._arcInterval();\n                var intervalAngle = interval.endAngle - interval.startAngle;\n                var center = this.center;\n                var distance = center.distanceTo(point);\n                var angleRad = math.atan2(point.y - center.y, point.x - center.x);\n                var pointRadius = this.radiusX * this.radiusY / math.sqrt(math.pow(this.radiusX, 2) * math.pow(math.sin(angleRad), 2) + math.pow(this.radiusY, 2) * math.pow(math.cos(angleRad), 2));\n                var startPoint = this.pointAt(this.startAngle).round(PRECISION);\n                var endPoint = this.pointAt(this.endAngle).round(PRECISION);\n                var intersection = lineIntersection(center, point.round(PRECISION), startPoint, endPoint);\n                var containsPoint;\n                if (intervalAngle < 180) {\n                    containsPoint = intersection && closeOrLess(center.distanceTo(intersection), distance) && closeOrLess(distance, pointRadius);\n                } else {\n                    var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\n                    if (angle != 360) {\n                        angle = (360 + angle) % 360;\n                    }\n                    var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n                    containsPoint = inAngleRange && closeOrLess(distance, pointRadius) || !inAngleRange && (!intersection || intersection.equals(point));\n                }\n                return containsPoint;\n            },\n            _isOnPath: function (point, width) {\n                var interval = this._arcInterval();\n                var center = this.center;\n                var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);\n                if (angle != 360) {\n                    angle = (360 + angle) % 360;\n                }\n                var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;\n                return inAngleRange && this.pointAt(angle).distanceTo(point) <= width;\n            }\n        });\n        defineAccessors(Arc.fn, [\n            'radiusX',\n            'radiusY',\n            'startAngle',\n            'endAngle',\n            'anticlockwise'\n        ]);\n        deepExtend(Arc.fn, ObserversMixin);\n        Arc.fromPoints = function (start, end, rx, ry, largeArc, swipe) {\n            var arcParameters = normalizeArcParameters(start.x, start.y, end.x, end.y, rx, ry, largeArc, swipe);\n            return new Arc(arcParameters.center, {\n                startAngle: arcParameters.startAngle,\n                endAngle: arcParameters.endAngle,\n                radiusX: rx,\n                radiusY: ry,\n                anticlockwise: swipe === 0\n            });\n        };\n        var Matrix = Class.extend({\n            init: function (a, b, c, d, e, f) {\n                this.a = a || 0;\n                this.b = b || 0;\n                this.c = c || 0;\n                this.d = d || 0;\n                this.e = e || 0;\n                this.f = f || 0;\n            },\n            multiplyCopy: function (m) {\n                return new Matrix(this.a * m.a + this.c * m.b, this.b * m.a + this.d * m.b, this.a * m.c + this.c * m.d, this.b * m.c + this.d * m.d, this.a * m.e + this.c * m.f + this.e, this.b * m.e + this.d * m.f + this.f);\n            },\n            invert: function () {\n                var a = this.a, b = this.b;\n                var d = this.c, e = this.d;\n                var g = this.e, h = this.f;\n                var det = a * e - b * d;\n                if (det === 0) {\n                    return null;\n                }\n                return new Matrix(e / det, -b / det, -d / det, a / det, (d * h - e * g) / det, (b * g - a * h) / det);\n            },\n            clone: function () {\n                return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n            },\n            equals: function (other) {\n                if (!other) {\n                    return false;\n                }\n                return this.a === other.a && this.b === other.b && this.c === other.c && this.d === other.d && this.e === other.e && this.f === other.f;\n            },\n            round: function (precision) {\n                this.a = round(this.a, precision);\n                this.b = round(this.b, precision);\n                this.c = round(this.c, precision);\n                this.d = round(this.d, precision);\n                this.e = round(this.e, precision);\n                this.f = round(this.f, precision);\n                return this;\n            },\n            toArray: function (precision) {\n                var arr = [\n                    this.a,\n                    this.b,\n                    this.c,\n                    this.d,\n                    this.e,\n                    this.f\n                ];\n                if (defined(precision)) {\n                    for (var i = 0; i < arr.length; i++) {\n                        arr[i] = round(arr[i], precision);\n                    }\n                }\n                return arr;\n            }\n        });\n        Matrix.fn.toString = function (precision, separator) {\n            return this.toArray(precision).join(separator || ',');\n        };\n        Matrix.translate = function (x, y) {\n            return new Matrix(1, 0, 0, 1, x, y);\n        };\n        Matrix.unit = function () {\n            return new Matrix(1, 0, 0, 1, 0, 0);\n        };\n        Matrix.rotate = function (angle, x, y) {\n            var m = new Matrix();\n            m.a = math.cos(rad(angle));\n            m.b = math.sin(rad(angle));\n            m.c = -m.b;\n            m.d = m.a;\n            m.e = x - x * m.a + y * m.b || 0;\n            m.f = y - y * m.a - x * m.b || 0;\n            return m;\n        };\n        Matrix.scale = function (scaleX, scaleY) {\n            return new Matrix(scaleX, 0, 0, scaleY, 0, 0);\n        };\n        Matrix.IDENTITY = Matrix.unit();\n        var Transformation = Class.extend({\n            init: function (matrix) {\n                this._matrix = matrix || Matrix.unit();\n            },\n            clone: function () {\n                return new Transformation(this._matrix.clone());\n            },\n            equals: function (other) {\n                return other && other._matrix.equals(this._matrix);\n            },\n            _optionsChange: function () {\n                this.optionsChange({\n                    field: 'transform',\n                    value: this\n                });\n            },\n            translate: function (x, y) {\n                this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));\n                this._optionsChange();\n                return this;\n            },\n            scale: function (scaleX, scaleY, origin) {\n                if (!defined(scaleY)) {\n                    scaleY = scaleX;\n                }\n                if (origin) {\n                    origin = Point.create(origin);\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(origin.x, origin.y));\n                }\n                this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));\n                if (origin) {\n                    this._matrix = this._matrix.multiplyCopy(Matrix.translate(-origin.x, -origin.y));\n                }\n                this._optionsChange();\n                return this;\n            },\n            rotate: function (angle, origin) {\n                origin = Point.create(origin) || Point.ZERO;\n                this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, origin.x, origin.y));\n                this._optionsChange();\n                return this;\n            },\n            multiply: function (transformation) {\n                var matrix = toMatrix(transformation);\n                this._matrix = this._matrix.multiplyCopy(matrix);\n                this._optionsChange();\n                return this;\n            },\n            matrix: function (matrix) {\n                if (matrix) {\n                    this._matrix = matrix;\n                    this._optionsChange();\n                    return this;\n                } else {\n                    return this._matrix;\n                }\n            }\n        });\n        deepExtend(Transformation.fn, ObserversMixin);\n        function transform(matrix) {\n            if (matrix === null) {\n                return null;\n            }\n            if (matrix instanceof Transformation) {\n                return matrix;\n            }\n            return new Transformation(matrix);\n        }\n        function toMatrix(value) {\n            if (value && kendo.isFunction(value.matrix)) {\n                return value.matrix();\n            }\n            return value;\n        }\n        function ellipseExtremeAngles(center, rx, ry, matrix) {\n            var extremeX = 0, extremeY = 0;\n            if (matrix) {\n                extremeX = math.atan2(matrix.c * ry, matrix.a * rx);\n                if (matrix.b !== 0) {\n                    extremeY = math.atan2(matrix.d * ry, matrix.b * rx);\n                }\n            }\n            return {\n                x: extremeX,\n                y: extremeY\n            };\n        }\n        function bboxStartAngle(angle, start) {\n            while (angle < start) {\n                angle += 90;\n            }\n            return angle;\n        }\n        function defineAccessors(fn, fields) {\n            for (var i = 0; i < fields.length; i++) {\n                var name = fields[i];\n                var capitalized = name.charAt(0).toUpperCase() + name.substring(1, name.length);\n                fn['set' + capitalized] = setAccessor(name);\n                fn['get' + capitalized] = getAccessor(name);\n            }\n        }\n        function setAccessor(field) {\n            return function (value) {\n                if (this[field] !== value) {\n                    this[field] = value;\n                    this.geometryChange();\n                }\n                return this;\n            };\n        }\n        function getAccessor(field) {\n            return function () {\n                return this[field];\n            };\n        }\n        function elipseAngle(start, end, swipe) {\n            if (start > end) {\n                end += 360;\n            }\n            var alpha = math.abs(end - start);\n            if (!swipe) {\n                alpha = 360 - alpha;\n            }\n            return alpha;\n        }\n        function calculateAngle(cx, cy, rx, ry, x, y) {\n            var cos = round((x - cx) / rx, 3);\n            var sin = round((y - cy) / ry, 3);\n            return round(deg(math.atan2(sin, cos)));\n        }\n        function normalizeArcParameters(x1, y1, x2, y2, rx, ry, largeArc, swipe) {\n            var cx, cy;\n            var cx1, cy1;\n            var a, b, c, sqrt;\n            if (y1 !== y2) {\n                var x21 = x2 - x1;\n                var y21 = y2 - y1;\n                var rx2 = pow(rx, 2), ry2 = pow(ry, 2);\n                var k = (ry2 * x21 * (x1 + x2) + rx2 * y21 * (y1 + y2)) / (2 * rx2 * y21);\n                var yk2 = k - y2;\n                var l = -(x21 * ry2) / (rx2 * y21);\n                a = 1 / rx2 + pow(l, 2) / ry2;\n                b = 2 * (l * yk2 / ry2 - x2 / rx2);\n                c = pow(x2, 2) / rx2 + pow(yk2, 2) / ry2 - 1;\n                sqrt = math.sqrt(pow(b, 2) - 4 * a * c);\n                cx = (-b - sqrt) / (2 * a);\n                cy = k + l * cx;\n                cx1 = (-b + sqrt) / (2 * a);\n                cy1 = k + l * cx1;\n            } else if (x1 !== x2) {\n                b = -2 * y2;\n                c = pow((x2 - x1) * ry / (2 * rx), 2) + pow(y2, 2) - pow(ry, 2);\n                sqrt = math.sqrt(pow(b, 2) - 4 * c);\n                cx = cx1 = (x1 + x2) / 2;\n                cy = (-b - sqrt) / 2;\n                cy1 = (-b + sqrt) / 2;\n            } else {\n                return false;\n            }\n            var start = calculateAngle(cx, cy, rx, ry, x1, y1);\n            var end = calculateAngle(cx, cy, rx, ry, x2, y2);\n            var alpha = elipseAngle(start, end, swipe);\n            if (largeArc && alpha <= 180 || !largeArc && alpha > 180) {\n                cx = cx1;\n                cy = cy1;\n                start = calculateAngle(cx, cy, rx, ry, x1, y1);\n                end = calculateAngle(cx, cy, rx, ry, x2, y2);\n            }\n            return {\n                center: new Point(cx, cy),\n                startAngle: start,\n                endAngle: end\n            };\n        }\n        var ComplexNumber = function (real, img) {\n            this.real = real || 0;\n            this.img = img || 0;\n        };\n        ComplexNumber.fn = ComplexNumber.prototype = {\n            add: function (cNumber) {\n                return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));\n            },\n            addConstant: function (value) {\n                return new ComplexNumber(this.real + value, this.img);\n            },\n            negate: function () {\n                return new ComplexNumber(-this.real, -this.img);\n            },\n            multiply: function (cNumber) {\n                return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img, this.real * cNumber.img + this.img * cNumber.real);\n            },\n            multiplyConstant: function (value) {\n                return new ComplexNumber(this.real * value, this.img * value);\n            },\n            nthRoot: function (n) {\n                var rad = math.atan2(this.img, this.real), r = math.sqrt(math.pow(this.img, 2) + math.pow(this.real, 2)), nthR = math.pow(r, 1 / n);\n                return new ComplexNumber(nthR * math.cos(rad / n), nthR * math.sin(rad / n));\n            },\n            equals: function (cNumber) {\n                return this.real === cNumber.real && this.img === cNumber.img;\n            },\n            isReal: function () {\n                return this.img === 0;\n            }\n        };\n        function solveCubic(a, b, c, d) {\n            if (a === 0) {\n                return solveQuadratic(b, c, d);\n            }\n            var p = (3 * a * c - math.pow(b, 2)) / (3 * math.pow(a, 2)), q = (2 * math.pow(b, 3) - 9 * a * b * c + 27 * math.pow(a, 2) * d) / (27 * math.pow(a, 3)), Q = math.pow(p / 3, 3) + math.pow(q / 2, 2), i = new ComplexNumber(0, 1), b3a = -b / (3 * a), x1, x2, y1, y2, y3, result = [], z1, z2;\n            if (Q < 0) {\n                x1 = new ComplexNumber(-q / 2, math.sqrt(-Q)).nthRoot(3);\n                x2 = new ComplexNumber(-q / 2, -math.sqrt(-Q)).nthRoot(3);\n            } else {\n                x1 = -q / 2 + math.sqrt(Q);\n                x1 = new ComplexNumber(numberSign(x1) * math.pow(math.abs(x1), 1 / 3));\n                x2 = -q / 2 - math.sqrt(Q);\n                x2 = new ComplexNumber(numberSign(x2) * math.pow(math.abs(x2), 1 / 3));\n            }\n            y1 = x1.add(x2);\n            z1 = x1.add(x2).multiplyConstant(-1 / 2);\n            z2 = x1.add(x2.negate()).multiplyConstant(math.sqrt(3) / 2);\n            y2 = z1.add(i.multiply(z2));\n            y3 = z1.add(i.negate().multiply(z2));\n            if (y1.isReal()) {\n                result.push(round(y1.real + b3a, PRECISION));\n            }\n            if (y2.isReal()) {\n                result.push(round(y2.real + b3a, PRECISION));\n            }\n            if (y3.isReal()) {\n                result.push(round(y3.real + b3a, PRECISION));\n            }\n            return result;\n        }\n        function toCubicPolynomial(points, field) {\n            return [\n                -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],\n                3 * (points[0][field] - 2 * points[1][field] + points[2][field]),\n                3 * (-points[0][field] + points[1][field]),\n                points[0][field]\n            ];\n        }\n        function calculateCurveAt(t, field, points) {\n            var t1 = 1 - t;\n            return math.pow(t1, 3) * points[0][field] + 3 * math.pow(t1, 2) * t * points[1][field] + 3 * math.pow(t, 2) * t1 * points[2][field] + math.pow(t, 3) * points[3][field];\n        }\n        function curveIntersectionsCount(points, point, bbox) {\n            var polynomial = toCubicPolynomial(points, 'x');\n            var roots = solveCubic(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);\n            var count = 0;\n            var rayIntersection;\n            var intersectsRay;\n            for (var i = 0; i < roots.length; i++) {\n                rayIntersection = calculateCurveAt(roots[i], 'y', points);\n                intersectsRay = close(rayIntersection, point.y) || rayIntersection > point.y;\n                if (intersectsRay && ((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x || 0 < roots[i] && roots[i] < 1)) {\n                    count++;\n                }\n            }\n            return count;\n        }\n        function lineIntersectionsCount(a, b, point) {\n            var intersects;\n            if (a.x != b.x) {\n                var minX = math.min(a.x, b.x), maxX = math.max(a.x, b.x), minY = math.min(a.y, b.y), maxY = math.max(a.y, b.y), inRange = minX <= point.x && point.x < maxX;\n                if (minY == maxY) {\n                    intersects = point.y <= minY && inRange;\n                } else {\n                    intersects = inRange && (maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x) / (maxX - minX) + minY - point.y >= 0;\n                }\n            }\n            return intersects ? 1 : 0;\n        }\n        function lineIntersection(p0, p1, p2, p3) {\n            var s1x = p1.x - p0.x;\n            var s2x = p3.x - p2.x;\n            var s1y = p1.y - p0.y;\n            var s2y = p3.y - p2.y;\n            var nx = p0.x - p2.x;\n            var ny = p0.y - p2.y;\n            var d = s1x * s2y - s2x * s1y;\n            var s = (s1x * ny - s1y * nx) / d;\n            var t = (s2x * ny - s2y * nx) / d;\n            if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {\n                return new Point(p0.x + t * s1x, p0.y + t * s1y);\n            }\n        }\n        function close(a, b, tolerance) {\n            return round(math.abs(a - b), tolerance || PRECISION) === 0;\n        }\n        function closeOrLess(a, b, tolerance) {\n            return a < b || close(a, b, tolerance);\n        }\n        function numberSign(x) {\n            return x < 0 ? -1 : 1;\n        }\n        function isOutOfEndPoint(endPoint, controlPoint, point) {\n            var angle = util.deg(math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));\n            var rotatedPoint = point.transformCopy(transform().rotate(-angle, endPoint));\n            return rotatedPoint.x < endPoint.x;\n        }\n        function hasRootsInRange(points, point, field, rootField, range) {\n            var polynomial = toCubicPolynomial(points, rootField);\n            var roots = solveCubic(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);\n            var intersection;\n            for (var idx = 0; idx < roots.length; idx++) {\n                if (0 <= roots[idx] && roots[idx] <= 1) {\n                    intersection = calculateCurveAt(roots[idx], field, points);\n                    if (math.abs(intersection - point[field]) <= range) {\n                        return true;\n                    }\n                }\n            }\n        }\n        function solveQuadratic(a, b, c) {\n            var squareRoot = math.sqrt(math.pow(b, 2) - 4 * a * c);\n            return [\n                (-b + squareRoot) / (2 * a),\n                (-b - squareRoot) / (2 * a)\n            ];\n        }\n        deepExtend(kendo, {\n            geometry: {\n                Arc: Arc,\n                Circle: Circle,\n                curveIntersectionsCount: curveIntersectionsCount,\n                lineIntersectionsCount: lineIntersectionsCount,\n                Matrix: Matrix,\n                Point: Point,\n                Rect: Rect,\n                Size: Size,\n                Transformation: Transformation,\n                transform: transform,\n                toMatrix: toMatrix,\n                isOutOfEndPoint: isOutOfEndPoint,\n                hasRootsInRange: hasRootsInRange\n            }\n        });\n        kendo.dataviz.geometry = kendo.geometry;\n    }());\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/core', [\n        'drawing/geometry',\n        'kendo.popup'\n    ], f);\n}(function () {\n    (function ($) {\n        var noop = $.noop, toString = Object.prototype.toString, kendo = window.kendo, Class = kendo.Class, Widget = kendo.ui.Widget, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, limitValue = util.limitValue, g = kendo.geometry, proxy = $.proxy, NS = '.kendo', TOOLTIP_TEMPLATE = '<div class=\"k-tooltip\">' + '<div class=\"k-tooltip-content\"></div>' + '</div>', TOOLTIP_CLOSE_TEMPLATE = '<div class=\"k-tooltip-button\"><a href=\"\\\\#\" class=\"k-icon k-i-close\">close</a></div>';\n        var Surface = Widget.extend({\n            init: function (element, options) {\n                this.options = deepExtend({}, this.options, options);\n                Widget.fn.init.call(this, element, this.options);\n                this._click = this._handler('click');\n                this._mouseenter = this._handler('mouseenter');\n                this._mouseleave = this._handler('mouseleave');\n                this._mousemove = this._handler('mousemove');\n                this._visual = new kendo.drawing.Group();\n                if (this.options.width) {\n                    this.element.css('width', this.options.width);\n                }\n                if (this.options.height) {\n                    this.element.css('height', this.options.height);\n                }\n                this._enableTracking();\n            },\n            options: {\n                name: 'Surface',\n                tooltip: {}\n            },\n            events: [\n                'click',\n                'mouseenter',\n                'mouseleave',\n                'mousemove',\n                'resize',\n                'tooltipOpen',\n                'tooltipClose'\n            ],\n            draw: function (element) {\n                this._visual.children.push(element);\n            },\n            clear: function () {\n                this._visual.children = [];\n                this.hideTooltip();\n            },\n            destroy: function () {\n                this._visual = null;\n                if (this._tooltip) {\n                    this._tooltip.destroy();\n                    delete this._tooltip;\n                }\n                Widget.fn.destroy.call(this);\n            },\n            exportVisual: function () {\n                return this._visual;\n            },\n            getSize: function () {\n                return {\n                    width: this.element.width(),\n                    height: this.element.height()\n                };\n            },\n            setSize: function (size) {\n                this.element.css({\n                    width: size.width,\n                    height: size.height\n                });\n                this._size = size;\n                this._resize();\n            },\n            eventTarget: function (e) {\n                var domNode = $(e.touch ? e.touch.initialTouch : e.target);\n                var node;\n                while (!node && domNode.length > 0) {\n                    node = domNode[0]._kendoNode;\n                    if (domNode.is(this.element) || domNode.length === 0) {\n                        break;\n                    }\n                    domNode = domNode.parent();\n                }\n                if (node) {\n                    return node.srcElement;\n                }\n            },\n            showTooltip: function (shape, options) {\n                if (this._tooltip) {\n                    this._tooltip.show(shape, options);\n                }\n            },\n            hideTooltip: function () {\n                if (this._tooltip) {\n                    this._tooltip.hide();\n                }\n            },\n            suspendTracking: function () {\n                this._suspendedTracking = true;\n                this.hideTooltip();\n            },\n            resumeTracking: function () {\n                this._suspendedTracking = false;\n            },\n            _resize: noop,\n            _handler: function (event) {\n                var surface = this;\n                return function (e) {\n                    var node = surface.eventTarget(e);\n                    if (node && !surface._suspendedTracking) {\n                        surface.trigger(event, {\n                            element: node,\n                            originalEvent: e,\n                            type: event\n                        });\n                    }\n                };\n            },\n            _enableTracking: function () {\n                if (kendo.ui.Popup) {\n                    this._tooltip = new SurfaceTooltip(this, this.options.tooltip || {});\n                }\n            },\n            _elementOffset: function () {\n                var element = this.element;\n                var offset = element.offset();\n                var paddingLeft = parseInt(element.css('paddingLeft'), 10);\n                var paddingTop = parseInt(element.css('paddingTop'), 10);\n                return {\n                    left: offset.left + paddingLeft,\n                    top: offset.top + paddingTop\n                };\n            },\n            _surfacePoint: function (event) {\n                var offset = this._elementOffset();\n                var coord = eventCoordinates(event);\n                var x = coord.x - offset.left;\n                var y = coord.y - offset.top;\n                return new g.Point(x, y);\n            }\n        });\n        kendo.ui.plugin(Surface);\n        Surface.create = function (element, options) {\n            return SurfaceFactory.current.create(element, options);\n        };\n        var BaseNode = Class.extend({\n            init: function (srcElement) {\n                this.childNodes = [];\n                this.parent = null;\n                if (srcElement) {\n                    this.srcElement = srcElement;\n                    this.observe();\n                }\n            },\n            destroy: function () {\n                if (this.srcElement) {\n                    this.srcElement.removeObserver(this);\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    this.childNodes[i].destroy();\n                }\n                this.parent = null;\n            },\n            load: noop,\n            observe: function () {\n                if (this.srcElement) {\n                    this.srcElement.addObserver(this);\n                }\n            },\n            append: function (node) {\n                this.childNodes.push(node);\n                node.parent = this;\n            },\n            insertAt: function (node, pos) {\n                this.childNodes.splice(pos, 0, node);\n                node.parent = this;\n            },\n            remove: function (index, count) {\n                var end = index + count;\n                for (var i = index; i < end; i++) {\n                    this.childNodes[i].removeSelf();\n                }\n                this.childNodes.splice(index, count);\n            },\n            removeSelf: function () {\n                this.clear();\n                this.destroy();\n            },\n            clear: function () {\n                this.remove(0, this.childNodes.length);\n            },\n            invalidate: function () {\n                if (this.parent) {\n                    this.parent.invalidate();\n                }\n            },\n            geometryChange: function () {\n                this.invalidate();\n            },\n            optionsChange: function () {\n                this.invalidate();\n            },\n            childrenChange: function (e) {\n                if (e.action === 'add') {\n                    this.load(e.items, e.index);\n                } else if (e.action === 'remove') {\n                    this.remove(e.index, e.items.length);\n                }\n                this.invalidate();\n            }\n        });\n        var OptionsStore = Class.extend({\n            init: function (options, prefix) {\n                var field, member;\n                this.prefix = prefix || '';\n                for (field in options) {\n                    member = options[field];\n                    member = this._wrap(member, field);\n                    this[field] = member;\n                }\n            },\n            get: function (field) {\n                return kendo.getter(field, true)(this);\n            },\n            set: function (field, value) {\n                var current = kendo.getter(field, true)(this);\n                if (current !== value) {\n                    var composite = this._set(field, this._wrap(value, field));\n                    if (!composite) {\n                        this.optionsChange({\n                            field: this.prefix + field,\n                            value: value\n                        });\n                    }\n                }\n            },\n            _set: function (field, value) {\n                var composite = field.indexOf('.') >= 0;\n                if (composite) {\n                    var parts = field.split('.'), path = '', obj;\n                    while (parts.length > 1) {\n                        path += parts.shift();\n                        obj = kendo.getter(path, true)(this);\n                        if (!obj) {\n                            obj = new OptionsStore({}, path + '.');\n                            obj.addObserver(this);\n                            this[path] = obj;\n                        }\n                        if (obj instanceof OptionsStore) {\n                            obj.set(parts.join('.'), value);\n                            return composite;\n                        }\n                        path += '.';\n                    }\n                }\n                this._clear(field);\n                kendo.setter(field)(this, value);\n                return composite;\n            },\n            _clear: function (field) {\n                var current = kendo.getter(field, true)(this);\n                if (current && current.removeObserver) {\n                    current.removeObserver(this);\n                }\n            },\n            _wrap: function (object, field) {\n                var type = toString.call(object);\n                if (object !== null && defined(object) && type === '[object Object]') {\n                    if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\n                        object = new OptionsStore(object, this.prefix + field + '.');\n                    }\n                    object.addObserver(this);\n                }\n                return object;\n            }\n        });\n        deepExtend(OptionsStore.fn, kendo.mixins.ObserversMixin);\n        var SurfaceFactory = function () {\n            this._items = [];\n        };\n        SurfaceFactory.prototype = {\n            register: function (name, type, order) {\n                var items = this._items, first = items[0], entry = {\n                        name: name,\n                        type: type,\n                        order: order\n                    };\n                if (!first || order < first.order) {\n                    items.unshift(entry);\n                } else {\n                    items.push(entry);\n                }\n            },\n            create: function (element, options) {\n                var items = this._items, match = items[0];\n                if (options && options.type) {\n                    var preferred = options.type.toLowerCase();\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].name === preferred) {\n                            match = items[i];\n                            break;\n                        }\n                    }\n                }\n                if (match) {\n                    return new match.type(element, options);\n                }\n                kendo.logToConsole('Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\\n' + '- The browser does not support SVG, VML and Canvas. User agent: ' + navigator.userAgent + '\\n' + '- The Kendo UI scripts are not fully loaded');\n            }\n        };\n        SurfaceFactory.current = new SurfaceFactory();\n        var SurfaceTooltip = Class.extend({\n            init: function (surface, options) {\n                this.element = $(TOOLTIP_TEMPLATE);\n                this.content = this.element.children('.k-tooltip-content');\n                options = options || {};\n                this.options = deepExtend({}, this.options, this._tooltipOptions(options));\n                this.popup = new kendo.ui.Popup(this.element, {\n                    appendTo: options.appendTo,\n                    animation: options.animation,\n                    copyAnchorStyles: false,\n                    collision: 'fit fit'\n                });\n                this._openPopupHandler = $.proxy(this._openPopup, this);\n                this.surface = surface;\n                this._bindEvents();\n            },\n            options: {\n                position: 'top',\n                showOn: 'mouseenter',\n                offset: 7,\n                autoHide: true,\n                hideDelay: 0,\n                showAfter: 100\n            },\n            _bindEvents: function () {\n                this._showHandler = proxy(this._showEvent, this);\n                this._surfaceLeaveHandler = proxy(this._surfaceLeave, this);\n                this._mouseleaveHandler = proxy(this._mouseleave, this);\n                this._mousemoveHandler = proxy(this._mousemove, this);\n                this.surface.bind('click', this._showHandler);\n                this.surface.bind('mouseenter', this._showHandler);\n                this.surface.bind('mouseleave', this._mouseleaveHandler);\n                this.surface.bind('mousemove', this._mousemoveHandler);\n                this.surface.element.on('mouseleave' + NS, this._surfaceLeaveHandler);\n                this.element.on('click' + NS, '.k-tooltip-button', proxy(this._hideClick, this));\n            },\n            destroy: function () {\n                var popup = this.popup;\n                this.surface.unbind('click', this._showHandler);\n                this.surface.unbind('mouseenter', this._showHandler);\n                this.surface.unbind('mouseleave', this._mouseleaveHandler);\n                this.surface.unbind('mousemove', this._mousemoveHandler);\n                this.surface.element.off('mouseleave' + NS, this._surfaceLeaveHandler);\n                this.element.off('click' + NS);\n                if (popup) {\n                    popup.destroy();\n                    delete this.popup;\n                }\n                clearTimeout(this._timeout);\n                delete this.popup;\n                delete this.element;\n                delete this.content;\n                delete this.surface;\n            },\n            _tooltipOptions: function (options) {\n                options = options || {};\n                return {\n                    position: options.position,\n                    showOn: options.showOn,\n                    offset: options.offset,\n                    autoHide: options.autoHide,\n                    width: options.width,\n                    height: options.height,\n                    content: options.content,\n                    shared: options.shared,\n                    hideDelay: options.hideDelay,\n                    showAfter: options.showAfter\n                };\n            },\n            _tooltipShape: function (shape) {\n                while (shape && !shape.options.tooltip) {\n                    shape = shape.parent;\n                }\n                return shape;\n            },\n            _updateContent: function (target, shape, options) {\n                var content = options.content;\n                if (kendo.isFunction(content)) {\n                    content = content({\n                        element: shape,\n                        target: target\n                    });\n                }\n                if (content) {\n                    this.content.html(content);\n                    return true;\n                }\n            },\n            _position: function (shape, options, elementSize, event) {\n                var position = options.position;\n                var tooltipOffset = options.offset || 0;\n                var surface = this.surface;\n                var offset = surface._elementOffset();\n                var size = surface.getSize();\n                var surfaceOffset = surface._offset;\n                var bbox = shape.bbox();\n                var width = elementSize.width;\n                var height = elementSize.height;\n                var left = 0, top = 0;\n                bbox.origin.translate(offset.left, offset.top);\n                if (surfaceOffset) {\n                    bbox.origin.translate(-surfaceOffset.x, -surfaceOffset.y);\n                }\n                if (position == 'cursor' && event) {\n                    var coord = eventCoordinates(event);\n                    left = coord.x - width / 2;\n                    top = coord.y - height - tooltipOffset;\n                } else if (position == 'left') {\n                    left = bbox.origin.x - width - tooltipOffset;\n                    top = bbox.center().y - height / 2;\n                } else if (position == 'right') {\n                    left = bbox.bottomRight().x + tooltipOffset;\n                    top = bbox.center().y - height / 2;\n                } else if (position == 'bottom') {\n                    left = bbox.center().x - width / 2;\n                    top = bbox.bottomRight().y + tooltipOffset;\n                } else {\n                    left = bbox.center().x - width / 2;\n                    top = bbox.origin.y - height - tooltipOffset;\n                }\n                return {\n                    left: limitValue(left, offset.left, offset.left + size.width),\n                    top: limitValue(top, offset.top, offset.top + size.height)\n                };\n            },\n            show: function (shape, options) {\n                this._show(shape, shape, deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip), options));\n            },\n            hide: function () {\n                var current = this._current;\n                delete this._current;\n                clearTimeout(this._showTimeout);\n                if (this.popup.visible() && current && !this.surface.trigger('tooltipClose', {\n                        element: current.shape,\n                        target: current.target,\n                        popup: this.popup\n                    })) {\n                    this.popup.close();\n                }\n            },\n            _hideClick: function (e) {\n                e.preventDefault();\n                this.hide();\n            },\n            _show: function (target, shape, options, event, delay) {\n                var current = this._current;\n                clearTimeout(this._timeout);\n                if (current && (current.shape === shape && options.shared || current.target === target)) {\n                    return;\n                }\n                clearTimeout(this._showTimeout);\n                if (!this.surface.trigger('tooltipOpen', {\n                        element: shape,\n                        target: target,\n                        popup: this.popup\n                    }) && this._updateContent(target, shape, options)) {\n                    this._autoHide(options);\n                    var elementSize = this._measure(options);\n                    var popup = this.popup;\n                    if (popup.visible()) {\n                        popup.close(true);\n                    }\n                    this._current = {\n                        options: options,\n                        elementSize: elementSize,\n                        shape: shape,\n                        target: target,\n                        position: this._position(options.shared ? shape : target, options, elementSize, event)\n                    };\n                    if (delay) {\n                        this._showTimeout = setTimeout(this._openPopupHandler, options.showAfter || 0);\n                    } else {\n                        this._openPopup();\n                    }\n                }\n            },\n            _openPopup: function () {\n                var current = this._current;\n                var position = current.position;\n                this.popup.open(position.left, position.top);\n            },\n            _autoHide: function (options) {\n                if (options.autoHide && this._closeButton) {\n                    this.element.removeClass('k-tooltip-closable');\n                    this._closeButton.remove();\n                    delete this._closeButton;\n                }\n                if (!options.autoHide && !this._closeButton) {\n                    this.element.addClass('k-tooltip-closable');\n                    this._closeButton = $(TOOLTIP_CLOSE_TEMPLATE).prependTo(this.element);\n                }\n            },\n            _showEvent: function (e) {\n                var shape = this._tooltipShape(e.element);\n                if (shape) {\n                    var options = deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip));\n                    if (options && options.showOn == e.type) {\n                        this._show(e.element, shape, options, e.originalEvent, true);\n                    }\n                }\n            },\n            _measure: function (options) {\n                var width, height;\n                this.element.css({\n                    width: 'auto',\n                    height: 'auto'\n                });\n                var visible = this.popup.visible();\n                if (!visible) {\n                    this.popup.wrapper.show();\n                }\n                this.element.css({\n                    width: defined(options.width) ? options.width : 'auto',\n                    height: defined(options.height) ? options.height : 'auto'\n                });\n                width = this.element.outerWidth();\n                height = this.element.outerHeight();\n                if (!visible) {\n                    this.popup.wrapper.hide();\n                }\n                return {\n                    width: width,\n                    height: height\n                };\n            },\n            _mouseleave: function (e) {\n                if (!this._popupRelatedTarget(e.originalEvent)) {\n                    var tooltip = this;\n                    var current = tooltip._current;\n                    if (current && current.options.autoHide) {\n                        tooltip._timeout = setTimeout(function () {\n                            clearTimeout(tooltip._showTimeout);\n                            tooltip.hide();\n                        }, current.options.hideDelay || 0);\n                    }\n                }\n            },\n            _mousemove: function (e) {\n                var current = this._current;\n                if (current && e.element) {\n                    var options = current.options;\n                    if (options.position == 'cursor') {\n                        var position = this._position(e.element, options, current.elementSize, e.originalEvent);\n                        current.position = position;\n                        this.popup.wrapper.css({\n                            left: position.left,\n                            top: position.top\n                        });\n                    }\n                }\n            },\n            _surfaceLeave: function (e) {\n                if (!this._popupRelatedTarget(e)) {\n                    clearTimeout(this._showTimeout);\n                    this.hide();\n                }\n            },\n            _popupRelatedTarget: function (e) {\n                return e.relatedTarget && $(e.relatedTarget).closest(this.popup.wrapper).length;\n            }\n        });\n        function eventCoordinates(event) {\n            var x, y;\n            if (event.touch) {\n                x = event.x.location;\n                y = event.y.location;\n            } else {\n                x = event.pageX || event.clientX || 0;\n                y = event.pageY || event.clientY || 0;\n            }\n            return {\n                x: x,\n                y: y\n            };\n        }\n        deepExtend(kendo, {\n            drawing: {\n                DASH_ARRAYS: {\n                    dot: [\n                        1.5,\n                        3.5\n                    ],\n                    dash: [\n                        4,\n                        3.5\n                    ],\n                    longdash: [\n                        8,\n                        3.5\n                    ],\n                    dashdot: [\n                        3.5,\n                        3.5,\n                        1.5,\n                        3.5\n                    ],\n                    longdashdot: [\n                        8,\n                        3.5,\n                        1.5,\n                        3.5\n                    ],\n                    longdashdotdot: [\n                        8,\n                        3.5,\n                        1.5,\n                        3.5,\n                        1.5,\n                        3.5\n                    ]\n                },\n                Color: kendo.Color,\n                BaseNode: BaseNode,\n                OptionsStore: OptionsStore,\n                Surface: Surface,\n                SurfaceFactory: SurfaceFactory,\n                SurfaceTooltip: SurfaceTooltip\n            }\n        });\n        kendo.dataviz.drawing = kendo.drawing;\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/mixins', ['drawing/core'], f);\n}(function () {\n    (function () {\n        var kendo = window.kendo, deepExtend = kendo.deepExtend, defined = kendo.util.defined, g = kendo.geometry;\n        var GRADIENT = 'gradient';\n        var IDENTITY_MATRIX_HASH = g.Matrix.IDENTITY.toString();\n        var Paintable = {\n            extend: function (proto) {\n                proto.fill = this.fill;\n                proto.stroke = this.stroke;\n            },\n            fill: function (color, opacity) {\n                var options = this.options;\n                if (defined(color)) {\n                    if (color && color.nodeType != GRADIENT) {\n                        var newFill = { color: color };\n                        if (defined(opacity)) {\n                            newFill.opacity = opacity;\n                        }\n                        options.set('fill', newFill);\n                    } else {\n                        options.set('fill', color);\n                    }\n                    return this;\n                } else {\n                    return options.get('fill');\n                }\n            },\n            stroke: function (color, width, opacity) {\n                if (defined(color)) {\n                    this.options.set('stroke.color', color);\n                    if (defined(width)) {\n                        this.options.set('stroke.width', width);\n                    }\n                    if (defined(opacity)) {\n                        this.options.set('stroke.opacity', opacity);\n                    }\n                    return this;\n                } else {\n                    return this.options.get('stroke');\n                }\n            }\n        };\n        var Traversable = {\n            extend: function (proto, childrenField) {\n                proto.traverse = function (callback) {\n                    var children = this[childrenField];\n                    for (var i = 0; i < children.length; i++) {\n                        var child = children[i];\n                        if (child.traverse) {\n                            child.traverse(callback);\n                        } else {\n                            callback(child);\n                        }\n                    }\n                    return this;\n                };\n            }\n        };\n        var Measurable = {\n            extend: function (proto) {\n                proto.bbox = this.bbox;\n                proto.geometryChange = this.geometryChange;\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = g.toMatrix(this.currentTransform(transformation));\n                var matrixHash = combinedMatrix ? combinedMatrix.toString() : IDENTITY_MATRIX_HASH;\n                var bbox;\n                if (this._bboxCache && this._matrixHash == matrixHash) {\n                    bbox = this._bboxCache.clone();\n                } else {\n                    bbox = this._bbox(combinedMatrix);\n                    this._bboxCache = bbox ? bbox.clone() : null;\n                    this._matrixHash = matrixHash;\n                }\n                var strokeWidth = this.options.get('stroke.width');\n                if (strokeWidth && bbox) {\n                    bbox.expand(strokeWidth / 2);\n                }\n                return bbox;\n            },\n            geometryChange: function () {\n                delete this._bboxCache;\n                this.trigger('geometryChange', { element: this });\n            }\n        };\n        deepExtend(kendo.drawing, {\n            mixins: {\n                Paintable: Paintable,\n                Traversable: Traversable,\n                Measurable: Measurable\n            }\n        });\n    }());\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/shapes', [\n        'drawing/core',\n        'drawing/mixins',\n        'util/text-metrics',\n        'mixins/observers'\n    ], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo, Class = kendo.Class, deepExtend = kendo.deepExtend, g = kendo.geometry, Point = g.Point, Size = g.Size, Matrix = g.Matrix, toMatrix = g.toMatrix, drawing = kendo.drawing, OptionsStore = drawing.OptionsStore, math = Math, pow = math.pow, util = kendo.util, append = util.append, arrayLimits = util.arrayLimits, defined = util.defined, last = util.last, valueOrDefault = util.valueOrDefault, ObserversMixin = kendo.mixins.ObserversMixin, inArray = $.inArray, push = [].push, pop = [].pop, splice = [].splice, shift = [].shift, slice = [].slice, unshift = [].unshift, defId = 1, START = 'start', END = 'end', HORIZONTAL = 'horizontal';\n        var Element = Class.extend({\n            nodeType: 'Element',\n            init: function (options) {\n                this._initOptions(options);\n            },\n            _initOptions: function (options) {\n                options = options || {};\n                var transform = options.transform;\n                var clip = options.clip;\n                if (transform) {\n                    options.transform = g.transform(transform);\n                }\n                if (clip && !clip.id) {\n                    clip.id = generateDefinitionId();\n                }\n                this.options = new OptionsStore(options);\n                this.options.addObserver(this);\n            },\n            transform: function (transform) {\n                if (defined(transform)) {\n                    this.options.set('transform', g.transform(transform));\n                } else {\n                    return this.options.get('transform');\n                }\n            },\n            parentTransform: function () {\n                var element = this, transformation, parentMatrix;\n                while (element.parent) {\n                    element = element.parent;\n                    transformation = element.transform();\n                    if (transformation) {\n                        parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());\n                    }\n                }\n                if (parentMatrix) {\n                    return g.transform(parentMatrix);\n                }\n            },\n            currentTransform: function (parentTransform) {\n                var elementTransform = this.transform(), elementMatrix = toMatrix(elementTransform), parentMatrix, combinedMatrix;\n                if (!defined(parentTransform)) {\n                    parentTransform = this.parentTransform();\n                }\n                parentMatrix = toMatrix(parentTransform);\n                if (elementMatrix && parentMatrix) {\n                    combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);\n                } else {\n                    combinedMatrix = elementMatrix || parentMatrix;\n                }\n                if (combinedMatrix) {\n                    return g.transform(combinedMatrix);\n                }\n            },\n            visible: function (visible) {\n                if (defined(visible)) {\n                    this.options.set('visible', visible);\n                    return this;\n                } else {\n                    return this.options.get('visible') !== false;\n                }\n            },\n            clip: function (clip) {\n                var options = this.options;\n                if (defined(clip)) {\n                    if (clip && !clip.id) {\n                        clip.id = generateDefinitionId();\n                    }\n                    options.set('clip', clip);\n                    return this;\n                } else {\n                    return options.get('clip');\n                }\n            },\n            opacity: function (value) {\n                if (defined(value)) {\n                    this.options.set('opacity', value);\n                    return this;\n                } else {\n                    return valueOrDefault(this.options.get('opacity'), 1);\n                }\n            },\n            clippedBBox: function (transformation) {\n                var box = this._clippedBBox(transformation);\n                if (box) {\n                    var clip = this.clip();\n                    return clip ? g.Rect.intersect(box, clip.bbox(transformation)) : box;\n                }\n            },\n            containsPoint: function (point, parentTransform) {\n                if (this.visible()) {\n                    var transform = this.currentTransform(parentTransform);\n                    if (transform) {\n                        point = point.transformCopy(transform.matrix().invert());\n                    }\n                    return this._hasFill() && this._containsPoint(point) || this._isOnPath && this._hasStroke() && this._isOnPath(point);\n                }\n                return false;\n            },\n            _hasFill: function () {\n                var fill = this.options.fill;\n                return fill && !util.isTransparent(fill.color);\n            },\n            _hasStroke: function () {\n                var stroke = this.options.stroke;\n                return stroke && stroke.width > 0 && !util.isTransparent(stroke.color);\n            },\n            _clippedBBox: function (transformation) {\n                return this.bbox(transformation);\n            }\n        });\n        deepExtend(Element.fn, ObserversMixin);\n        var ElementsArray = Class.extend({\n            init: function (array) {\n                array = array || [];\n                this.length = 0;\n                this._splice(0, array.length, array);\n            },\n            elements: function (elements) {\n                if (elements) {\n                    this._splice(0, this.length, elements);\n                    this._change();\n                    return this;\n                } else {\n                    return this.slice(0);\n                }\n            },\n            push: function () {\n                var elements = arguments;\n                var result = push.apply(this, elements);\n                this._add(elements);\n                return result;\n            },\n            slice: slice,\n            pop: function () {\n                var length = this.length;\n                var result = pop.apply(this);\n                if (length) {\n                    this._remove([result]);\n                }\n                return result;\n            },\n            splice: function (index, howMany) {\n                var elements = slice.call(arguments, 2);\n                var result = this._splice(index, howMany, elements);\n                this._change();\n                return result;\n            },\n            shift: function () {\n                var length = this.length;\n                var result = shift.apply(this);\n                if (length) {\n                    this._remove([result]);\n                }\n                return result;\n            },\n            unshift: function () {\n                var elements = arguments;\n                var result = unshift.apply(this, elements);\n                this._add(elements);\n                return result;\n            },\n            indexOf: function (element) {\n                var that = this;\n                var idx;\n                var length;\n                for (idx = 0, length = that.length; idx < length; idx++) {\n                    if (that[idx] === element) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            _splice: function (index, howMany, elements) {\n                var result = splice.apply(this, [\n                    index,\n                    howMany\n                ].concat(elements));\n                this._clearObserver(result);\n                this._setObserver(elements);\n                return result;\n            },\n            _add: function (elements) {\n                this._setObserver(elements);\n                this._change();\n            },\n            _remove: function (elements) {\n                this._clearObserver(elements);\n                this._change();\n            },\n            _setObserver: function (elements) {\n                for (var idx = 0; idx < elements.length; idx++) {\n                    elements[idx].addObserver(this);\n                }\n            },\n            _clearObserver: function (elements) {\n                for (var idx = 0; idx < elements.length; idx++) {\n                    elements[idx].removeObserver(this);\n                }\n            },\n            _change: function () {\n            }\n        });\n        deepExtend(ElementsArray.fn, ObserversMixin);\n        var Group = Element.extend({\n            nodeType: 'Group',\n            init: function (options) {\n                Element.fn.init.call(this, options);\n                this.children = [];\n            },\n            childrenChange: function (action, items, index) {\n                this.trigger('childrenChange', {\n                    action: action,\n                    items: items,\n                    index: index\n                });\n            },\n            append: function () {\n                append(this.children, arguments);\n                this._reparent(arguments, this);\n                this.childrenChange('add', arguments);\n                return this;\n            },\n            insert: function (index, element) {\n                this.children.splice(index, 0, element);\n                element.parent = this;\n                this.childrenChange('add', [element], index);\n                return this;\n            },\n            insertAt: function (element, index) {\n                return this.insert(index, element);\n            },\n            remove: function (element) {\n                var index = inArray(element, this.children);\n                if (index >= 0) {\n                    this.children.splice(index, 1);\n                    element.parent = null;\n                    this.childrenChange('remove', [element], index);\n                }\n                return this;\n            },\n            removeAt: function (index) {\n                if (0 <= index && index < this.children.length) {\n                    var element = this.children[index];\n                    this.children.splice(index, 1);\n                    element.parent = null;\n                    this.childrenChange('remove', [element], index);\n                }\n                return this;\n            },\n            clear: function () {\n                var items = this.children;\n                this.children = [];\n                this._reparent(items, null);\n                this.childrenChange('remove', items, 0);\n                return this;\n            },\n            bbox: function (transformation) {\n                return elementsBoundingBox(this.children, true, this.currentTransform(transformation));\n            },\n            rawBBox: function () {\n                return elementsBoundingBox(this.children, false);\n            },\n            _clippedBBox: function (transformation) {\n                return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));\n            },\n            currentTransform: function (transformation) {\n                return Element.fn.currentTransform.call(this, transformation) || null;\n            },\n            containsPoint: function (point, parentTransform) {\n                if (this.visible()) {\n                    var children = this.children;\n                    var transform = this.currentTransform(parentTransform);\n                    for (var idx = 0; idx < children.length; idx++) {\n                        if (children[idx].containsPoint(point, transform)) {\n                            return true;\n                        }\n                    }\n                }\n                return false;\n            },\n            _reparent: function (elements, newParent) {\n                for (var i = 0; i < elements.length; i++) {\n                    var child = elements[i];\n                    var parent = child.parent;\n                    if (parent && parent != this && parent.remove) {\n                        parent.remove(child);\n                    }\n                    child.parent = newParent;\n                }\n            }\n        });\n        drawing.mixins.Traversable.extend(Group.fn, 'children');\n        var Text = Element.extend({\n            nodeType: 'Text',\n            init: function (content, position, options) {\n                Element.fn.init.call(this, options);\n                this.content(content);\n                this.position(position || new g.Point());\n                if (!this.options.font) {\n                    this.options.font = '12px sans-serif';\n                }\n                if (!defined(this.options.fill)) {\n                    this.fill('#000');\n                }\n            },\n            content: function (value) {\n                if (defined(value)) {\n                    this.options.set('content', value);\n                    return this;\n                } else {\n                    return this.options.get('content');\n                }\n            },\n            measure: function () {\n                var metrics = util.measureText(this.content(), { font: this.options.get('font') });\n                return metrics;\n            },\n            rect: function () {\n                var size = this.measure();\n                var pos = this.position().clone();\n                return new g.Rect(pos, [\n                    size.width,\n                    size.height\n                ]);\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\n                return this.rect().bbox(combinedMatrix);\n            },\n            rawBBox: function () {\n                return this.rect().bbox();\n            },\n            _containsPoint: function (point) {\n                return this.rect().containsPoint(point);\n            }\n        });\n        drawing.mixins.Paintable.extend(Text.fn);\n        definePointAccessors(Text.fn, ['position']);\n        var Circle = Element.extend({\n            nodeType: 'Circle',\n            init: function (geometry, options) {\n                Element.fn.init.call(this, options);\n                this.geometry(geometry || new g.Circle());\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this._geometry.bbox();\n            },\n            _containsPoint: function (point) {\n                return this.geometry().containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        drawing.mixins.Paintable.extend(Circle.fn);\n        drawing.mixins.Measurable.extend(Circle.fn);\n        defineGeometryAccessors(Circle.fn, ['geometry']);\n        var Arc = Element.extend({\n            nodeType: 'Arc',\n            init: function (geometry, options) {\n                Element.fn.init.call(this, options);\n                this.geometry(geometry || new g.Arc());\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this.geometry().bbox();\n            },\n            toPath: function () {\n                var path = new Path();\n                var curvePoints = this.geometry().curvePoints();\n                if (curvePoints.length > 0) {\n                    path.moveTo(curvePoints[0].x, curvePoints[0].y);\n                    for (var i = 1; i < curvePoints.length; i += 3) {\n                        path.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n                    }\n                }\n                return path;\n            },\n            _containsPoint: function (point) {\n                return this.geometry().containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        drawing.mixins.Paintable.extend(Arc.fn);\n        drawing.mixins.Measurable.extend(Arc.fn);\n        defineGeometryAccessors(Arc.fn, ['geometry']);\n        var GeometryElementsArray = ElementsArray.extend({\n            _change: function () {\n                this.geometryChange();\n            }\n        });\n        var Segment = Class.extend({\n            init: function (anchor, controlIn, controlOut) {\n                this.anchor(anchor || new Point());\n                this.controlIn(controlIn);\n                this.controlOut(controlOut);\n            },\n            bboxTo: function (toSegment, matrix) {\n                var rect;\n                var segmentAnchor = this.anchor().transformCopy(matrix);\n                var toSegmentAnchor = toSegment.anchor().transformCopy(matrix);\n                if (this.controlOut() && toSegment.controlIn()) {\n                    rect = this._curveBoundingBox(segmentAnchor, this.controlOut().transformCopy(matrix), toSegment.controlIn().transformCopy(matrix), toSegmentAnchor);\n                } else {\n                    rect = this._lineBoundingBox(segmentAnchor, toSegmentAnchor);\n                }\n                return rect;\n            },\n            _lineBoundingBox: function (p1, p2) {\n                return g.Rect.fromPoints(p1, p2);\n            },\n            _curveBoundingBox: function (p1, cp1, cp2, p2) {\n                var points = [\n                        p1,\n                        cp1,\n                        cp2,\n                        p2\n                    ], extremesX = this._curveExtremesFor(points, 'x'), extremesY = this._curveExtremesFor(points, 'y'), xLimits = arrayLimits([\n                        extremesX.min,\n                        extremesX.max,\n                        p1.x,\n                        p2.x\n                    ]), yLimits = arrayLimits([\n                        extremesY.min,\n                        extremesY.max,\n                        p1.y,\n                        p2.y\n                    ]);\n                return g.Rect.fromPoints(new Point(xLimits.min, yLimits.min), new Point(xLimits.max, yLimits.max));\n            },\n            _curveExtremesFor: function (points, field) {\n                var extremes = this._curveExtremes(points[0][field], points[1][field], points[2][field], points[3][field]);\n                return {\n                    min: this._calculateCurveAt(extremes.min, field, points),\n                    max: this._calculateCurveAt(extremes.max, field, points)\n                };\n            },\n            _calculateCurveAt: function (t, field, points) {\n                var t1 = 1 - t;\n                return pow(t1, 3) * points[0][field] + 3 * pow(t1, 2) * t * points[1][field] + 3 * pow(t, 2) * t1 * points[2][field] + pow(t, 3) * points[3][field];\n            },\n            _curveExtremes: function (x1, x2, x3, x4) {\n                var a = x1 - 3 * x2 + 3 * x3 - x4;\n                var b = -2 * (x1 - 2 * x2 + x3);\n                var c = x1 - x2;\n                var sqrt = math.sqrt(b * b - 4 * a * c);\n                var t1 = 0;\n                var t2 = 1;\n                if (a === 0) {\n                    if (b !== 0) {\n                        t1 = t2 = -c / b;\n                    }\n                } else if (!isNaN(sqrt)) {\n                    t1 = (-b + sqrt) / (2 * a);\n                    t2 = (-b - sqrt) / (2 * a);\n                }\n                var min = math.max(math.min(t1, t2), 0);\n                if (min < 0 || min > 1) {\n                    min = 0;\n                }\n                var max = math.min(math.max(t1, t2), 1);\n                if (max > 1 || max < 0) {\n                    max = 1;\n                }\n                return {\n                    min: min,\n                    max: max\n                };\n            },\n            _intersectionsTo: function (segment, point) {\n                var intersectionsCount;\n                if (this.controlOut() && segment.controlIn()) {\n                    intersectionsCount = g.curveIntersectionsCount([\n                        this.anchor(),\n                        this.controlOut(),\n                        segment.controlIn(),\n                        segment.anchor()\n                    ], point, this.bboxTo(segment));\n                } else {\n                    intersectionsCount = g.lineIntersectionsCount(this.anchor(), segment.anchor(), point);\n                }\n                return intersectionsCount;\n            },\n            _isOnCurveTo: function (segment, point, width, endSegment) {\n                var bbox = this.bboxTo(segment).expand(width, width);\n                if (bbox.containsPoint(point)) {\n                    var p1 = this.anchor();\n                    var p2 = this.controlOut();\n                    var p3 = segment.controlIn();\n                    var p4 = segment.anchor();\n                    if (endSegment == 'start' && p1.distanceTo(point) <= width) {\n                        return !g.isOutOfEndPoint(p1, p2, point);\n                    } else if (endSegment == 'end' && p4.distanceTo(point) <= width) {\n                        return !g.isOutOfEndPoint(p4, p3, point);\n                    }\n                    var hasRootsInRange = g.hasRootsInRange;\n                    var points = [\n                        p1,\n                        p2,\n                        p3,\n                        p4\n                    ];\n                    if (hasRootsInRange(points, point, 'x', 'y', width) || hasRootsInRange(points, point, 'y', 'x', width)) {\n                        return true;\n                    }\n                    var rotation = g.transform().rotate(45, point);\n                    var rotatedPoints = [\n                        p1.transformCopy(rotation),\n                        p2.transformCopy(rotation),\n                        p3.transformCopy(rotation),\n                        p4.transformCopy(rotation)\n                    ];\n                    return hasRootsInRange(rotatedPoints, point, 'x', 'y', width) || hasRootsInRange(rotatedPoints, point, 'y', 'x', width);\n                }\n            },\n            _isOnLineTo: function (segment, point, width) {\n                var p1 = this.anchor();\n                var p2 = segment.anchor();\n                var angle = util.deg(math.atan2(p2.y - p1.y, p2.x - p1.x));\n                var rect = new g.Rect([\n                    p1.x,\n                    p1.y - width / 2\n                ], [\n                    p1.distanceTo(p2),\n                    width\n                ]);\n                return rect.containsPoint(point.transformCopy(g.transform().rotate(-angle, p1)));\n            },\n            _isOnPathTo: function (segment, point, width, endSegment) {\n                var isOnPath;\n                if (this.controlOut() && segment.controlIn()) {\n                    isOnPath = this._isOnCurveTo(segment, point, width / 2, endSegment);\n                } else {\n                    isOnPath = this._isOnLineTo(segment, point, width);\n                }\n                return isOnPath;\n            }\n        });\n        definePointAccessors(Segment.fn, [\n            'anchor',\n            'controlIn',\n            'controlOut'\n        ]);\n        deepExtend(Segment.fn, ObserversMixin);\n        var Path = Element.extend({\n            nodeType: 'Path',\n            init: function (options) {\n                Element.fn.init.call(this, options);\n                this.segments = new GeometryElementsArray();\n                this.segments.addObserver(this);\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                    if (!defined(this.options.stroke.lineJoin)) {\n                        this.options.set('stroke.lineJoin', 'miter');\n                    }\n                }\n            },\n            moveTo: function (x, y) {\n                this.suspend();\n                this.segments.elements([]);\n                this.resume();\n                this.lineTo(x, y);\n                return this;\n            },\n            lineTo: function (x, y) {\n                var point = defined(y) ? new Point(x, y) : x, segment = new Segment(point);\n                this.segments.push(segment);\n                return this;\n            },\n            curveTo: function (controlOut, controlIn, point) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var segment = new Segment(point, controlIn);\n                    this.suspend();\n                    lastSegment.controlOut(controlOut);\n                    this.resume();\n                    this.segments.push(segment);\n                }\n                return this;\n            },\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var anchor = lastSegment.anchor();\n                    var start = util.rad(startAngle);\n                    var center = new Point(anchor.x - radiusX * math.cos(start), anchor.y - radiusY * math.sin(start));\n                    var arc = new g.Arc(center, {\n                        startAngle: startAngle,\n                        endAngle: endAngle,\n                        radiusX: radiusX,\n                        radiusY: radiusY,\n                        anticlockwise: anticlockwise\n                    });\n                    this._addArcSegments(arc);\n                }\n                return this;\n            },\n            arcTo: function (end, rx, ry, largeArc, swipe) {\n                if (this.segments.length > 0) {\n                    var lastSegment = last(this.segments);\n                    var anchor = lastSegment.anchor();\n                    var arc = g.Arc.fromPoints(anchor, end, rx, ry, largeArc, swipe);\n                    this._addArcSegments(arc);\n                }\n                return this;\n            },\n            _addArcSegments: function (arc) {\n                this.suspend();\n                var curvePoints = arc.curvePoints();\n                for (var i = 1; i < curvePoints.length; i += 3) {\n                    this.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);\n                }\n                this.resume();\n                this.geometryChange();\n            },\n            close: function () {\n                this.options.closed = true;\n                this.geometryChange();\n                return this;\n            },\n            rawBBox: function () {\n                return this._bbox();\n            },\n            _containsPoint: function (point) {\n                var segments = this.segments;\n                var length = segments.length;\n                var intersectionsCount = 0;\n                var previous, current;\n                for (var idx = 1; idx < length; idx++) {\n                    previous = segments[idx - 1];\n                    current = segments[idx];\n                    intersectionsCount += previous._intersectionsTo(current, point);\n                }\n                if (this.options.closed || !segments[0].anchor().equals(segments[length - 1].anchor())) {\n                    intersectionsCount += g.lineIntersectionsCount(segments[0].anchor(), segments[length - 1].anchor(), point);\n                }\n                return intersectionsCount % 2 !== 0;\n            },\n            _isOnPath: function (point, width) {\n                var segments = this.segments;\n                var length = segments.length;\n                width = width || this.options.stroke.width;\n                if (length > 1) {\n                    if (segments[0]._isOnPathTo(segments[1], point, width, 'start')) {\n                        return true;\n                    }\n                    for (var idx = 2; idx <= length - 2; idx++) {\n                        if (segments[idx - 1]._isOnPathTo(segments[idx], point, width)) {\n                            return true;\n                        }\n                    }\n                    if (segments[length - 2]._isOnPathTo(segments[length - 1], point, width, 'end')) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _bbox: function (matrix) {\n                var segments = this.segments;\n                var length = segments.length;\n                var boundingBox;\n                if (length === 1) {\n                    var anchor = segments[0].anchor().transformCopy(matrix);\n                    boundingBox = new g.Rect(anchor, Size.ZERO);\n                } else if (length > 0) {\n                    for (var i = 1; i < length; i++) {\n                        var segmentBox = segments[i - 1].bboxTo(segments[i], matrix);\n                        if (boundingBox) {\n                            boundingBox = g.Rect.union(boundingBox, segmentBox);\n                        } else {\n                            boundingBox = segmentBox;\n                        }\n                    }\n                }\n                return boundingBox;\n            }\n        });\n        drawing.mixins.Paintable.extend(Path.fn);\n        drawing.mixins.Measurable.extend(Path.fn);\n        Path.fromRect = function (rect, options) {\n            return new Path(options).moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close();\n        };\n        Path.fromPoints = function (points, options) {\n            if (points) {\n                var path = new Path(options);\n                for (var i = 0; i < points.length; i++) {\n                    var pt = Point.create(points[i]);\n                    if (pt) {\n                        if (i === 0) {\n                            path.moveTo(pt);\n                        } else {\n                            path.lineTo(pt);\n                        }\n                    }\n                }\n                return path;\n            }\n        };\n        Path.fromArc = function (arc, options) {\n            var path = new Path(options);\n            var startAngle = arc.startAngle;\n            var start = arc.pointAt(startAngle);\n            path.moveTo(start.x, start.y);\n            path.arc(startAngle, arc.endAngle, arc.radiusX, arc.radiusY, arc.anticlockwise);\n            return path;\n        };\n        var MultiPath = Element.extend({\n            nodeType: 'MultiPath',\n            init: function (options) {\n                Element.fn.init.call(this, options);\n                this.paths = new GeometryElementsArray();\n                this.paths.addObserver(this);\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            moveTo: function (x, y) {\n                var path = new Path();\n                path.moveTo(x, y);\n                this.paths.push(path);\n                return this;\n            },\n            lineTo: function (x, y) {\n                if (this.paths.length > 0) {\n                    last(this.paths).lineTo(x, y);\n                }\n                return this;\n            },\n            curveTo: function (controlOut, controlIn, point) {\n                if (this.paths.length > 0) {\n                    last(this.paths).curveTo(controlOut, controlIn, point);\n                }\n                return this;\n            },\n            arc: function (startAngle, endAngle, radiusX, radiusY, anticlockwise) {\n                if (this.paths.length > 0) {\n                    last(this.paths).arc(startAngle, endAngle, radiusX, radiusY, anticlockwise);\n                }\n                return this;\n            },\n            arcTo: function (end, rx, ry, largeArc, swipe) {\n                if (this.paths.length > 0) {\n                    last(this.paths).arcTo(end, rx, ry, largeArc, swipe);\n                }\n                return this;\n            },\n            close: function () {\n                if (this.paths.length > 0) {\n                    last(this.paths).close();\n                }\n                return this;\n            },\n            _bbox: function (matrix) {\n                return elementsBoundingBox(this.paths, true, matrix);\n            },\n            rawBBox: function () {\n                return elementsBoundingBox(this.paths, false);\n            },\n            _containsPoint: function (point) {\n                var paths = this.paths;\n                for (var idx = 0; idx < paths.length; idx++) {\n                    if (paths[idx]._containsPoint(point)) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _isOnPath: function (point) {\n                var paths = this.paths;\n                var width = this.options.stroke.width;\n                for (var idx = 0; idx < paths.length; idx++) {\n                    if (paths[idx]._isOnPath(point, width)) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            _clippedBBox: function (transformation) {\n                return elementsClippedBoundingBox(this.paths, this.currentTransform(transformation));\n            }\n        });\n        drawing.mixins.Paintable.extend(MultiPath.fn);\n        drawing.mixins.Measurable.extend(MultiPath.fn);\n        var Image = Element.extend({\n            nodeType: 'Image',\n            init: function (src, rect, options) {\n                Element.fn.init.call(this, options);\n                this.src(src);\n                this.rect(rect || new g.Rect());\n            },\n            src: function (value) {\n                if (defined(value)) {\n                    this.options.set('src', value);\n                    return this;\n                } else {\n                    return this.options.get('src');\n                }\n            },\n            bbox: function (transformation) {\n                var combinedMatrix = toMatrix(this.currentTransform(transformation));\n                return this._rect.bbox(combinedMatrix);\n            },\n            rawBBox: function () {\n                return this._rect.bbox();\n            },\n            _containsPoint: function (point) {\n                return this._rect.containsPoint(point);\n            },\n            _hasFill: function () {\n                return this.src();\n            }\n        });\n        defineGeometryAccessors(Image.fn, ['rect']);\n        var GradientStop = Class.extend({\n            init: function (offset, color, opacity) {\n                this.options = new OptionsStore({\n                    offset: offset,\n                    color: color,\n                    opacity: defined(opacity) ? opacity : 1\n                });\n                this.options.addObserver(this);\n            }\n        });\n        defineOptionsAccessors(GradientStop.fn, [\n            'offset',\n            'color',\n            'opacity'\n        ]);\n        deepExtend(GradientStop.fn, ObserversMixin);\n        GradientStop.create = function (arg) {\n            if (defined(arg)) {\n                var stop;\n                if (arg instanceof GradientStop) {\n                    stop = arg;\n                } else if (arg.length > 1) {\n                    stop = new GradientStop(arg[0], arg[1], arg[2]);\n                } else {\n                    stop = new GradientStop(arg.offset, arg.color, arg.opacity);\n                }\n                return stop;\n            }\n        };\n        var StopsArray = ElementsArray.extend({\n            _change: function () {\n                this.optionsChange({ field: 'stops' });\n            }\n        });\n        var Gradient = Class.extend({\n            nodeType: 'gradient',\n            init: function (options) {\n                this.stops = new StopsArray(this._createStops(options.stops));\n                this.stops.addObserver(this);\n                this._userSpace = options.userSpace;\n                this.id = generateDefinitionId();\n            },\n            userSpace: function (value) {\n                if (defined(value)) {\n                    this._userSpace = value;\n                    this.optionsChange();\n                    return this;\n                } else {\n                    return this._userSpace;\n                }\n            },\n            _createStops: function (stops) {\n                var result = [];\n                var idx;\n                stops = stops || [];\n                for (idx = 0; idx < stops.length; idx++) {\n                    result.push(GradientStop.create(stops[idx]));\n                }\n                return result;\n            },\n            addStop: function (offset, color, opacity) {\n                this.stops.push(new GradientStop(offset, color, opacity));\n            },\n            removeStop: function (stop) {\n                var index = this.stops.indexOf(stop);\n                if (index >= 0) {\n                    this.stops.splice(index, 1);\n                }\n            }\n        });\n        deepExtend(Gradient.fn, ObserversMixin, {\n            optionsChange: function (e) {\n                this.trigger('optionsChange', {\n                    field: 'gradient' + (e ? '.' + e.field : ''),\n                    value: this\n                });\n            },\n            geometryChange: function () {\n                this.optionsChange();\n            }\n        });\n        var LinearGradient = Gradient.extend({\n            init: function (options) {\n                options = options || {};\n                Gradient.fn.init.call(this, options);\n                this.start(options.start || new Point());\n                this.end(options.end || new Point(1, 0));\n            }\n        });\n        definePointAccessors(LinearGradient.fn, [\n            'start',\n            'end'\n        ]);\n        var RadialGradient = Gradient.extend({\n            init: function (options) {\n                options = options || {};\n                Gradient.fn.init.call(this, options);\n                this.center(options.center || new Point());\n                this._radius = defined(options.radius) ? options.radius : 1;\n                this._fallbackFill = options.fallbackFill;\n            },\n            radius: function (value) {\n                if (defined(value)) {\n                    this._radius = value;\n                    this.geometryChange();\n                    return this;\n                } else {\n                    return this._radius;\n                }\n            },\n            fallbackFill: function (value) {\n                if (defined(value)) {\n                    this._fallbackFill = value;\n                    this.optionsChange();\n                    return this;\n                } else {\n                    return this._fallbackFill;\n                }\n            }\n        });\n        definePointAccessors(RadialGradient.fn, ['center']);\n        var Rect = Element.extend({\n            nodeType: 'Rect',\n            init: function (geometry, options) {\n                Element.fn.init.call(this, options);\n                this.geometry(geometry || new g.Rect());\n                if (!defined(this.options.stroke)) {\n                    this.stroke('#000');\n                }\n            },\n            _bbox: function (matrix) {\n                return this._geometry.bbox(matrix);\n            },\n            rawBBox: function () {\n                return this._geometry.bbox();\n            },\n            _containsPoint: function (point) {\n                return this._geometry.containsPoint(point);\n            },\n            _isOnPath: function (point) {\n                return this.geometry()._isOnPath(point, this.options.stroke.width / 2);\n            }\n        });\n        drawing.mixins.Paintable.extend(Rect.fn);\n        drawing.mixins.Measurable.extend(Rect.fn);\n        defineGeometryAccessors(Rect.fn, ['geometry']);\n        var Layout = Group.extend({\n            init: function (rect, options) {\n                Group.fn.init.call(this, kendo.deepExtend({}, this._defaults, options));\n                this._rect = rect;\n                this._fieldMap = {};\n            },\n            _defaults: {\n                alignContent: START,\n                justifyContent: START,\n                alignItems: START,\n                spacing: 0,\n                orientation: HORIZONTAL,\n                lineSpacing: 0,\n                wrap: true\n            },\n            rect: function (value) {\n                if (value) {\n                    this._rect = value;\n                    return this;\n                } else {\n                    return this._rect;\n                }\n            },\n            _initMap: function () {\n                var options = this.options;\n                var fieldMap = this._fieldMap;\n                if (options.orientation == HORIZONTAL) {\n                    fieldMap.sizeField = 'width';\n                    fieldMap.groupsSizeField = 'height';\n                    fieldMap.groupAxis = 'x';\n                    fieldMap.groupsAxis = 'y';\n                } else {\n                    fieldMap.sizeField = 'height';\n                    fieldMap.groupsSizeField = 'width';\n                    fieldMap.groupAxis = 'y';\n                    fieldMap.groupsAxis = 'x';\n                }\n            },\n            reflow: function () {\n                if (!this._rect || this.children.length === 0) {\n                    return;\n                }\n                this._initMap();\n                if (this.options.transform) {\n                    this.transform(null);\n                }\n                var options = this.options;\n                var fieldMap = this._fieldMap;\n                var rect = this._rect;\n                var groupOptions = this._initGroups();\n                var groups = groupOptions.groups;\n                var groupsSize = groupOptions.groupsSize;\n                var sizeField = fieldMap.sizeField;\n                var groupsSizeField = fieldMap.groupsSizeField;\n                var groupAxis = fieldMap.groupAxis;\n                var groupsAxis = fieldMap.groupsAxis;\n                var groupStart = alignStart(groupsSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n                var groupOrigin = new Point();\n                var elementOrigin = new Point();\n                var size = new g.Size();\n                var elementStart, bbox, element, group, groupBox;\n                for (var groupIdx = 0; groupIdx < groups.length; groupIdx++) {\n                    group = groups[groupIdx];\n                    groupOrigin[groupAxis] = elementStart = alignStart(group.size, rect, options.justifyContent, groupAxis, sizeField);\n                    groupOrigin[groupsAxis] = groupStart;\n                    size[sizeField] = group.size;\n                    size[groupsSizeField] = group.lineSize;\n                    groupBox = new g.Rect(groupOrigin, size);\n                    for (var idx = 0; idx < group.bboxes.length; idx++) {\n                        element = group.elements[idx];\n                        bbox = group.bboxes[idx];\n                        elementOrigin[groupAxis] = elementStart;\n                        elementOrigin[groupsAxis] = alignStart(bbox.size[groupsSizeField], groupBox, options.alignItems, groupsAxis, groupsSizeField);\n                        translateToPoint(elementOrigin, bbox, element);\n                        elementStart += bbox.size[sizeField] + options.spacing;\n                    }\n                    groupStart += group.lineSize + options.lineSpacing;\n                }\n                if (!options.wrap && group.size > rect.size[sizeField]) {\n                    var scale = rect.size[sizeField] / groupBox.size[sizeField];\n                    var scaledStart = groupBox.topLeft().scale(scale, scale);\n                    var scaledSize = groupBox.size[groupsSizeField] * scale;\n                    var newStart = alignStart(scaledSize, rect, options.alignContent, groupsAxis, groupsSizeField);\n                    var transform = g.transform();\n                    if (groupAxis === 'x') {\n                        transform.translate(rect.origin.x - scaledStart.x, newStart - scaledStart.y);\n                    } else {\n                        transform.translate(newStart - scaledStart.x, rect.origin.y - scaledStart.y);\n                    }\n                    transform.scale(scale, scale);\n                    this.transform(transform);\n                }\n            },\n            _initGroups: function () {\n                var options = this.options;\n                var children = this.children;\n                var lineSpacing = options.lineSpacing;\n                var sizeField = this._fieldMap.sizeField;\n                var groupsSize = -lineSpacing;\n                var groups = [];\n                var group = this._newGroup();\n                var addGroup = function () {\n                    groups.push(group);\n                    groupsSize += group.lineSize + lineSpacing;\n                };\n                var bbox, element;\n                for (var idx = 0; idx < children.length; idx++) {\n                    element = children[idx];\n                    bbox = children[idx].clippedBBox();\n                    if (element.visible() && bbox) {\n                        if (options.wrap && group.size + bbox.size[sizeField] + options.spacing > this._rect.size[sizeField]) {\n                            if (group.bboxes.length === 0) {\n                                this._addToGroup(group, bbox, element);\n                                addGroup();\n                                group = this._newGroup();\n                            } else {\n                                addGroup();\n                                group = this._newGroup();\n                                this._addToGroup(group, bbox, element);\n                            }\n                        } else {\n                            this._addToGroup(group, bbox, element);\n                        }\n                    }\n                }\n                if (group.bboxes.length) {\n                    addGroup();\n                }\n                return {\n                    groups: groups,\n                    groupsSize: groupsSize\n                };\n            },\n            _addToGroup: function (group, bbox, element) {\n                group.size += bbox.size[this._fieldMap.sizeField] + this.options.spacing;\n                group.lineSize = Math.max(bbox.size[this._fieldMap.groupsSizeField], group.lineSize);\n                group.bboxes.push(bbox);\n                group.elements.push(element);\n            },\n            _newGroup: function () {\n                return {\n                    lineSize: 0,\n                    size: -this.options.spacing,\n                    bboxes: [],\n                    elements: []\n                };\n            }\n        });\n        function elementsBoundingBox(elements, applyTransform, transformation) {\n            var boundingBox;\n            for (var i = 0; i < elements.length; i++) {\n                var element = elements[i];\n                if (element.visible()) {\n                    var elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();\n                    if (elementBoundingBox) {\n                        if (boundingBox) {\n                            boundingBox = g.Rect.union(boundingBox, elementBoundingBox);\n                        } else {\n                            boundingBox = elementBoundingBox;\n                        }\n                    }\n                }\n            }\n            return boundingBox;\n        }\n        function elementsClippedBoundingBox(elements, transformation) {\n            var boundingBox;\n            for (var i = 0; i < elements.length; i++) {\n                var element = elements[i];\n                if (element.visible()) {\n                    var elementBoundingBox = element.clippedBBox(transformation);\n                    if (elementBoundingBox) {\n                        if (boundingBox) {\n                            boundingBox = g.Rect.union(boundingBox, elementBoundingBox);\n                        } else {\n                            boundingBox = elementBoundingBox;\n                        }\n                    }\n                }\n            }\n            return boundingBox;\n        }\n        function defineGeometryAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = geometryAccessor(names[i]);\n            }\n        }\n        function geometryAccessor(name) {\n            var fieldName = '_' + name;\n            return function (value) {\n                if (defined(value)) {\n                    this._observerField(fieldName, value);\n                    this.geometryChange();\n                    return this;\n                } else {\n                    return this[fieldName];\n                }\n            };\n        }\n        function definePointAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = pointAccessor(names[i]);\n            }\n        }\n        function pointAccessor(name) {\n            var fieldName = '_' + name;\n            return function (value) {\n                if (defined(value)) {\n                    this._observerField(fieldName, Point.create(value));\n                    this.geometryChange();\n                    return this;\n                } else {\n                    return this[fieldName];\n                }\n            };\n        }\n        function defineOptionsAccessors(fn, names) {\n            for (var i = 0; i < names.length; i++) {\n                fn[names[i]] = optionsAccessor(names[i]);\n            }\n        }\n        function optionsAccessor(name) {\n            return function (value) {\n                if (defined(value)) {\n                    this.options.set(name, value);\n                    return this;\n                } else {\n                    return this.options.get(name);\n                }\n            };\n        }\n        function generateDefinitionId() {\n            return 'kdef' + defId++;\n        }\n        function align(elements, rect, alignment) {\n            alignElements(elements, rect, alignment, 'x', 'width');\n        }\n        function vAlign(elements, rect, alignment) {\n            alignElements(elements, rect, alignment, 'y', 'height');\n        }\n        function stack(elements) {\n            stackElements(getStackElements(elements), 'x', 'y', 'width');\n        }\n        function vStack(elements) {\n            stackElements(getStackElements(elements), 'y', 'x', 'height');\n        }\n        function wrap(elements, rect) {\n            return wrapElements(elements, rect, 'x', 'y', 'width');\n        }\n        function vWrap(elements, rect) {\n            return wrapElements(elements, rect, 'y', 'x', 'height');\n        }\n        function wrapElements(elements, rect, axis, otherAxis, sizeField) {\n            var result = [];\n            var stacks = getStacks(elements, rect, sizeField);\n            var origin = rect.origin.clone();\n            var startElement;\n            var elementIdx;\n            var stack;\n            var idx;\n            for (idx = 0; idx < stacks.length; idx++) {\n                stack = stacks[idx];\n                startElement = stack[0];\n                origin[otherAxis] = startElement.bbox.origin[otherAxis];\n                translateToPoint(origin, startElement.bbox, startElement.element);\n                startElement.bbox.origin[axis] = origin[axis];\n                stackElements(stack, axis, otherAxis, sizeField);\n                result.push([]);\n                for (elementIdx = 0; elementIdx < stack.length; elementIdx++) {\n                    result[idx].push(stack[elementIdx].element);\n                }\n            }\n            return result;\n        }\n        function fit(element, rect) {\n            var bbox = element.clippedBBox();\n            var elementSize = bbox.size;\n            var rectSize = rect.size;\n            if (rectSize.width < elementSize.width || rectSize.height < elementSize.height) {\n                var scale = math.min(rectSize.width / elementSize.width, rectSize.height / elementSize.height);\n                var transform = element.transform() || g.transform();\n                transform.scale(scale, scale);\n                element.transform(transform);\n            }\n        }\n        function getStacks(elements, rect, sizeField) {\n            var maxSize = rect.size[sizeField];\n            var stackSize = 0;\n            var stacks = [];\n            var stack = [];\n            var element;\n            var size;\n            var bbox;\n            var addElementToStack = function () {\n                stack.push({\n                    element: element,\n                    bbox: bbox\n                });\n            };\n            for (var idx = 0; idx < elements.length; idx++) {\n                element = elements[idx];\n                bbox = element.clippedBBox();\n                if (bbox) {\n                    size = bbox.size[sizeField];\n                    if (stackSize + size > maxSize) {\n                        if (stack.length) {\n                            stacks.push(stack);\n                            stack = [];\n                            addElementToStack();\n                            stackSize = size;\n                        } else {\n                            addElementToStack();\n                            stacks.push(stack);\n                            stack = [];\n                            stackSize = 0;\n                        }\n                    } else {\n                        addElementToStack();\n                        stackSize += size;\n                    }\n                }\n            }\n            if (stack.length) {\n                stacks.push(stack);\n            }\n            return stacks;\n        }\n        function getStackElements(elements) {\n            var stackElements = [];\n            var element;\n            var bbox;\n            for (var idx = 0; idx < elements.length; idx++) {\n                element = elements[idx];\n                bbox = element.clippedBBox();\n                if (bbox) {\n                    stackElements.push({\n                        element: element,\n                        bbox: bbox\n                    });\n                }\n            }\n            return stackElements;\n        }\n        function stackElements(elements, stackAxis, otherAxis, sizeField) {\n            if (elements.length > 1) {\n                var previousBBox = elements[0].bbox;\n                var origin = new Point();\n                var element;\n                var bbox;\n                for (var idx = 1; idx < elements.length; idx++) {\n                    element = elements[idx].element;\n                    bbox = elements[idx].bbox;\n                    origin[stackAxis] = previousBBox.origin[stackAxis] + previousBBox.size[sizeField];\n                    origin[otherAxis] = bbox.origin[otherAxis];\n                    translateToPoint(origin, bbox, element);\n                    bbox.origin[stackAxis] = origin[stackAxis];\n                    previousBBox = bbox;\n                }\n            }\n        }\n        function alignElements(elements, rect, alignment, axis, sizeField) {\n            var bbox, point;\n            alignment = alignment || 'start';\n            for (var idx = 0; idx < elements.length; idx++) {\n                bbox = elements[idx].clippedBBox();\n                if (bbox) {\n                    point = bbox.origin.clone();\n                    point[axis] = alignStart(bbox.size[sizeField], rect, alignment, axis, sizeField);\n                    translateToPoint(point, bbox, elements[idx]);\n                }\n            }\n        }\n        function alignStart(size, rect, align, axis, sizeField) {\n            var start;\n            if (align == START) {\n                start = rect.origin[axis];\n            } else if (align == END) {\n                start = rect.origin[axis] + rect.size[sizeField] - size;\n            } else {\n                start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;\n            }\n            return start;\n        }\n        function translate(x, y, element) {\n            var transofrm = element.transform() || g.transform();\n            var matrix = transofrm.matrix();\n            matrix.e += x;\n            matrix.f += y;\n            transofrm.matrix(matrix);\n            element.transform(transofrm);\n        }\n        function translateToPoint(point, bbox, element) {\n            translate(point.x - bbox.origin.x, point.y - bbox.origin.y, element);\n        }\n        deepExtend(drawing, {\n            align: align,\n            Arc: Arc,\n            Circle: Circle,\n            Element: Element,\n            ElementsArray: ElementsArray,\n            fit: fit,\n            Gradient: Gradient,\n            GradientStop: GradientStop,\n            Group: Group,\n            Image: Image,\n            Layout: Layout,\n            LinearGradient: LinearGradient,\n            MultiPath: MultiPath,\n            Path: Path,\n            RadialGradient: RadialGradient,\n            Rect: Rect,\n            Segment: Segment,\n            stack: stack,\n            Text: Text,\n            vAlign: vAlign,\n            vStack: vStack,\n            vWrap: vWrap,\n            wrap: wrap\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/parser', ['drawing/shapes'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo, drawing = kendo.drawing, geometry = kendo.geometry, Class = kendo.Class, Point = geometry.Point, deepExtend = kendo.deepExtend, trim = $.trim, util = kendo.util, last = util.last;\n        var SEGMENT_REGEX = /([a-df-z]{1})([^a-df-z]*)(z)?/gi, SPLIT_REGEX = /[,\\s]?([+\\-]?(?:\\d*\\.\\d+|\\d+)(?:[eE][+\\-]?\\d+)?)/g, MOVE = 'm', CLOSE = 'z';\n        var PathParser = Class.extend({\n            parse: function (str, options) {\n                var multiPath = new drawing.MultiPath(options);\n                var position = new Point();\n                var previousCommand;\n                str.replace(SEGMENT_REGEX, function (match, element, params, closePath) {\n                    var command = element.toLowerCase();\n                    var isRelative = command === element;\n                    var parameters = parseParameters(trim(params));\n                    if (command === MOVE) {\n                        if (isRelative) {\n                            position.x += parameters[0];\n                            position.y += parameters[1];\n                        } else {\n                            position.x = parameters[0];\n                            position.y = parameters[1];\n                        }\n                        multiPath.moveTo(position.x, position.y);\n                        if (parameters.length > 2) {\n                            command = 'l';\n                            parameters.splice(0, 2);\n                        }\n                    }\n                    if (ShapeMap[command]) {\n                        ShapeMap[command](multiPath, {\n                            parameters: parameters,\n                            position: position,\n                            isRelative: isRelative,\n                            previousCommand: previousCommand\n                        });\n                        if (closePath && closePath.toLowerCase() === CLOSE) {\n                            multiPath.close();\n                        }\n                    } else if (command !== MOVE) {\n                        throw new Error('Error while parsing SVG path. Unsupported command: ' + command);\n                    }\n                    previousCommand = command;\n                });\n                return multiPath;\n            }\n        });\n        var ShapeMap = {\n            l: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 2) {\n                    var point = new Point(parameters[i], parameters[i + 1]);\n                    if (options.isRelative) {\n                        point.translateWith(position);\n                    }\n                    path.lineTo(point.x, point.y);\n                    position.x = point.x;\n                    position.y = point.y;\n                }\n            },\n            c: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var controlOut, controlIn, point;\n                for (var i = 0; i < parameters.length; i += 6) {\n                    controlOut = new Point(parameters[i], parameters[i + 1]);\n                    controlIn = new Point(parameters[i + 2], parameters[i + 3]);\n                    point = new Point(parameters[i + 4], parameters[i + 5]);\n                    if (options.isRelative) {\n                        controlIn.translateWith(position);\n                        controlOut.translateWith(position);\n                        point.translateWith(position);\n                    }\n                    path.curveTo(controlOut, controlIn, point);\n                    position.x = point.x;\n                    position.y = point.y;\n                }\n            },\n            v: function (path, options) {\n                var value = options.isRelative ? 0 : options.position.x;\n                toLineParamaters(options.parameters, true, value);\n                this.l(path, options);\n            },\n            h: function (path, options) {\n                var value = options.isRelative ? 0 : options.position.y;\n                toLineParamaters(options.parameters, false, value);\n                this.l(path, options);\n            },\n            a: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                for (var i = 0; i < parameters.length; i += 7) {\n                    var radiusX = parameters[i];\n                    var radiusY = parameters[i + 1];\n                    var largeArc = parameters[i + 3];\n                    var swipe = parameters[i + 4];\n                    var endPoint = new Point(parameters[i + 5], parameters[i + 6]);\n                    if (options.isRelative) {\n                        endPoint.translateWith(position);\n                    }\n                    path.arcTo(endPoint, radiusX, radiusY, largeArc, swipe);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            s: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var previousCommand = options.previousCommand;\n                var controlOut, endPoint, controlIn, lastControlIn;\n                if (previousCommand == 's' || previousCommand == 'c') {\n                    lastControlIn = last(last(path.paths).segments).controlIn();\n                }\n                for (var i = 0; i < parameters.length; i += 4) {\n                    controlIn = new Point(parameters[i], parameters[i + 1]);\n                    endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n                    if (options.isRelative) {\n                        controlIn.translateWith(position);\n                        endPoint.translateWith(position);\n                    }\n                    if (lastControlIn) {\n                        controlOut = reflectionPoint(lastControlIn, position);\n                    } else {\n                        controlOut = position.clone();\n                    }\n                    lastControlIn = controlIn;\n                    path.curveTo(controlOut, controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            q: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var cubicControlPoints, endPoint, controlPoint;\n                for (var i = 0; i < parameters.length; i += 4) {\n                    controlPoint = new Point(parameters[i], parameters[i + 1]);\n                    endPoint = new Point(parameters[i + 2], parameters[i + 3]);\n                    if (options.isRelative) {\n                        controlPoint.translateWith(position);\n                        endPoint.translateWith(position);\n                    }\n                    cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            },\n            t: function (path, options) {\n                var parameters = options.parameters;\n                var position = options.position;\n                var previousCommand = options.previousCommand;\n                var cubicControlPoints, controlPoint, endPoint;\n                if (previousCommand == 'q' || previousCommand == 't') {\n                    var lastSegment = last(last(path.paths).segments);\n                    controlPoint = lastSegment.controlIn().clone().translateWith(position.scaleCopy(-1 / 3)).scale(3 / 2);\n                }\n                for (var i = 0; i < parameters.length; i += 2) {\n                    endPoint = new Point(parameters[i], parameters[i + 1]);\n                    if (options.isRelative) {\n                        endPoint.translateWith(position);\n                    }\n                    if (controlPoint) {\n                        controlPoint = reflectionPoint(controlPoint, position);\n                    } else {\n                        controlPoint = position.clone();\n                    }\n                    cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);\n                    path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);\n                    position.x = endPoint.x;\n                    position.y = endPoint.y;\n                }\n            }\n        };\n        function parseParameters(str) {\n            var parameters = [];\n            str.replace(SPLIT_REGEX, function (match, number) {\n                parameters.push(parseFloat(number));\n            });\n            return parameters;\n        }\n        function toLineParamaters(parameters, isVertical, value) {\n            var insertPosition = isVertical ? 0 : 1;\n            for (var i = 0; i < parameters.length; i += 2) {\n                parameters.splice(i + insertPosition, 0, value);\n            }\n        }\n        function reflectionPoint(point, center) {\n            if (point && center) {\n                return center.scaleCopy(2).translate(-point.x, -point.y);\n            }\n        }\n        function quadraticToCubicControlPoints(position, controlPoint, endPoint) {\n            var third = 1 / 3;\n            controlPoint = controlPoint.clone().scale(2 / 3);\n            return {\n                controlOut: controlPoint.clone().translateWith(position.scaleCopy(third)),\n                controlIn: controlPoint.translateWith(endPoint.scaleCopy(third))\n            };\n        }\n        PathParser.current = new PathParser();\n        drawing.Path.parse = function (str, options) {\n            return PathParser.current.parse(str, options);\n        };\n        deepExtend(drawing, { PathParser: PathParser });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/search', ['drawing/shapes'], f);\n}(function () {\n    (function ($) {\n        var kendo = window.kendo, drawing = kendo.drawing, geometry = kendo.geometry, Class = kendo.Class, Rect = geometry.Rect, deepExtend = kendo.deepExtend, isArray = $.isArray, inArray = $.inArray, math = Math, LEVEL_STEP = 10000, MAX_LEVEL = 75;\n        var QuadRoot = Class.extend({\n            init: function () {\n                this.shapes = [];\n            },\n            _add: function (shape, bbox) {\n                this.shapes.push({\n                    bbox: bbox,\n                    shape: shape\n                });\n                shape._quadNode = this;\n            },\n            pointShapes: function (point) {\n                var shapes = this.shapes;\n                var length = shapes.length;\n                var result = [];\n                for (var idx = 0; idx < length; idx++) {\n                    if (shapes[idx].bbox.containsPoint(point)) {\n                        result.push(shapes[idx].shape);\n                    }\n                }\n                return result;\n            },\n            insert: function (shape, bbox) {\n                this._add(shape, bbox);\n            },\n            remove: function (shape) {\n                var shapes = this.shapes;\n                var length = shapes.length;\n                for (var idx = 0; idx < length; idx++) {\n                    if (shapes[idx].shape === shape) {\n                        shapes.splice(idx, 1);\n                        break;\n                    }\n                }\n            }\n        });\n        var QuadNode = QuadRoot.extend({\n            init: function (rect) {\n                QuadRoot.fn.init.call(this);\n                this.children = [];\n                this.rect = rect;\n            },\n            inBounds: function (rect) {\n                var nodeRect = this.rect;\n                var nodeBottomRight = nodeRect.bottomRight();\n                var bottomRight = rect.bottomRight();\n                var inBounds = nodeRect.origin.x <= rect.origin.x && nodeRect.origin.y <= rect.origin.y && bottomRight.x <= nodeBottomRight.x && bottomRight.y <= nodeBottomRight.y;\n                return inBounds;\n            },\n            pointShapes: function (point) {\n                var children = this.children;\n                var length = children.length;\n                var result = QuadRoot.fn.pointShapes.call(this, point);\n                for (var idx = 0; idx < length; idx++) {\n                    result = result.concat(children[idx].pointShapes(point));\n                }\n                return result;\n            },\n            insert: function (shape, bbox) {\n                var inserted = false;\n                var children = this.children;\n                if (this.inBounds(bbox)) {\n                    if (this.shapes.length < 4) {\n                        this._add(shape, bbox);\n                    } else {\n                        if (!children.length) {\n                            this._initChildren();\n                        }\n                        for (var idx = 0; idx < children.length; idx++) {\n                            if (children[idx].insert(shape, bbox)) {\n                                inserted = true;\n                                break;\n                            }\n                        }\n                        if (!inserted) {\n                            this._add(shape, bbox);\n                        }\n                    }\n                    inserted = true;\n                }\n                return inserted;\n            },\n            _initChildren: function () {\n                var rect = this.rect, children = this.children, center = rect.center(), halfWidth = rect.width() / 2, halfHeight = rect.height() / 2;\n                children.push(new QuadNode(new Rect([\n                    rect.origin.x,\n                    rect.origin.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    center.x,\n                    rect.origin.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    rect.origin.x,\n                    center.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])), new QuadNode(new Rect([\n                    center.x,\n                    center.y\n                ], [\n                    halfWidth,\n                    halfHeight\n                ])));\n            }\n        });\n        var ShapesQuadTree = Class.extend({\n            ROOT_SIZE: 1000,\n            init: function () {\n                this.initRoots();\n            },\n            initRoots: function () {\n                this.rootMap = {};\n                this.root = new QuadRoot();\n                this.rootElements = [];\n            },\n            clear: function () {\n                var that = this;\n                var rootElements = that.rootElements;\n                for (var idx = 0; idx < rootElements.length; idx++) {\n                    this.remove(rootElements[idx]);\n                }\n                this.initRoots();\n            },\n            pointShape: function (point) {\n                var size = this.ROOT_SIZE;\n                var result = this.root.pointShapes(point);\n                var sectorRoot = (this.rootMap[math.floor(point.x / size)] || {})[math.floor(point.y / size)];\n                if (sectorRoot) {\n                    result = result.concat(sectorRoot.pointShapes(point));\n                }\n                this.assignZindex(result);\n                result.sort(zIndexComparer);\n                for (var idx = 0; idx < result.length; idx++) {\n                    if (result[idx].containsPoint(point)) {\n                        return result[idx];\n                    }\n                }\n            },\n            assignZindex: function (elements) {\n                var element, levelWeight, zIndex, parents;\n                for (var idx = 0; idx < elements.length; idx++) {\n                    element = elements[idx];\n                    zIndex = 0;\n                    levelWeight = math.pow(LEVEL_STEP, MAX_LEVEL);\n                    parents = [];\n                    while (element) {\n                        parents.push(element);\n                        element = element.parent;\n                    }\n                    while (parents.length) {\n                        element = parents.pop();\n                        zIndex += (inArray(element, element.parent ? element.parent.children : this.rootElements) + 1) * levelWeight;\n                        levelWeight /= LEVEL_STEP;\n                    }\n                    elements[idx]._zIndex = zIndex;\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'transform' || e.field == 'stroke.width') {\n                    this.bboxChange(e.element);\n                }\n            },\n            geometryChange: function (e) {\n                this.bboxChange(e.element);\n            },\n            bboxChange: function (element) {\n                if (element.nodeType === 'Group') {\n                    for (var idx = 0; idx < element.children.length; idx++) {\n                        this.bboxChange(element.children[idx]);\n                    }\n                } else {\n                    if (element._quadNode) {\n                        element._quadNode.remove(element);\n                    }\n                    this._insertShape(element);\n                }\n            },\n            add: function (elements) {\n                var elementsArray = isArray(elements) ? elements.slice(0) : [elements];\n                this.rootElements.push.apply(this.rootElements, elementsArray);\n                this._insert(elementsArray);\n            },\n            childrenChange: function (e) {\n                if (e.action == 'remove') {\n                    for (var idx = 0; idx < e.items.length; idx++) {\n                        this.remove(e.items[idx]);\n                    }\n                } else {\n                    this._insert(Array.prototype.slice.call(e.items, 0));\n                }\n            },\n            _insert: function (elements) {\n                var element;\n                while (elements.length > 0) {\n                    element = elements.pop();\n                    element.addObserver(this);\n                    if (element.nodeType == 'Group') {\n                        elements.push.apply(elements, element.children);\n                    } else {\n                        this._insertShape(element);\n                    }\n                }\n            },\n            _insertShape: function (shape) {\n                var bbox = shape.bbox();\n                if (bbox) {\n                    var rootSize = this.ROOT_SIZE;\n                    var sectors = this.getSectors(bbox);\n                    var x = sectors[0][0];\n                    var y = sectors[1][0];\n                    if (this.inRoot(sectors)) {\n                        this.root.insert(shape, bbox);\n                    } else {\n                        if (!this.rootMap[x]) {\n                            this.rootMap[x] = {};\n                        }\n                        if (!this.rootMap[x][y]) {\n                            this.rootMap[x][y] = new QuadNode(new Rect([\n                                x * rootSize,\n                                y * rootSize\n                            ], [\n                                rootSize,\n                                rootSize\n                            ]));\n                        }\n                        this.rootMap[x][y].insert(shape, bbox);\n                    }\n                }\n            },\n            remove: function (element) {\n                element.removeObserver(this);\n                if (element.nodeType == 'Group') {\n                    var children = element.children;\n                    for (var idx = 0; idx < children.length; idx++) {\n                        this.remove(children[idx]);\n                    }\n                } else if (element._quadNode) {\n                    element._quadNode.remove(element);\n                    delete element._quadNode;\n                }\n            },\n            inRoot: function (sectors) {\n                return sectors[0].length > 1 || sectors[1].length > 1;\n            },\n            getSectors: function (rect) {\n                var rootSize = this.ROOT_SIZE;\n                var bottomRight = rect.bottomRight();\n                var bottomX = math.floor(bottomRight.x / rootSize);\n                var bottomY = math.floor(bottomRight.y / rootSize);\n                var sectors = [\n                    [],\n                    []\n                ];\n                for (var x = math.floor(rect.origin.x / rootSize); x <= bottomX; x++) {\n                    sectors[0].push(x);\n                }\n                for (var y = math.floor(rect.origin.y / rootSize); y <= bottomY; y++) {\n                    sectors[1].push(y);\n                }\n                return sectors;\n            }\n        });\n        function zIndexComparer(x1, x2) {\n            if (x1._zIndex < x2._zIndex) {\n                return 1;\n            }\n            if (x1._zIndex > x2._zIndex) {\n                return -1;\n            }\n            return 0;\n        }\n        deepExtend(drawing, {\n            ShapesQuadTree: ShapesQuadTree,\n            QuadNode: QuadNode\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/svg', [\n        'drawing/shapes',\n        'util/main'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, deepExtend = kendo.deepExtend, g = kendo.geometry, d = kendo.drawing, BaseNode = d.BaseNode, util = kendo.util, defined = util.defined, isTransparent = util.isTransparent, renderAttr = util.renderAttr, renderAllAttr = util.renderAllAttr, renderTemplate = util.renderTemplate, inArray = $.inArray;\n        var BUTT = 'butt', DASH_ARRAYS = d.DASH_ARRAYS, GRADIENT = 'gradient', NONE = 'none', NS = '.kendo', SOLID = 'solid', SPACE = ' ', SVG_NS = 'http://www.w3.org/2000/svg', TRANSFORM = 'transform', UNDEFINED = 'undefined';\n        var Surface = d.Surface.extend({\n            init: function (element, options) {\n                d.Surface.fn.init.call(this, element, options);\n                this._root = new RootNode(this.options);\n                renderSVG(this.element[0], this._template(this));\n                this._rootElement = this.element[0].firstElementChild;\n                alignToScreen(this._rootElement);\n                this._root.attachTo(this._rootElement);\n                this.element.on('click' + NS, this._click);\n                this.element.on('mouseover' + NS, this._mouseenter);\n                this.element.on('mouseout' + NS, this._mouseleave);\n                this.element.on('mousemove' + NS, this._mousemove);\n                this.resize();\n            },\n            type: 'svg',\n            destroy: function () {\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                    this._rootElement = null;\n                    this.element.off(NS);\n                }\n                d.Surface.fn.destroy.call(this);\n            },\n            translate: function (offset) {\n                var viewBox = kendo.format('{0} {1} {2} {3}', Math.round(offset.x), Math.round(offset.y), this._size.width, this._size.height);\n                this._offset = offset;\n                this._rootElement.setAttribute('viewBox', viewBox);\n            },\n            draw: function (element) {\n                d.Surface.fn.draw.call(this, element);\n                this._root.load([element]);\n            },\n            clear: function () {\n                d.Surface.fn.clear.call(this);\n                this._root.clear();\n            },\n            svg: function () {\n                return '<?xml version=\\'1.0\\' ?>' + this._template(this);\n            },\n            exportVisual: function () {\n                var visual = this._visual;\n                var offset = this._offset;\n                if (offset) {\n                    var wrap = new d.Group();\n                    wrap.children.push(visual);\n                    wrap.transform(g.transform().translate(-offset.x, -offset.y));\n                    visual = wrap;\n                }\n                return visual;\n            },\n            _resize: function () {\n                if (this._offset) {\n                    this.translate(this._offset);\n                }\n            },\n            _template: renderTemplate('<svg style=\\'width: 100%; height: 100%; overflow: hidden;\\' ' + 'xmlns=\\'' + SVG_NS + '\\' ' + 'xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' ' + 'version=\\'1.1\\'>#= d._root.render() #</svg>')\n        });\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                this.definitions = {};\n            },\n            destroy: function () {\n                if (this.element) {\n                    this.element._kendoNode = null;\n                    this.element = null;\n                }\n                this.clearDefinitions();\n                BaseNode.fn.destroy.call(this);\n            },\n            load: function (elements, pos) {\n                var node = this, element = node.element, childNode, srcElement, children, i;\n                for (i = 0; i < elements.length; i++) {\n                    srcElement = elements[i];\n                    children = srcElement.children;\n                    childNode = new nodeMap[srcElement.nodeType](srcElement);\n                    if (defined(pos)) {\n                        node.insertAt(childNode, pos);\n                    } else {\n                        node.append(childNode);\n                    }\n                    childNode.createDefinitions();\n                    if (children && children.length > 0) {\n                        childNode.load(children);\n                    }\n                    if (element) {\n                        childNode.attachTo(element, pos);\n                    }\n                }\n            },\n            root: function () {\n                var root = this;\n                while (root.parent) {\n                    root = root.parent;\n                }\n                return root;\n            },\n            attachTo: function (domElement, pos) {\n                var container = doc.createElement('div');\n                renderSVG(container, '<svg xmlns=\\'' + SVG_NS + '\\' version=\\'1.1\\'>' + this.render() + '</svg>');\n                var element = container.firstChild.firstChild;\n                if (element) {\n                    if (defined(pos)) {\n                        domElement.insertBefore(element, domElement.childNodes[pos] || null);\n                    } else {\n                        domElement.appendChild(element);\n                    }\n                    this.setElement(element);\n                }\n            },\n            setElement: function (element) {\n                var nodes = this.childNodes, childElement, i;\n                if (this.element) {\n                    this.element._kendoNode = null;\n                }\n                this.element = element;\n                this.element._kendoNode = this;\n                for (i = 0; i < nodes.length; i++) {\n                    childElement = element.childNodes[i];\n                    nodes[i].setElement(childElement);\n                }\n            },\n            clear: function () {\n                this.clearDefinitions();\n                if (this.element) {\n                    this.element.innerHTML = '';\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    children[i].destroy();\n                }\n                this.childNodes = [];\n            },\n            removeSelf: function () {\n                if (this.element) {\n                    var parentNode = this.element.parentNode;\n                    if (parentNode) {\n                        parentNode.removeChild(this.element);\n                    }\n                    this.element = null;\n                }\n                BaseNode.fn.removeSelf.call(this);\n            },\n            template: renderTemplate('#= d.renderChildren() #'),\n            render: function () {\n                return this.template(this);\n            },\n            renderChildren: function () {\n                var nodes = this.childNodes, output = '', i;\n                for (i = 0; i < nodes.length; i++) {\n                    output += nodes[i].render();\n                }\n                return output;\n            },\n            optionsChange: function (e) {\n                var field = e.field;\n                var value = e.value;\n                if (field === 'visible') {\n                    this.css('display', value ? '' : NONE);\n                } else if (DefinitionMap[field] && isDefinition(field, value)) {\n                    this.updateDefinition(field, value);\n                } else if (field === 'opacity') {\n                    this.attr('opacity', value);\n                }\n                BaseNode.fn.optionsChange.call(this, e);\n            },\n            attr: function (name, value) {\n                if (this.element) {\n                    this.element.setAttribute(name, value);\n                }\n            },\n            allAttr: function (attrs) {\n                for (var i = 0; i < attrs.length; i++) {\n                    this.attr(attrs[i][0], attrs[i][1]);\n                }\n            },\n            css: function (name, value) {\n                if (this.element) {\n                    this.element.style[name] = value;\n                }\n            },\n            allCss: function (styles) {\n                for (var i = 0; i < styles.length; i++) {\n                    this.css(styles[i][0], styles[i][1]);\n                }\n            },\n            removeAttr: function (name) {\n                if (this.element) {\n                    this.element.removeAttribute(name);\n                }\n            },\n            mapTransform: function (transform) {\n                var attrs = [];\n                if (transform) {\n                    attrs.push([\n                        TRANSFORM,\n                        'matrix(' + transform.matrix().toString(6) + ')'\n                    ]);\n                }\n                return attrs;\n            },\n            renderTransform: function () {\n                return renderAllAttr(this.mapTransform(this.srcElement.transform()));\n            },\n            transformChange: function (value) {\n                if (value) {\n                    this.allAttr(this.mapTransform(value));\n                } else {\n                    this.removeAttr(TRANSFORM);\n                }\n            },\n            mapStyle: function () {\n                var options = this.srcElement.options;\n                var style = [[\n                        'cursor',\n                        options.cursor\n                    ]];\n                if (options.visible === false) {\n                    style.push([\n                        'display',\n                        NONE\n                    ]);\n                }\n                return style;\n            },\n            renderStyle: function () {\n                return renderAttr('style', util.renderStyle(this.mapStyle(true)));\n            },\n            renderOpacity: function () {\n                return renderAttr('opacity', this.srcElement.options.opacity);\n            },\n            createDefinitions: function () {\n                var srcElement = this.srcElement;\n                var definitions = this.definitions;\n                var definition, field, options, hasDefinitions;\n                if (srcElement) {\n                    options = srcElement.options;\n                    for (field in DefinitionMap) {\n                        definition = options.get(field);\n                        if (definition && isDefinition(field, definition)) {\n                            definitions[field] = definition;\n                            hasDefinitions = true;\n                        }\n                    }\n                    if (hasDefinitions) {\n                        this.definitionChange({\n                            action: 'add',\n                            definitions: definitions\n                        });\n                    }\n                }\n            },\n            definitionChange: function (e) {\n                if (this.parent) {\n                    this.parent.definitionChange(e);\n                }\n            },\n            updateDefinition: function (type, value) {\n                var definitions = this.definitions;\n                var current = definitions[type];\n                var attr = DefinitionMap[type];\n                var definition = {};\n                if (current) {\n                    definition[type] = current;\n                    this.definitionChange({\n                        action: 'remove',\n                        definitions: definition\n                    });\n                    delete definitions[type];\n                }\n                if (!value) {\n                    if (current) {\n                        this.removeAttr(attr);\n                    }\n                } else {\n                    definition[type] = value;\n                    this.definitionChange({\n                        action: 'add',\n                        definitions: definition\n                    });\n                    definitions[type] = value;\n                    this.attr(attr, refUrl(value.id));\n                }\n            },\n            clearDefinitions: function () {\n                var definitions = this.definitions;\n                var field;\n                for (field in definitions) {\n                    this.definitionChange({\n                        action: 'remove',\n                        definitions: definitions\n                    });\n                    this.definitions = {};\n                    break;\n                }\n            },\n            renderDefinitions: function () {\n                return renderAllAttr(this.mapDefinitions());\n            },\n            mapDefinitions: function () {\n                var definitions = this.definitions;\n                var attrs = [];\n                var field;\n                for (field in definitions) {\n                    attrs.push([\n                        DefinitionMap[field],\n                        refUrl(definitions[field].id)\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var RootNode = Node.extend({\n            init: function (options) {\n                Node.fn.init.call(this);\n                this.options = options;\n                this.defs = new DefinitionNode();\n            },\n            attachTo: function (domElement) {\n                this.element = domElement;\n                this.defs.attachTo(domElement.firstElementChild);\n            },\n            clear: function () {\n                BaseNode.fn.clear.call(this);\n            },\n            template: renderTemplate('#=d.defs.render()##= d.renderChildren() #'),\n            definitionChange: function (e) {\n                this.defs.definitionChange(e);\n            }\n        });\n        var DefinitionNode = Node.extend({\n            init: function () {\n                Node.fn.init.call(this);\n                this.definitionMap = {};\n            },\n            attachTo: function (domElement) {\n                this.element = domElement;\n            },\n            template: renderTemplate('<defs>#= d.renderChildren()#</defs>'),\n            definitionChange: function (e) {\n                var definitions = e.definitions;\n                var action = e.action;\n                if (action == 'add') {\n                    this.addDefinitions(definitions);\n                } else if (action == 'remove') {\n                    this.removeDefinitions(definitions);\n                }\n            },\n            createDefinition: function (type, item) {\n                var nodeType;\n                if (type == 'clip') {\n                    nodeType = ClipNode;\n                } else if (type == 'fill') {\n                    if (item instanceof d.LinearGradient) {\n                        nodeType = LinearGradientNode;\n                    } else if (item instanceof d.RadialGradient) {\n                        nodeType = RadialGradientNode;\n                    }\n                }\n                return new nodeType(item);\n            },\n            addDefinitions: function (definitions) {\n                for (var field in definitions) {\n                    this.addDefinition(field, definitions[field]);\n                }\n            },\n            addDefinition: function (type, srcElement) {\n                var definitionMap = this.definitionMap;\n                var id = srcElement.id;\n                var element = this.element;\n                var node, mapItem;\n                mapItem = definitionMap[id];\n                if (!mapItem) {\n                    node = this.createDefinition(type, srcElement);\n                    definitionMap[id] = {\n                        element: node,\n                        count: 1\n                    };\n                    this.append(node);\n                    if (element) {\n                        node.attachTo(this.element);\n                    }\n                } else {\n                    mapItem.count++;\n                }\n            },\n            removeDefinitions: function (definitions) {\n                for (var field in definitions) {\n                    this.removeDefinition(definitions[field]);\n                }\n            },\n            removeDefinition: function (srcElement) {\n                var definitionMap = this.definitionMap;\n                var id = srcElement.id;\n                var mapItem;\n                mapItem = definitionMap[id];\n                if (mapItem) {\n                    mapItem.count--;\n                    if (mapItem.count === 0) {\n                        this.remove(inArray(mapItem.element, this.childNodes), 1);\n                        delete definitionMap[id];\n                    }\n                }\n            }\n        });\n        var ClipNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this);\n                this.srcElement = srcElement;\n                this.id = srcElement.id;\n                this.load([srcElement]);\n            },\n            template: renderTemplate('<clipPath id=\\'#=d.id#\\'>#= d.renderChildren()#</clipPath>')\n        });\n        var GroupNode = Node.extend({\n            template: renderTemplate('<g#= d.renderTransform() + d.renderStyle() + d.renderOpacity() + d.renderDefinitions()#>#= d.renderChildren() #</g>'),\n            optionsChange: function (e) {\n                if (e.field == TRANSFORM) {\n                    this.transformChange(e.value);\n                }\n                Node.fn.optionsChange.call(this, e);\n            }\n        });\n        var PathNode = Node.extend({\n            geometryChange: function () {\n                this.attr('d', this.renderData());\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                switch (e.field) {\n                case 'fill':\n                    if (e.value) {\n                        this.allAttr(this.mapFill(e.value));\n                    } else {\n                        this.removeAttr('fill');\n                    }\n                    break;\n                case 'fill.color':\n                    this.allAttr(this.mapFill({ color: e.value }));\n                    break;\n                case 'stroke':\n                    if (e.value) {\n                        this.allAttr(this.mapStroke(e.value));\n                    } else {\n                        this.removeAttr('stroke');\n                    }\n                    break;\n                case TRANSFORM:\n                    this.transformChange(e.value);\n                    break;\n                default:\n                    var name = this.attributeMap[e.field];\n                    if (name) {\n                        this.attr(name, e.value);\n                    }\n                    break;\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            attributeMap: {\n                'fill.opacity': 'fill-opacity',\n                'stroke.color': 'stroke',\n                'stroke.width': 'stroke-width',\n                'stroke.opacity': 'stroke-opacity'\n            },\n            content: function () {\n                if (this.element) {\n                    this.element.textContent = this.srcElement.content();\n                }\n            },\n            renderData: function () {\n                return this.printPath(this.srcElement);\n            },\n            printPath: function (path) {\n                var segments = path.segments, length = segments.length;\n                if (length > 0) {\n                    var parts = [], output, segmentType, currentType, i;\n                    for (i = 1; i < length; i++) {\n                        segmentType = this.segmentType(segments[i - 1], segments[i]);\n                        if (segmentType !== currentType) {\n                            currentType = segmentType;\n                            parts.push(segmentType);\n                        }\n                        if (segmentType === 'L') {\n                            parts.push(this.printPoints(segments[i].anchor()));\n                        } else {\n                            parts.push(this.printPoints(segments[i - 1].controlOut(), segments[i].controlIn(), segments[i].anchor()));\n                        }\n                    }\n                    output = 'M' + this.printPoints(segments[0].anchor()) + SPACE + parts.join(SPACE);\n                    if (path.options.closed) {\n                        output += 'Z';\n                    }\n                    return output;\n                }\n            },\n            printPoints: function () {\n                var points = arguments, length = points.length, i, result = [];\n                for (i = 0; i < length; i++) {\n                    result.push(points[i].toString(3));\n                }\n                return result.join(SPACE);\n            },\n            segmentType: function (segmentStart, segmentEnd) {\n                return segmentStart.controlOut() && segmentEnd.controlIn() ? 'C' : 'L';\n            },\n            mapStroke: function (stroke) {\n                var attrs = [];\n                if (stroke && !isTransparent(stroke.color)) {\n                    attrs.push([\n                        'stroke',\n                        stroke.color\n                    ]);\n                    attrs.push([\n                        'stroke-width',\n                        stroke.width\n                    ]);\n                    attrs.push([\n                        'stroke-linecap',\n                        this.renderLinecap(stroke)\n                    ]);\n                    attrs.push([\n                        'stroke-linejoin',\n                        stroke.lineJoin\n                    ]);\n                    if (defined(stroke.opacity)) {\n                        attrs.push([\n                            'stroke-opacity',\n                            stroke.opacity\n                        ]);\n                    }\n                    if (defined(stroke.dashType)) {\n                        attrs.push([\n                            'stroke-dasharray',\n                            this.renderDashType(stroke)\n                        ]);\n                    }\n                } else {\n                    attrs.push([\n                        'stroke',\n                        NONE\n                    ]);\n                }\n                return attrs;\n            },\n            renderStroke: function () {\n                return renderAllAttr(this.mapStroke(this.srcElement.options.stroke));\n            },\n            renderDashType: function (stroke) {\n                var width = stroke.width || 1, dashType = stroke.dashType;\n                if (dashType && dashType != SOLID) {\n                    var dashArray = DASH_ARRAYS[dashType.toLowerCase()], result = [], i;\n                    for (i = 0; i < dashArray.length; i++) {\n                        result.push(dashArray[i] * width);\n                    }\n                    return result.join(' ');\n                }\n            },\n            renderLinecap: function (stroke) {\n                var dashType = stroke.dashType, lineCap = stroke.lineCap;\n                return dashType && dashType != SOLID ? BUTT : lineCap;\n            },\n            mapFill: function (fill) {\n                var attrs = [];\n                if (!(fill && fill.nodeType == GRADIENT)) {\n                    if (fill && !isTransparent(fill.color)) {\n                        attrs.push([\n                            'fill',\n                            fill.color\n                        ]);\n                        if (defined(fill.opacity)) {\n                            attrs.push([\n                                'fill-opacity',\n                                fill.opacity\n                            ]);\n                        }\n                    } else {\n                        attrs.push([\n                            'fill',\n                            NONE\n                        ]);\n                    }\n                }\n                return attrs;\n            },\n            renderFill: function () {\n                return renderAllAttr(this.mapFill(this.srcElement.options.fill));\n            },\n            template: renderTemplate('<path #= d.renderStyle() # #= d.renderOpacity() # ' + '#= kendo.util.renderAttr(\\'d\\', d.renderData()) # ' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() #></path>')\n        });\n        var ArcNode = PathNode.extend({\n            renderData: function () {\n                return this.printPath(this.srcElement.toPath());\n            }\n        });\n        var MultiPathNode = PathNode.extend({\n            renderData: function () {\n                var paths = this.srcElement.paths;\n                if (paths.length > 0) {\n                    var result = [], i;\n                    for (i = 0; i < paths.length; i++) {\n                        result.push(this.printPath(paths[i]));\n                    }\n                    return result.join(' ');\n                }\n            }\n        });\n        var CircleNode = PathNode.extend({\n            geometryChange: function () {\n                var center = this.center();\n                this.attr('cx', center.x);\n                this.attr('cy', center.y);\n                this.attr('r', this.radius());\n                this.invalidate();\n            },\n            center: function () {\n                return this.srcElement.geometry().center;\n            },\n            radius: function () {\n                return this.srcElement.geometry().radius;\n            },\n            template: renderTemplate('<circle #= d.renderStyle() # #= d.renderOpacity() # ' + 'cx=\\'#= d.center().x #\\' cy=\\'#= d.center().y #\\' ' + 'r=\\'#= d.radius() #\\' ' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() # ></circle>')\n        });\n        var TextNode = PathNode.extend({\n            geometryChange: function () {\n                var pos = this.pos();\n                this.attr('x', pos.x);\n                this.attr('y', pos.y);\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'font') {\n                    this.attr('style', util.renderStyle(this.mapStyle()));\n                    this.geometryChange();\n                } else if (e.field === 'content') {\n                    PathNode.fn.content.call(this, this.srcElement.content());\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            mapStyle: function (encode) {\n                var style = PathNode.fn.mapStyle.call(this, encode);\n                var font = this.srcElement.options.font;\n                if (encode) {\n                    font = kendo.htmlEncode(font);\n                }\n                style.push([\n                    'font',\n                    font\n                ]);\n                return style;\n            },\n            pos: function () {\n                var pos = this.srcElement.position();\n                var size = this.srcElement.measure();\n                return pos.clone().setY(pos.y + size.baseline);\n            },\n            renderContent: function () {\n                var content = this.srcElement.content();\n                content = decodeEntities(content);\n                content = kendo.htmlEncode(content);\n                return content;\n            },\n            template: renderTemplate('<text #= d.renderStyle() # #= d.renderOpacity() # ' + 'x=\\'#= this.pos().x #\\' y=\\'#= this.pos().y #\\' ' + '#= d.renderStroke() # ' + '#= d.renderTransform() # ' + '#= d.renderDefinitions() # ' + '#= d.renderFill() #>#= d.renderContent() #</text>')\n        });\n        var ImageNode = PathNode.extend({\n            geometryChange: function () {\n                this.allAttr(this.mapPosition());\n                this.invalidate();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.allAttr(this.mapSource());\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            mapPosition: function () {\n                var rect = this.srcElement.rect();\n                var tl = rect.topLeft();\n                return [\n                    [\n                        'x',\n                        tl.x\n                    ],\n                    [\n                        'y',\n                        tl.y\n                    ],\n                    [\n                        'width',\n                        rect.width() + 'px'\n                    ],\n                    [\n                        'height',\n                        rect.height() + 'px'\n                    ]\n                ];\n            },\n            renderPosition: function () {\n                return renderAllAttr(this.mapPosition());\n            },\n            mapSource: function (encode) {\n                var src = this.srcElement.src();\n                if (encode) {\n                    src = kendo.htmlEncode(src);\n                }\n                return [[\n                        'xlink:href',\n                        src\n                    ]];\n            },\n            renderSource: function () {\n                return renderAllAttr(this.mapSource(true));\n            },\n            template: renderTemplate('<image preserveAspectRatio=\\'none\\' #= d.renderStyle() # #= d.renderTransform()# #= d.renderOpacity() # ' + '#= d.renderPosition() # #= d.renderSource() # #= d.renderDefinitions()#>' + '</image>')\n        });\n        var GradientStopNode = Node.extend({\n            template: renderTemplate('<stop #=d.renderOffset()# #=d.renderStyle()# />'),\n            renderOffset: function () {\n                return renderAttr('offset', this.srcElement.offset());\n            },\n            mapStyle: function () {\n                var srcElement = this.srcElement;\n                return [\n                    [\n                        'stop-color',\n                        srcElement.color()\n                    ],\n                    [\n                        'stop-opacity',\n                        srcElement.opacity()\n                    ]\n                ];\n            },\n            optionsChange: function (e) {\n                if (e.field == 'offset') {\n                    this.attr(e.field, e.value);\n                } else if (e.field == 'color' || e.field == 'opacity') {\n                    this.css('stop-' + e.field, e.value);\n                }\n            }\n        });\n        var GradientNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this, srcElement);\n                this.id = srcElement.id;\n                this.loadStops();\n            },\n            loadStops: function () {\n                var srcElement = this.srcElement;\n                var stops = srcElement.stops;\n                var element = this.element;\n                var stopNode;\n                var idx;\n                for (idx = 0; idx < stops.length; idx++) {\n                    stopNode = new GradientStopNode(stops[idx]);\n                    this.append(stopNode);\n                    if (element) {\n                        stopNode.attachTo(element);\n                    }\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'gradient.stops') {\n                    BaseNode.fn.clear.call(this);\n                    this.loadStops();\n                } else if (e.field == GRADIENT) {\n                    this.allAttr(this.mapCoordinates());\n                }\n            },\n            renderCoordinates: function () {\n                return renderAllAttr(this.mapCoordinates());\n            },\n            mapSpace: function () {\n                return [\n                    'gradientUnits',\n                    this.srcElement.userSpace() ? 'userSpaceOnUse' : 'objectBoundingBox'\n                ];\n            }\n        });\n        var LinearGradientNode = GradientNode.extend({\n            template: renderTemplate('<linearGradient id=\\'#=d.id#\\' #=d.renderCoordinates()#>' + '#= d.renderChildren()#' + '</linearGradient>'),\n            mapCoordinates: function () {\n                var srcElement = this.srcElement;\n                var start = srcElement.start();\n                var end = srcElement.end();\n                var attrs = [\n                    [\n                        'x1',\n                        start.x\n                    ],\n                    [\n                        'y1',\n                        start.y\n                    ],\n                    [\n                        'x2',\n                        end.x\n                    ],\n                    [\n                        'y2',\n                        end.y\n                    ],\n                    this.mapSpace()\n                ];\n                return attrs;\n            }\n        });\n        var RadialGradientNode = GradientNode.extend({\n            template: renderTemplate('<radialGradient id=\\'#=d.id#\\' #=d.renderCoordinates()#>' + '#= d.renderChildren()#' + '</radialGradient>'),\n            mapCoordinates: function () {\n                var srcElement = this.srcElement;\n                var center = srcElement.center();\n                var radius = srcElement.radius();\n                var attrs = [\n                    [\n                        'cx',\n                        center.x\n                    ],\n                    [\n                        'cy',\n                        center.y\n                    ],\n                    [\n                        'r',\n                        radius\n                    ],\n                    this.mapSpace()\n                ];\n                return attrs;\n            }\n        });\n        var RectNode = PathNode.extend({\n            geometryChange: function () {\n                var geometry = this.srcElement.geometry();\n                this.attr('x', geometry.origin.x);\n                this.attr('y', geometry.origin.y);\n                this.attr('width', geometry.size.width);\n                this.attr('height', geometry.size.height);\n                this.invalidate();\n            },\n            size: function () {\n                return this.srcElement.geometry().size;\n            },\n            origin: function () {\n                return this.srcElement.geometry().origin;\n            },\n            template: renderTemplate('<rect #= d.renderStyle() # #= d.renderOpacity() # ' + 'x=\\'#= d.origin().x #\\' y=\\'#= d.origin().y #\\' ' + 'width=\\'#= d.size().width #\\' height=\\'#= d.size().height #\\'' + '#= d.renderStroke() # ' + '#= d.renderFill() # ' + '#= d.renderDefinitions() # ' + '#= d.renderTransform() # />')\n        });\n        var nodeMap = {\n            Group: GroupNode,\n            Text: TextNode,\n            Path: PathNode,\n            MultiPath: MultiPathNode,\n            Circle: CircleNode,\n            Arc: ArcNode,\n            Image: ImageNode,\n            Rect: RectNode\n        };\n        var renderSVG = function (container, svg) {\n            container.innerHTML = svg;\n        };\n        (function () {\n            var testFragment = '<svg xmlns=\\'' + SVG_NS + '\\'></svg>', testContainer = doc.createElement('div'), hasParser = typeof DOMParser != UNDEFINED;\n            testContainer.innerHTML = testFragment;\n            if (hasParser && testContainer.firstChild.namespaceURI != SVG_NS) {\n                renderSVG = function (container, svg) {\n                    var parser = new DOMParser(), chartDoc = parser.parseFromString(svg, 'text/xml'), importedDoc = doc.adoptNode(chartDoc.documentElement);\n                    container.innerHTML = '';\n                    container.appendChild(importedDoc);\n                };\n            }\n        }());\n        function alignToScreen(element) {\n            var ctm;\n            try {\n                ctm = element.getScreenCTM ? element.getScreenCTM() : null;\n            } catch (e) {\n            }\n            if (ctm) {\n                var left = -ctm.e % 1, top = -ctm.f % 1, style = element.style;\n                if (left !== 0 || top !== 0) {\n                    style.left = left + 'px';\n                    style.top = top + 'px';\n                }\n            }\n        }\n        function baseUrl() {\n            var base = document.getElementsByTagName('base')[0], url = '', href = document.location.href, hashIndex = href.indexOf('#');\n            if (base && !kendo.support.browser.msie) {\n                if (hashIndex !== -1) {\n                    href = href.substring(0, hashIndex);\n                }\n                url = href;\n            }\n            return url;\n        }\n        function refUrl(id) {\n            return 'url(' + baseUrl() + '#' + id + ')';\n        }\n        function exportGroup(group) {\n            var root = new RootNode();\n            var bbox = group.clippedBBox();\n            if (bbox) {\n                var origin = bbox.getOrigin();\n                var exportRoot = new d.Group();\n                exportRoot.transform(g.transform().translate(-origin.x, -origin.y));\n                exportRoot.children.push(group);\n                group = exportRoot;\n            }\n            root.load([group]);\n            var svg = '<?xml version=\\'1.0\\' ?>' + '<svg xmlns=\\'' + SVG_NS + '\\' ' + 'xmlns:xlink=\\'http://www.w3.org/1999/xlink\\' ' + 'version=\\'1.1\\'>' + root.render() + '</svg>';\n            root.destroy();\n            return svg;\n        }\n        function exportSVG(group, options) {\n            var svg = exportGroup(group);\n            if (!options || !options.raw) {\n                svg = 'data:image/svg+xml;base64,' + util.encodeBase64(svg);\n            }\n            return $.Deferred().resolve(svg).promise();\n        }\n        function isDefinition(type, value) {\n            return type == 'clip' || type == 'fill' && (!value || value.nodeType == GRADIENT);\n        }\n        function decodeEntities(text) {\n            if (!text || !text.indexOf || text.indexOf('&') < 0) {\n                return text;\n            } else {\n                var element = decodeEntities._element;\n                element.innerHTML = text;\n                return element.textContent || element.innerText;\n            }\n        }\n        decodeEntities._element = document.createElement('span');\n        var DefinitionMap = {\n            clip: 'clip-path',\n            fill: 'fill'\n        };\n        kendo.support.svg = function () {\n            return doc.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1');\n        }();\n        if (kendo.support.svg) {\n            d.SurfaceFactory.current.register('svg', Surface, 10);\n        }\n        deepExtend(d, {\n            exportSVG: exportSVG,\n            svg: {\n                ArcNode: ArcNode,\n                CircleNode: CircleNode,\n                ClipNode: ClipNode,\n                DefinitionNode: DefinitionNode,\n                GradientStopNode: GradientStopNode,\n                GroupNode: GroupNode,\n                ImageNode: ImageNode,\n                LinearGradientNode: LinearGradientNode,\n                MultiPathNode: MultiPathNode,\n                Node: Node,\n                PathNode: PathNode,\n                RadialGradientNode: RadialGradientNode,\n                RectNode: RectNode,\n                RootNode: RootNode,\n                Surface: Surface,\n                TextNode: TextNode,\n                _exportGroup: exportGroup\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/canvas', [\n        'drawing/search',\n        'kendo.color'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, kendo = window.kendo, deepExtend = kendo.deepExtend, util = kendo.util, defined = util.defined, isTransparent = util.isTransparent, renderTemplate = util.renderTemplate, valueOrDefault = util.valueOrDefault, g = kendo.geometry, d = kendo.drawing, BaseNode = d.BaseNode, proxy = $.proxy;\n        var BUTT = 'butt', DASH_ARRAYS = d.DASH_ARRAYS, FRAME_DELAY = 1000 / 60, SOLID = 'solid', NS = '.kendo';\n        var Surface = d.Surface.extend({\n            init: function (element, options) {\n                d.Surface.fn.init.call(this, element, options);\n                this.element[0].innerHTML = this._template(this);\n                var canvas = this.element[0].firstElementChild;\n                canvas.width = $(element).width();\n                canvas.height = $(element).height();\n                this._rootElement = canvas;\n                this._root = new RootNode(canvas);\n            },\n            destroy: function () {\n                d.Surface.fn.destroy.call(this);\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                }\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                    delete this._searchTree;\n                }\n                this.element.off(NS);\n            },\n            type: 'canvas',\n            draw: function (element) {\n                d.Surface.fn.draw.call(this, element);\n                this._root.load([element], undefined, this.options.cors);\n                if (this._searchTree) {\n                    this._searchTree.add([element]);\n                }\n            },\n            clear: function () {\n                d.Surface.fn.clear.call(this);\n                this._root.clear();\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                }\n            },\n            eventTarget: function (e) {\n                if (this._searchTree) {\n                    var point = this._surfacePoint(e);\n                    var shape = this._searchTree.pointShape(point);\n                    return shape;\n                }\n            },\n            image: function () {\n                var root = this._root;\n                var rootElement = this._rootElement;\n                var loadingStates = [];\n                root.traverse(function (childNode) {\n                    if (childNode.loading) {\n                        loadingStates.push(childNode.loading);\n                    }\n                });\n                var defer = $.Deferred();\n                $.when.apply($, loadingStates).done(function () {\n                    root._invalidate();\n                    try {\n                        var data = rootElement.toDataURL();\n                        defer.resolve(data);\n                    } catch (e) {\n                        defer.reject(e);\n                    }\n                }).fail(function (e) {\n                    defer.reject(e);\n                });\n                return defer.promise();\n            },\n            suspendTracking: function () {\n                d.Surface.fn.suspendTracking.call(this);\n                if (this._searchTree) {\n                    this._searchTree.clear();\n                    delete this._searchTree;\n                }\n            },\n            resumeTracking: function () {\n                d.Surface.fn.resumeTracking.call(this);\n                if (!this._searchTree) {\n                    this._searchTree = new d.ShapesQuadTree();\n                    var childNodes = this._root.childNodes;\n                    var rootElements = [];\n                    for (var idx = 0; idx < childNodes.length; idx++) {\n                        rootElements.push(childNodes[idx].srcElement);\n                    }\n                    this._searchTree.add(rootElements);\n                }\n            },\n            _resize: function () {\n                this._rootElement.width = this._size.width;\n                this._rootElement.height = this._size.height;\n                this._root.invalidate();\n            },\n            _template: renderTemplate('<canvas style=\\'width: 100%; height: 100%;\\'></canvas>'),\n            _enableTracking: function () {\n                this._searchTree = new d.ShapesQuadTree();\n                this._mouseTrackHandler = proxy(this._trackMouse, this);\n                this.element.on('click' + NS, this._mouseTrackHandler);\n                this.element.on('mousemove' + NS, this._mouseTrackHandler);\n                d.Surface.fn._enableTracking.call(this);\n            },\n            _trackMouse: function (e) {\n                if (this._suspendedTracking) {\n                    return;\n                }\n                var shape = this.eventTarget(e);\n                if (e.type != 'click') {\n                    var currentShape = this._currentShape;\n                    if (currentShape && currentShape !== shape) {\n                        this.trigger('mouseleave', {\n                            element: currentShape,\n                            originalEvent: e,\n                            type: 'mouseleave'\n                        });\n                    }\n                    if (shape && currentShape !== shape) {\n                        this.trigger('mouseenter', {\n                            element: shape,\n                            originalEvent: e,\n                            type: 'mouseenter'\n                        });\n                    }\n                    this.trigger('mousemove', {\n                        element: shape,\n                        originalEvent: e,\n                        type: 'mousemove'\n                    });\n                    this._currentShape = shape;\n                } else if (shape) {\n                    this.trigger('click', {\n                        element: shape,\n                        originalEvent: e,\n                        type: 'click'\n                    });\n                }\n            }\n        });\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                if (srcElement) {\n                    this.initClip();\n                }\n            },\n            initClip: function () {\n                var clip = this.srcElement.clip();\n                if (clip) {\n                    this.clip = clip;\n                    clip.addObserver(this);\n                }\n            },\n            clear: function () {\n                if (this.srcElement) {\n                    this.srcElement.removeObserver(this);\n                }\n                this.clearClip();\n                BaseNode.fn.clear.call(this);\n            },\n            clearClip: function () {\n                if (this.clip) {\n                    this.clip.removeObserver(this);\n                    delete this.clip;\n                }\n            },\n            setClip: function (ctx) {\n                if (this.clip) {\n                    ctx.beginPath();\n                    PathNode.fn.renderPoints(ctx, this.clip);\n                    ctx.clip();\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'clip') {\n                    this.clearClip();\n                    this.initClip();\n                }\n                BaseNode.fn.optionsChange.call(this, e);\n            },\n            setTransform: function (ctx) {\n                if (this.srcElement) {\n                    var transform = this.srcElement.transform();\n                    if (transform) {\n                        ctx.transform.apply(ctx, transform.matrix().toArray(6));\n                    }\n                }\n            },\n            loadElements: function (elements, pos, cors) {\n                var node = this, childNode, srcElement, children, i;\n                for (i = 0; i < elements.length; i++) {\n                    srcElement = elements[i];\n                    children = srcElement.children;\n                    childNode = new nodeMap[srcElement.nodeType](srcElement, cors);\n                    if (children && children.length > 0) {\n                        childNode.load(children, pos, cors);\n                    }\n                    if (defined(pos)) {\n                        node.insertAt(childNode, pos);\n                    } else {\n                        node.append(childNode);\n                    }\n                }\n            },\n            load: function (elements, pos, cors) {\n                this.loadElements(elements, pos, cors);\n                this.invalidate();\n            },\n            setOpacity: function (ctx) {\n                if (this.srcElement) {\n                    var opacity = this.srcElement.opacity();\n                    if (defined(opacity)) {\n                        this.globalAlpha(ctx, opacity);\n                    }\n                }\n            },\n            globalAlpha: function (ctx, value) {\n                if (value && ctx.globalAlpha) {\n                    value *= ctx.globalAlpha;\n                }\n                ctx.globalAlpha = value;\n            },\n            visible: function () {\n                var src = this.srcElement;\n                return !src || src && src.options.visible !== false;\n            }\n        });\n        var GroupNode = Node.extend({\n            renderTo: function (ctx) {\n                if (!this.visible()) {\n                    return;\n                }\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                var childNodes = this.childNodes;\n                for (var i = 0; i < childNodes.length; i++) {\n                    var child = childNodes[i];\n                    if (child.visible()) {\n                        child.renderTo(ctx);\n                    }\n                }\n                ctx.restore();\n            }\n        });\n        d.mixins.Traversable.extend(GroupNode.fn, 'childNodes');\n        var RootNode = GroupNode.extend({\n            init: function (canvas) {\n                GroupNode.fn.init.call(this);\n                this.canvas = canvas;\n                this.ctx = canvas.getContext('2d');\n                var invalidateHandler = proxy(this._invalidate, this);\n                this.invalidate = kendo.throttle(function () {\n                    kendo.animationFrame(invalidateHandler);\n                }, FRAME_DELAY);\n            },\n            destroy: function () {\n                GroupNode.fn.destroy.call(this);\n                this.canvas = null;\n                this.ctx = null;\n            },\n            load: function (elements, pos, cors) {\n                this.loadElements(elements, pos, cors);\n                this._invalidate();\n            },\n            _invalidate: function () {\n                if (!this.ctx) {\n                    return;\n                }\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n                this.renderTo(this.ctx);\n            }\n        });\n        d.mixins.Traversable.extend(RootNode.fn, 'childNodes');\n        var PathNode = Node.extend({\n            renderTo: function (ctx) {\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                ctx.beginPath();\n                this.renderPoints(ctx, this.srcElement);\n                this.setLineDash(ctx);\n                this.setLineCap(ctx);\n                this.setLineJoin(ctx);\n                this.setFill(ctx);\n                this.setStroke(ctx);\n                ctx.restore();\n            },\n            setFill: function (ctx) {\n                var fill = this.srcElement.options.fill;\n                var hasFill = false;\n                if (fill) {\n                    if (fill.nodeType == 'gradient') {\n                        this.setGradientFill(ctx, fill);\n                        hasFill = true;\n                    } else if (!isTransparent(fill.color)) {\n                        ctx.fillStyle = fill.color;\n                        ctx.save();\n                        this.globalAlpha(ctx, fill.opacity);\n                        ctx.fill();\n                        ctx.restore();\n                        hasFill = true;\n                    }\n                }\n                return hasFill;\n            },\n            setGradientFill: function (ctx, fill) {\n                var bbox = this.srcElement.rawBBox();\n                var gradient;\n                if (fill instanceof d.LinearGradient) {\n                    var start = fill.start();\n                    var end = fill.end();\n                    gradient = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n                } else if (fill instanceof d.RadialGradient) {\n                    var center = fill.center();\n                    gradient = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, fill.radius());\n                }\n                addGradientStops(gradient, fill.stops);\n                ctx.save();\n                if (!fill.userSpace()) {\n                    ctx.transform(bbox.width(), 0, 0, bbox.height(), bbox.origin.x, bbox.origin.y);\n                }\n                ctx.fillStyle = gradient;\n                ctx.fill();\n                ctx.restore();\n            },\n            setStroke: function (ctx) {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && !isTransparent(stroke.color) && stroke.width > 0) {\n                    ctx.strokeStyle = stroke.color;\n                    ctx.lineWidth = valueOrDefault(stroke.width, 1);\n                    ctx.save();\n                    this.globalAlpha(ctx, stroke.opacity);\n                    ctx.stroke();\n                    ctx.restore();\n                    return true;\n                }\n            },\n            dashType: function () {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && stroke.dashType) {\n                    return stroke.dashType.toLowerCase();\n                }\n            },\n            setLineDash: function (ctx) {\n                var dashType = this.dashType();\n                if (dashType && dashType != SOLID) {\n                    var dashArray = DASH_ARRAYS[dashType];\n                    if (ctx.setLineDash) {\n                        ctx.setLineDash(dashArray);\n                    } else {\n                        ctx.mozDash = dashArray;\n                        ctx.webkitLineDash = dashArray;\n                    }\n                }\n            },\n            setLineCap: function (ctx) {\n                var dashType = this.dashType();\n                var stroke = this.srcElement.options.stroke;\n                if (dashType && dashType !== SOLID) {\n                    ctx.lineCap = BUTT;\n                } else if (stroke && stroke.lineCap) {\n                    ctx.lineCap = stroke.lineCap;\n                }\n            },\n            setLineJoin: function (ctx) {\n                var stroke = this.srcElement.options.stroke;\n                if (stroke && stroke.lineJoin) {\n                    ctx.lineJoin = stroke.lineJoin;\n                }\n            },\n            renderPoints: function (ctx, path) {\n                var segments = path.segments;\n                if (segments.length === 0) {\n                    return;\n                }\n                var seg = segments[0];\n                var anchor = seg.anchor();\n                ctx.moveTo(anchor.x, anchor.y);\n                for (var i = 1; i < segments.length; i++) {\n                    seg = segments[i];\n                    anchor = seg.anchor();\n                    var prevSeg = segments[i - 1];\n                    var prevOut = prevSeg.controlOut();\n                    var controlIn = seg.controlIn();\n                    if (prevOut && controlIn) {\n                        ctx.bezierCurveTo(prevOut.x, prevOut.y, controlIn.x, controlIn.y, anchor.x, anchor.y);\n                    } else {\n                        ctx.lineTo(anchor.x, anchor.y);\n                    }\n                }\n                if (path.options.closed) {\n                    ctx.closePath();\n                }\n            }\n        });\n        var MultiPathNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var paths = this.srcElement.paths;\n                for (var i = 0; i < paths.length; i++) {\n                    PathNode.fn.renderPoints(ctx, paths[i]);\n                }\n            }\n        });\n        var CircleNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var geometry = this.srcElement.geometry();\n                var c = geometry.center;\n                var r = geometry.radius;\n                ctx.arc(c.x, c.y, r, 0, Math.PI * 2);\n            }\n        });\n        var ArcNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var path = this.srcElement.toPath();\n                PathNode.fn.renderPoints.call(this, ctx, path);\n            }\n        });\n        var TextNode = PathNode.extend({\n            renderTo: function (ctx) {\n                var text = this.srcElement;\n                var pos = text.position();\n                var size = text.measure();\n                ctx.save();\n                this.setTransform(ctx);\n                this.setClip(ctx);\n                this.setOpacity(ctx);\n                ctx.beginPath();\n                ctx.font = text.options.font;\n                if (this.setFill(ctx)) {\n                    ctx.fillText(text.content(), pos.x, pos.y + size.baseline);\n                }\n                if (this.setStroke(ctx)) {\n                    this.setLineDash(ctx);\n                    ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);\n                }\n                ctx.restore();\n            }\n        });\n        var ImageNode = PathNode.extend({\n            init: function (srcElement, cors) {\n                PathNode.fn.init.call(this, srcElement);\n                this.onLoad = proxy(this.onLoad, this);\n                this.onError = proxy(this.onError, this);\n                this.loading = $.Deferred();\n                var img = this.img = new Image();\n                if (cors && !/^data:/i.test(srcElement.src())) {\n                    img.crossOrigin = cors;\n                }\n                img.src = srcElement.src();\n                if (img.complete) {\n                    this.onLoad();\n                } else {\n                    img.onload = this.onLoad;\n                    img.onerror = this.onError;\n                }\n            },\n            renderTo: function (ctx) {\n                if (this.loading.state() === 'resolved') {\n                    ctx.save();\n                    this.setTransform(ctx);\n                    this.setClip(ctx);\n                    this.drawImage(ctx);\n                    ctx.restore();\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.loading = $.Deferred();\n                    this.img.src = this.srcElement.src();\n                } else {\n                    PathNode.fn.optionsChange.call(this, e);\n                }\n            },\n            onLoad: function () {\n                this.loading.resolve();\n                this.invalidate();\n            },\n            onError: function () {\n                this.loading.reject(new Error('Unable to load image \\'' + this.img.src + '\\'. Check for connectivity and verify CORS headers.'));\n            },\n            drawImage: function (ctx) {\n                var rect = this.srcElement.rect();\n                var tl = rect.topLeft();\n                ctx.drawImage(this.img, tl.x, tl.y, rect.width(), rect.height());\n            }\n        });\n        var RectNode = PathNode.extend({\n            renderPoints: function (ctx) {\n                var geometry = this.srcElement.geometry();\n                var origin = geometry.origin;\n                var size = geometry.size;\n                ctx.rect(origin.x, origin.y, size.width, size.height);\n            }\n        });\n        function exportImage(group, options) {\n            var defaults = {\n                width: '800px',\n                height: '600px',\n                cors: 'Anonymous'\n            };\n            var bbox = group.clippedBBox();\n            if (bbox) {\n                var origin = bbox.getOrigin();\n                var exportRoot = new d.Group();\n                exportRoot.transform(g.transform().translate(-origin.x, -origin.y));\n                exportRoot.children.push(group);\n                group = exportRoot;\n                var size = bbox.getSize();\n                defaults.width = size.width + 'px';\n                defaults.height = size.height + 'px';\n            }\n            options = deepExtend(defaults, options);\n            var container = $('<div />').css({\n                display: 'none',\n                width: options.width,\n                height: options.height\n            }).appendTo(document.body);\n            var surface = new Surface(container, options);\n            surface.suspendTracking();\n            surface.draw(group);\n            var promise = surface.image();\n            promise.always(function () {\n                surface.destroy();\n                container.remove();\n            });\n            return promise;\n        }\n        var nodeMap = {\n            Group: GroupNode,\n            Text: TextNode,\n            Path: PathNode,\n            MultiPath: MultiPathNode,\n            Circle: CircleNode,\n            Arc: ArcNode,\n            Image: ImageNode,\n            Rect: RectNode\n        };\n        function addGradientStops(gradient, stops) {\n            var color, stop, idx;\n            for (idx = 0; idx < stops.length; idx++) {\n                stop = stops[idx];\n                color = kendo.parseColor(stop.color());\n                color.a *= stop.opacity();\n                gradient.addColorStop(stop.offset(), color.toCssRgba());\n            }\n        }\n        kendo.support.canvas = function () {\n            return !!doc.createElement('canvas').getContext;\n        }();\n        if (kendo.support.canvas) {\n            d.SurfaceFactory.current.register('canvas', Surface, 20);\n        }\n        deepExtend(kendo.drawing, {\n            exportImage: exportImage,\n            canvas: {\n                ArcNode: ArcNode,\n                CircleNode: CircleNode,\n                GroupNode: GroupNode,\n                ImageNode: ImageNode,\n                MultiPathNode: MultiPathNode,\n                Node: Node,\n                PathNode: PathNode,\n                RectNode: RectNode,\n                RootNode: RootNode,\n                Surface: Surface,\n                TextNode: TextNode\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/vml', [\n        'drawing/shapes',\n        'kendo.color'\n    ], f);\n}(function () {\n    (function ($) {\n        var doc = document, math = Math, atan2 = math.atan2, ceil = math.ceil, sqrt = math.sqrt, kendo = window.kendo, deepExtend = kendo.deepExtend, noop = $.noop, d = kendo.drawing, BaseNode = d.BaseNode, g = kendo.geometry, toMatrix = g.toMatrix, Color = kendo.Color, util = kendo.util, isTransparent = util.isTransparent, defined = util.defined, deg = util.deg, round = util.round, valueOrDefault = util.valueOrDefault;\n        var NONE = 'none', NS = '.kendo', COORDINATE_MULTIPLE = 100, COORDINATE_SIZE = COORDINATE_MULTIPLE * COORDINATE_MULTIPLE, GRADIENT = 'gradient', TRANSFORM_PRECISION = 4;\n        var Surface = d.Surface.extend({\n            init: function (element, options) {\n                d.Surface.fn.init.call(this, element, options);\n                enableVML();\n                this.element.empty();\n                this._root = new RootNode();\n                this._root.attachTo(this.element[0]);\n                this.element.on('click' + NS, this._click);\n                this.element.on('mouseover' + NS, this._mouseenter);\n                this.element.on('mouseout' + NS, this._mouseleave);\n                this.element.on('mousemove' + NS, this._mousemove);\n            },\n            type: 'vml',\n            destroy: function () {\n                if (this._root) {\n                    this._root.destroy();\n                    this._root = null;\n                    this.element.off(NS);\n                }\n                d.Surface.fn.destroy.call(this);\n            },\n            draw: function (element) {\n                d.Surface.fn.draw.call(this, element);\n                this._root.load([element], undefined, null);\n            },\n            clear: function () {\n                d.Surface.fn.clear.call(this);\n                this._root.clear();\n            }\n        });\n        var Node = BaseNode.extend({\n            init: function (srcElement) {\n                BaseNode.fn.init.call(this, srcElement);\n                this.createElement();\n                this.attachReference();\n            },\n            observe: noop,\n            destroy: function () {\n                if (this.element) {\n                    this.element._kendoNode = null;\n                    this.element = null;\n                }\n                BaseNode.fn.destroy.call(this);\n            },\n            clear: function () {\n                if (this.element) {\n                    this.element.innerHTML = '';\n                }\n                var children = this.childNodes;\n                for (var i = 0; i < children.length; i++) {\n                    children[i].destroy();\n                }\n                this.childNodes = [];\n            },\n            removeSelf: function () {\n                if (this.element) {\n                    this.element.parentNode.removeChild(this.element);\n                    this.element = null;\n                }\n                BaseNode.fn.removeSelf.call(this);\n            },\n            createElement: function () {\n                this.element = doc.createElement('div');\n            },\n            attachReference: function () {\n                this.element._kendoNode = this;\n            },\n            load: function (elements, pos, transform, opacity) {\n                opacity = valueOrDefault(opacity, 1);\n                if (this.srcElement) {\n                    opacity *= valueOrDefault(this.srcElement.options.opacity, 1);\n                }\n                for (var i = 0; i < elements.length; i++) {\n                    var srcElement = elements[i];\n                    var children = srcElement.children;\n                    var combinedTransform = srcElement.currentTransform(transform);\n                    var currentOpacity = opacity * valueOrDefault(srcElement.options.opacity, 1);\n                    var childNode = new nodeMap[srcElement.nodeType](srcElement, combinedTransform, currentOpacity);\n                    if (children && children.length > 0) {\n                        childNode.load(children, pos, combinedTransform, opacity);\n                    }\n                    if (defined(pos)) {\n                        this.insertAt(childNode, pos);\n                    } else {\n                        this.append(childNode);\n                    }\n                    childNode.attachTo(this.element, pos);\n                }\n            },\n            attachTo: function (domElement, pos) {\n                if (defined(pos)) {\n                    domElement.insertBefore(this.element, domElement.children[pos] || null);\n                } else {\n                    domElement.appendChild(this.element);\n                }\n            },\n            optionsChange: function (e) {\n                if (e.field == 'visible') {\n                    this.css('display', e.value !== false ? '' : NONE);\n                }\n            },\n            setStyle: function () {\n                this.allCss(this.mapStyle());\n            },\n            mapStyle: function () {\n                var style = [];\n                if (this.srcElement && this.srcElement.options.visible === false) {\n                    style.push([\n                        'display',\n                        NONE\n                    ]);\n                }\n                return style;\n            },\n            mapOpacityTo: function (attrs, multiplier) {\n                var opacity = valueOrDefault(this.opacity, 1);\n                opacity *= valueOrDefault(multiplier, 1);\n                attrs.push([\n                    'opacity',\n                    opacity\n                ]);\n            },\n            attr: function (name, value) {\n                if (this.element) {\n                    this.element[name] = value;\n                }\n            },\n            allAttr: function (attrs) {\n                for (var i = 0; i < attrs.length; i++) {\n                    this.attr(attrs[i][0], attrs[i][1]);\n                }\n            },\n            css: function (name, value) {\n                if (this.element) {\n                    this.element.style[name] = value;\n                }\n            },\n            allCss: function (styles) {\n                for (var i = 0; i < styles.length; i++) {\n                    this.css(styles[i][0], styles[i][1]);\n                }\n            }\n        });\n        var RootNode = Node.extend({\n            createElement: function () {\n                Node.fn.createElement.call(this);\n                this.allCss([\n                    [\n                        'width',\n                        '100%'\n                    ],\n                    [\n                        'height',\n                        '100%'\n                    ],\n                    [\n                        'position',\n                        'relative'\n                    ],\n                    [\n                        'visibility',\n                        'visible'\n                    ]\n                ]);\n            },\n            attachReference: noop\n        });\n        var ClipObserver = kendo.Class.extend({\n            init: function (srcElement, observer) {\n                this.srcElement = srcElement;\n                this.observer = observer;\n                srcElement.addObserver(this);\n            },\n            geometryChange: function () {\n                this.observer.optionsChange({\n                    field: 'clip',\n                    value: this.srcElement\n                });\n            },\n            clear: function () {\n                this.srcElement.removeObserver(this);\n            }\n        });\n        var ObserverNode = Node.extend({\n            init: function (srcElement) {\n                Node.fn.init.call(this, srcElement);\n                if (srcElement) {\n                    this.initClip();\n                }\n            },\n            observe: function () {\n                BaseNode.fn.observe.call(this);\n            },\n            mapStyle: function () {\n                var style = Node.fn.mapStyle.call(this);\n                if (this.srcElement && this.srcElement.clip()) {\n                    style.push([\n                        'clip',\n                        this.clipRect()\n                    ]);\n                }\n                return style;\n            },\n            optionsChange: function (e) {\n                if (e.field == 'clip') {\n                    this.clearClip();\n                    this.initClip();\n                    this.setClip();\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            clear: function () {\n                this.clearClip();\n                Node.fn.clear.call(this);\n            },\n            initClip: function () {\n                if (this.srcElement.clip()) {\n                    this.clip = new ClipObserver(this.srcElement.clip(), this);\n                    this.clip.observer = this;\n                }\n            },\n            clearClip: function () {\n                if (this.clip) {\n                    this.clip.clear();\n                    this.clip = null;\n                    this.css('clip', this.clipRect());\n                }\n            },\n            setClip: function () {\n                if (this.clip) {\n                    this.css('clip', this.clipRect());\n                }\n            },\n            clipRect: function () {\n                var clipRect = EMPTY_CLIP;\n                var clip = this.srcElement.clip();\n                if (clip) {\n                    var bbox = this.clipBBox(clip);\n                    var topLeft = bbox.topLeft();\n                    var bottomRight = bbox.bottomRight();\n                    clipRect = kendo.format('rect({0}px {1}px {2}px {3}px)', topLeft.y, bottomRight.x, bottomRight.y, topLeft.x);\n                }\n                return clipRect;\n            },\n            clipBBox: function (clip) {\n                var topLeft = this.srcElement.rawBBox().topLeft();\n                var clipBBox = clip.rawBBox();\n                clipBBox.origin.translate(-topLeft.x, -topLeft.y);\n                return clipBBox;\n            }\n        });\n        var GroupNode = ObserverNode.extend({\n            createElement: function () {\n                Node.fn.createElement.call(this);\n                this.setStyle();\n            },\n            attachTo: function (domElement, pos) {\n                this.css('display', NONE);\n                Node.fn.attachTo.call(this, domElement, pos);\n                if (this.srcElement.options.visible !== false) {\n                    this.css('display', '');\n                }\n            },\n            _attachTo: function (domElement) {\n                var frag = document.createDocumentFragment();\n                frag.appendChild(this.element);\n                domElement.appendChild(frag);\n            },\n            mapStyle: function () {\n                var style = ObserverNode.fn.mapStyle.call(this);\n                style.push([\n                    'position',\n                    'absolute'\n                ]);\n                style.push([\n                    'white-space',\n                    'nowrap'\n                ]);\n                return style;\n            },\n            optionsChange: function (e) {\n                if (e.field === 'transform') {\n                    this.refreshTransform();\n                }\n                if (e.field === 'opacity') {\n                    this.refreshOpacity();\n                }\n                ObserverNode.fn.optionsChange.call(this, e);\n            },\n            refreshTransform: function (transform) {\n                var currentTransform = this.srcElement.currentTransform(transform), children = this.childNodes, length = children.length, i;\n                this.setClip();\n                for (i = 0; i < length; i++) {\n                    children[i].refreshTransform(currentTransform);\n                }\n            },\n            currentOpacity: function () {\n                var opacity = valueOrDefault(this.srcElement.options.opacity, 1);\n                if (this.parent && this.parent.currentOpacity) {\n                    opacity *= this.parent.currentOpacity();\n                }\n                return opacity;\n            },\n            refreshOpacity: function () {\n                var children = this.childNodes, length = children.length, i;\n                var opacity = this.currentOpacity();\n                for (i = 0; i < length; i++) {\n                    children[i].refreshOpacity(opacity);\n                }\n            },\n            initClip: function () {\n                ObserverNode.fn.initClip.call(this);\n                if (this.clip) {\n                    var bbox = this.clip.srcElement.bbox(this.srcElement.currentTransform());\n                    if (bbox) {\n                        this.css('width', bbox.width() + bbox.origin.x);\n                        this.css('height', bbox.height() + bbox.origin.y);\n                    }\n                }\n            },\n            clipBBox: function (clip) {\n                return clip.bbox(this.srcElement.currentTransform());\n            },\n            clearClip: function () {\n                ObserverNode.fn.clearClip.call(this);\n            }\n        });\n        var StrokeNode = Node.extend({\n            init: function (srcElement, opacity) {\n                this.opacity = opacity;\n                Node.fn.init.call(this, srcElement);\n            },\n            createElement: function () {\n                this.element = createElementVML('stroke');\n                this.setOpacity();\n            },\n            optionsChange: function (e) {\n                if (e.field.indexOf('stroke') === 0) {\n                    this.setStroke();\n                }\n            },\n            refreshOpacity: function (opacity) {\n                this.opacity = opacity;\n                this.setStroke();\n            },\n            setStroke: function () {\n                this.allAttr(this.mapStroke());\n            },\n            setOpacity: function () {\n                this.setStroke();\n            },\n            mapStroke: function () {\n                var stroke = this.srcElement.options.stroke;\n                var attrs = [];\n                if (stroke && !isTransparent(stroke.color) && stroke.width !== 0) {\n                    attrs.push([\n                        'on',\n                        'true'\n                    ]);\n                    attrs.push([\n                        'color',\n                        stroke.color\n                    ]);\n                    attrs.push([\n                        'weight',\n                        (stroke.width || 1) + 'px'\n                    ]);\n                    this.mapOpacityTo(attrs, stroke.opacity);\n                    if (defined(stroke.dashType)) {\n                        attrs.push([\n                            'dashstyle',\n                            stroke.dashType\n                        ]);\n                    }\n                    if (defined(stroke.lineJoin)) {\n                        attrs.push([\n                            'joinstyle',\n                            stroke.lineJoin\n                        ]);\n                    }\n                    if (defined(stroke.lineCap)) {\n                        var lineCap = stroke.lineCap.toLowerCase();\n                        if (lineCap === 'butt') {\n                            lineCap = lineCap === 'butt' ? 'flat' : lineCap;\n                        }\n                        attrs.push([\n                            'endcap',\n                            lineCap\n                        ]);\n                    }\n                } else {\n                    attrs.push([\n                        'on',\n                        'false'\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var FillNode = Node.extend({\n            init: function (srcElement, transform, opacity) {\n                this.opacity = opacity;\n                Node.fn.init.call(this, srcElement);\n            },\n            createElement: function () {\n                this.element = createElementVML('fill');\n                this.setFill();\n            },\n            optionsChange: function (e) {\n                if (fillField(e.field)) {\n                    this.setFill();\n                }\n            },\n            refreshOpacity: function (opacity) {\n                this.opacity = opacity;\n                this.setOpacity();\n            },\n            setFill: function () {\n                this.allAttr(this.mapFill());\n            },\n            setOpacity: function () {\n                this.setFill();\n            },\n            attr: function (name, value) {\n                var element = this.element;\n                if (element) {\n                    var fields = name.split('.');\n                    while (fields.length > 1) {\n                        element = element[fields.shift()];\n                    }\n                    element[fields[0]] = value;\n                }\n            },\n            mapFill: function () {\n                var fill = this.srcElement.fill();\n                var attrs = [[\n                        'on',\n                        'false'\n                    ]];\n                if (fill) {\n                    if (fill.nodeType == GRADIENT) {\n                        attrs = this.mapGradient(fill);\n                    } else if (!isTransparent(fill.color)) {\n                        attrs = this.mapFillColor(fill);\n                    }\n                }\n                return attrs;\n            },\n            mapFillColor: function (fill) {\n                var attrs = [\n                    [\n                        'on',\n                        'true'\n                    ],\n                    [\n                        'color',\n                        fill.color\n                    ]\n                ];\n                this.mapOpacityTo(attrs, fill.opacity);\n                return attrs;\n            },\n            mapGradient: function (fill) {\n                var options = this.srcElement.options;\n                var fallbackFill = options.fallbackFill || fill.fallbackFill && fill.fallbackFill();\n                var attrs;\n                if (fill instanceof d.LinearGradient) {\n                    attrs = this.mapLinearGradient(fill);\n                } else if (fill instanceof d.RadialGradient && fill.supportVML) {\n                    attrs = this.mapRadialGradient(fill);\n                } else if (fallbackFill) {\n                    attrs = this.mapFillColor(fallbackFill);\n                } else {\n                    attrs = [[\n                            'on',\n                            'false'\n                        ]];\n                }\n                return attrs;\n            },\n            mapLinearGradient: function (fill) {\n                var start = fill.start();\n                var end = fill.end();\n                var angle = util.deg(atan2(end.y - start.y, end.x - start.x));\n                var attrs = [\n                    [\n                        'on',\n                        'true'\n                    ],\n                    [\n                        'type',\n                        GRADIENT\n                    ],\n                    [\n                        'focus',\n                        0\n                    ],\n                    [\n                        'method',\n                        'none'\n                    ],\n                    [\n                        'angle',\n                        270 - angle\n                    ]\n                ];\n                this.addColors(attrs);\n                return attrs;\n            },\n            mapRadialGradient: function (fill) {\n                var bbox = this.srcElement.rawBBox();\n                var center = fill.center();\n                var focusx = (center.x - bbox.origin.x) / bbox.width();\n                var focusy = (center.y - bbox.origin.y) / bbox.height();\n                var attrs = [\n                    [\n                        'on',\n                        'true'\n                    ],\n                    [\n                        'type',\n                        'gradienttitle'\n                    ],\n                    [\n                        'focus',\n                        '100%'\n                    ],\n                    [\n                        'focusposition',\n                        focusx + ' ' + focusy\n                    ],\n                    [\n                        'method',\n                        'none'\n                    ]\n                ];\n                this.addColors(attrs);\n                return attrs;\n            },\n            addColors: function (attrs) {\n                var options = this.srcElement.options;\n                var opacity = valueOrDefault(this.opacity, 1);\n                var stopColors = [];\n                var stops = options.fill.stops;\n                var baseColor = options.baseColor;\n                var colorsField = this.element.colors ? 'colors.value' : 'colors';\n                var color = stopColor(baseColor, stops[0], opacity);\n                var color2 = stopColor(baseColor, stops[stops.length - 1], opacity);\n                var stop;\n                for (var idx = 0; idx < stops.length; idx++) {\n                    stop = stops[idx];\n                    stopColors.push(math.round(stop.offset() * 100) + '% ' + stopColor(baseColor, stop, opacity));\n                }\n                attrs.push([\n                    colorsField,\n                    stopColors.join(',')\n                ], [\n                    'color',\n                    color\n                ], [\n                    'color2',\n                    color2\n                ]);\n            }\n        });\n        var TransformNode = Node.extend({\n            init: function (srcElement, transform) {\n                this.transform = transform;\n                Node.fn.init.call(this, srcElement);\n            },\n            createElement: function () {\n                this.element = createElementVML('skew');\n                this.setTransform();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'transform') {\n                    this.refresh(this.srcElement.currentTransform());\n                }\n            },\n            refresh: function (transform) {\n                this.transform = transform;\n                this.setTransform();\n            },\n            transformOrigin: function () {\n                return '-0.5,-0.5';\n            },\n            setTransform: function () {\n                this.allAttr(this.mapTransform());\n            },\n            mapTransform: function () {\n                var transform = this.transform;\n                var attrs = [], matrix = toMatrix(transform);\n                if (matrix) {\n                    matrix.round(TRANSFORM_PRECISION);\n                    attrs.push([\n                        'on',\n                        'true'\n                    ], [\n                        'matrix',\n                        [\n                            matrix.a,\n                            matrix.c,\n                            matrix.b,\n                            matrix.d,\n                            0,\n                            0\n                        ].join(',')\n                    ], [\n                        'offset',\n                        matrix.e + 'px,' + matrix.f + 'px'\n                    ], [\n                        'origin',\n                        this.transformOrigin()\n                    ]);\n                } else {\n                    attrs.push([\n                        'on',\n                        'false'\n                    ]);\n                }\n                return attrs;\n            }\n        });\n        var ShapeNode = ObserverNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.fill = this.createFillNode(srcElement, transform, opacity);\n                this.stroke = new StrokeNode(srcElement, opacity);\n                this.transform = this.createTransformNode(srcElement, transform);\n                ObserverNode.fn.init.call(this, srcElement);\n            },\n            attachTo: function (domElement, pos) {\n                this.fill.attachTo(this.element);\n                this.stroke.attachTo(this.element);\n                this.transform.attachTo(this.element);\n                Node.fn.attachTo.call(this, domElement, pos);\n            },\n            createFillNode: function (srcElement, transform, opacity) {\n                return new FillNode(srcElement, transform, opacity);\n            },\n            createTransformNode: function (srcElement, transform) {\n                return new TransformNode(srcElement, transform);\n            },\n            createElement: function () {\n                this.element = createElementVML('shape');\n                this.setCoordsize();\n                this.setStyle();\n            },\n            optionsChange: function (e) {\n                if (fillField(e.field)) {\n                    this.fill.optionsChange(e);\n                } else if (e.field.indexOf('stroke') === 0) {\n                    this.stroke.optionsChange(e);\n                } else if (e.field === 'transform') {\n                    this.transform.optionsChange(e);\n                } else if (e.field === 'opacity') {\n                    this.fill.setOpacity();\n                    this.stroke.setOpacity();\n                }\n                ObserverNode.fn.optionsChange.call(this, e);\n            },\n            refreshTransform: function (transform) {\n                this.transform.refresh(this.srcElement.currentTransform(transform));\n            },\n            refreshOpacity: function (opacity) {\n                opacity *= valueOrDefault(this.srcElement.options.opacity, 1);\n                this.fill.refreshOpacity(opacity);\n                this.stroke.refreshOpacity(opacity);\n            },\n            mapStyle: function (width, height) {\n                var styles = ObserverNode.fn.mapStyle.call(this);\n                if (!width || !height) {\n                    width = height = COORDINATE_MULTIPLE;\n                }\n                styles.push([\n                    'position',\n                    'absolute'\n                ], [\n                    'width',\n                    width + 'px'\n                ], [\n                    'height',\n                    height + 'px'\n                ]);\n                var cursor = this.srcElement.options.cursor;\n                if (cursor) {\n                    styles.push([\n                        'cursor',\n                        cursor\n                    ]);\n                }\n                return styles;\n            },\n            setCoordsize: function () {\n                this.allAttr([\n                    [\n                        'coordorigin',\n                        '0 0'\n                    ],\n                    [\n                        'coordsize',\n                        COORDINATE_SIZE + ' ' + COORDINATE_SIZE\n                    ]\n                ]);\n            }\n        });\n        var PathDataNode = Node.extend({\n            createElement: function () {\n                this.element = createElementVML('path');\n                this.setPathData();\n            },\n            geometryChange: function () {\n                this.setPathData();\n            },\n            setPathData: function () {\n                this.attr('v', this.renderData());\n            },\n            renderData: function () {\n                return printPath(this.srcElement);\n            }\n        });\n        var PathNode = ShapeNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.pathData = this.createDataNode(srcElement);\n                ShapeNode.fn.init.call(this, srcElement, transform, opacity);\n            },\n            attachTo: function (domElement, pos) {\n                this.pathData.attachTo(this.element);\n                ShapeNode.fn.attachTo.call(this, domElement, pos);\n            },\n            createDataNode: function (srcElement) {\n                return new PathDataNode(srcElement);\n            },\n            geometryChange: function () {\n                this.pathData.geometryChange();\n                ShapeNode.fn.geometryChange.call(this);\n            }\n        });\n        var MultiPathDataNode = PathDataNode.extend({\n            renderData: function () {\n                var paths = this.srcElement.paths;\n                if (paths.length > 0) {\n                    var result = [], i, open;\n                    for (i = 0; i < paths.length; i++) {\n                        open = i < paths.length - 1;\n                        result.push(printPath(paths[i], open));\n                    }\n                    return result.join(' ');\n                }\n            }\n        });\n        var MultiPathNode = PathNode.extend({\n            createDataNode: function (srcElement) {\n                return new MultiPathDataNode(srcElement);\n            }\n        });\n        var CircleTransformNode = TransformNode.extend({\n            transformOrigin: function () {\n                var boundingBox = this.srcElement.geometry().bbox(), center = boundingBox.center(), originX = -ceil(center.x) / ceil(boundingBox.width()), originY = -ceil(center.y) / ceil(boundingBox.height());\n                return originX + ',' + originY;\n            }\n        });\n        var CircleNode = ShapeNode.extend({\n            createElement: function () {\n                this.element = createElementVML('oval');\n                this.setStyle();\n            },\n            createTransformNode: function (srcElement, transform) {\n                return new CircleTransformNode(srcElement, transform);\n            },\n            geometryChange: function () {\n                ShapeNode.fn.geometryChange.call(this);\n                this.setStyle();\n                this.refreshTransform();\n            },\n            mapStyle: function () {\n                var geometry = this.srcElement.geometry();\n                var radius = geometry.radius;\n                var center = geometry.center;\n                var diameter = ceil(radius * 2);\n                var styles = ShapeNode.fn.mapStyle.call(this, diameter, diameter);\n                styles.push([\n                    'left',\n                    ceil(center.x - radius) + 'px'\n                ], [\n                    'top',\n                    ceil(center.y - radius) + 'px'\n                ]);\n                return styles;\n            }\n        });\n        var ArcDataNode = PathDataNode.extend({\n            renderData: function () {\n                return printPath(this.srcElement.toPath());\n            }\n        });\n        var ArcNode = PathNode.extend({\n            createDataNode: function (srcElement) {\n                return new ArcDataNode(srcElement);\n            }\n        });\n        var TextPathDataNode = PathDataNode.extend({\n            createElement: function () {\n                PathDataNode.fn.createElement.call(this);\n                this.attr('textpathok', true);\n            },\n            renderData: function () {\n                var rect = this.srcElement.rect();\n                var center = rect.center();\n                return 'm ' + printPoints([new g.Point(rect.topLeft().x, center.y)]) + ' l ' + printPoints([new g.Point(rect.bottomRight().x, center.y)]);\n            }\n        });\n        var TextPathNode = Node.extend({\n            createElement: function () {\n                this.element = createElementVML('textpath');\n                this.attr('on', true);\n                this.attr('fitpath', false);\n                this.setStyle();\n                this.setString();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'content') {\n                    this.setString();\n                } else {\n                    this.setStyle();\n                }\n                Node.fn.optionsChange.call(this, e);\n            },\n            mapStyle: function () {\n                return [[\n                        'font',\n                        this.srcElement.options.font\n                    ]];\n            },\n            setString: function () {\n                this.attr('string', this.srcElement.content());\n            }\n        });\n        var TextNode = PathNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.path = new TextPathNode(srcElement);\n                PathNode.fn.init.call(this, srcElement, transform, opacity);\n            },\n            createDataNode: function (srcElement) {\n                return new TextPathDataNode(srcElement);\n            },\n            attachTo: function (domElement, pos) {\n                this.path.attachTo(this.element);\n                PathNode.fn.attachTo.call(this, domElement, pos);\n            },\n            optionsChange: function (e) {\n                if (e.field === 'font' || e.field === 'content') {\n                    this.path.optionsChange(e);\n                    this.pathData.geometryChange(e);\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            }\n        });\n        var ImagePathDataNode = PathDataNode.extend({\n            renderData: function () {\n                var rect = this.srcElement.rect();\n                var path = new d.Path().moveTo(rect.topLeft()).lineTo(rect.topRight()).lineTo(rect.bottomRight()).lineTo(rect.bottomLeft()).close();\n                return printPath(path);\n            }\n        });\n        var ImageFillNode = TransformNode.extend({\n            init: function (srcElement, transform, opacity) {\n                this.opacity = opacity;\n                TransformNode.fn.init.call(this, srcElement, transform);\n            },\n            createElement: function () {\n                this.element = createElementVML('fill');\n                this.attr('type', 'frame');\n                this.attr('rotate', true);\n                this.setOpacity();\n                this.setSrc();\n                this.setTransform();\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src') {\n                    this.setSrc();\n                }\n                TransformNode.fn.optionsChange.call(this, e);\n            },\n            geometryChange: function () {\n                this.refresh();\n            },\n            refreshOpacity: function (opacity) {\n                this.opacity = opacity;\n                this.setOpacity();\n            },\n            setOpacity: function () {\n                var attrs = [];\n                this.mapOpacityTo(attrs, this.srcElement.options.opacity);\n                this.allAttr(attrs);\n            },\n            setSrc: function () {\n                this.attr('src', this.srcElement.src());\n            },\n            mapTransform: function () {\n                var img = this.srcElement;\n                var rawbbox = img.rawBBox();\n                var rawcenter = rawbbox.center();\n                var fillOrigin = COORDINATE_MULTIPLE / 2;\n                var fillSize = COORDINATE_MULTIPLE;\n                var x;\n                var y;\n                var width = rawbbox.width() / fillSize;\n                var height = rawbbox.height() / fillSize;\n                var angle = 0;\n                var transform = this.transform;\n                if (transform) {\n                    var matrix = toMatrix(transform);\n                    var sx = sqrt(matrix.a * matrix.a + matrix.b * matrix.b);\n                    var sy = sqrt(matrix.c * matrix.c + matrix.d * matrix.d);\n                    width *= sx;\n                    height *= sy;\n                    var ax = deg(atan2(matrix.b, matrix.d));\n                    var ay = deg(atan2(-matrix.c, matrix.a));\n                    angle = (ax + ay) / 2;\n                    if (angle !== 0) {\n                        var center = img.bbox().center();\n                        x = (center.x - fillOrigin) / fillSize;\n                        y = (center.y - fillOrigin) / fillSize;\n                    } else {\n                        x = (rawcenter.x * sx + matrix.e - fillOrigin) / fillSize;\n                        y = (rawcenter.y * sy + matrix.f - fillOrigin) / fillSize;\n                    }\n                } else {\n                    x = (rawcenter.x - fillOrigin) / fillSize;\n                    y = (rawcenter.y - fillOrigin) / fillSize;\n                }\n                width = round(width, TRANSFORM_PRECISION);\n                height = round(height, TRANSFORM_PRECISION);\n                x = round(x, TRANSFORM_PRECISION);\n                y = round(y, TRANSFORM_PRECISION);\n                angle = round(angle, TRANSFORM_PRECISION);\n                return [\n                    [\n                        'size',\n                        width + ',' + height\n                    ],\n                    [\n                        'position',\n                        x + ',' + y\n                    ],\n                    [\n                        'angle',\n                        angle\n                    ]\n                ];\n            }\n        });\n        var ImageNode = PathNode.extend({\n            createFillNode: function (srcElement, transform, opacity) {\n                return new ImageFillNode(srcElement, transform, opacity);\n            },\n            createDataNode: function (srcElement) {\n                return new ImagePathDataNode(srcElement);\n            },\n            optionsChange: function (e) {\n                if (e.field === 'src' || e.field === 'transform') {\n                    this.fill.optionsChange(e);\n                }\n                PathNode.fn.optionsChange.call(this, e);\n            },\n            geometryChange: function () {\n                this.fill.geometryChange();\n                PathNode.fn.geometryChange.call(this);\n            },\n            refreshTransform: function (transform) {\n                PathNode.fn.refreshTransform.call(this, transform);\n                this.fill.refresh(this.srcElement.currentTransform(transform));\n            }\n        });\n        var RectDataNode = PathDataNode.extend({\n            renderData: function () {\n                var rect = this.srcElement.geometry();\n                var parts = [\n                    'm',\n                    printPoints([rect.topLeft()]),\n                    'l',\n                    printPoints([\n                        rect.topRight(),\n                        rect.bottomRight(),\n                        rect.bottomLeft()\n                    ]),\n                    'x e'\n                ];\n                return parts.join(' ');\n            }\n        });\n        var RectNode = PathNode.extend({\n            createDataNode: function (srcElement) {\n                return new RectDataNode(srcElement);\n            }\n        });\n        var nodeMap = {\n            Group: GroupNode,\n            Text: TextNode,\n            Path: PathNode,\n            MultiPath: MultiPathNode,\n            Circle: CircleNode,\n            Arc: ArcNode,\n            Image: ImageNode,\n            Rect: RectNode\n        };\n        function enableVML() {\n            if (doc.namespaces && !doc.namespaces.kvml) {\n                doc.namespaces.add('kvml', 'urn:schemas-microsoft-com:vml');\n                var stylesheet = doc.styleSheets.length > 30 ? doc.styleSheets[0] : doc.createStyleSheet();\n                stylesheet.addRule('.kvml', 'behavior:url(#default#VML)');\n            }\n        }\n        function createElementVML(type) {\n            var element = doc.createElement('kvml:' + type);\n            element.className = 'kvml';\n            return element;\n        }\n        function printPoints(points) {\n            var length = points.length;\n            var result = [];\n            for (var i = 0; i < length; i++) {\n                result.push(points[i].scaleCopy(COORDINATE_MULTIPLE).toString(0, ','));\n            }\n            return result.join(' ');\n        }\n        function printPath(path, open) {\n            var segments = path.segments, length = segments.length;\n            if (length > 0) {\n                var parts = [], output, type, currentType, i;\n                for (i = 1; i < length; i++) {\n                    type = segmentType(segments[i - 1], segments[i]);\n                    if (type !== currentType) {\n                        currentType = type;\n                        parts.push(type);\n                    }\n                    if (type === 'l') {\n                        parts.push(printPoints([segments[i].anchor()]));\n                    } else {\n                        parts.push(printPoints([\n                            segments[i - 1].controlOut(),\n                            segments[i].controlIn(),\n                            segments[i].anchor()\n                        ]));\n                    }\n                }\n                output = 'm ' + printPoints([segments[0].anchor()]) + ' ' + parts.join(' ');\n                if (path.options.closed) {\n                    output += ' x';\n                }\n                if (open !== true) {\n                    output += ' e';\n                }\n                return output;\n            }\n        }\n        function segmentType(segmentStart, segmentEnd) {\n            return segmentStart.controlOut() && segmentEnd.controlIn() ? 'c' : 'l';\n        }\n        function fillField(field) {\n            return field.indexOf('fill') === 0 || field.indexOf(GRADIENT) === 0;\n        }\n        function stopColor(baseColor, stop, baseOpacity) {\n            var opacity = baseOpacity * valueOrDefault(stop.opacity(), 1);\n            var color;\n            if (baseColor) {\n                color = blendColors(baseColor, stop.color(), opacity);\n            } else {\n                color = blendColors(stop.color(), '#fff', 1 - opacity);\n            }\n            return color;\n        }\n        function blendColors(base, overlay, alpha) {\n            var baseColor = new Color(base), overlayColor = new Color(overlay), r = blendChannel(baseColor.r, overlayColor.r, alpha), g = blendChannel(baseColor.g, overlayColor.g, alpha), b = blendChannel(baseColor.b, overlayColor.b, alpha);\n            return new Color(r, g, b).toHex();\n        }\n        function blendChannel(a, b, alpha) {\n            return math.round(alpha * b + (1 - alpha) * a);\n        }\n        kendo.support.vml = function () {\n            var browser = kendo.support.browser;\n            return browser.msie && browser.version < 9;\n        }();\n        var EMPTY_CLIP = 'inherit';\n        if (kendo.support.browser.msie && kendo.support.browser.version < 8) {\n            EMPTY_CLIP = 'rect(auto auto auto auto)';\n        }\n        if (kendo.support.vml) {\n            d.SurfaceFactory.current.register('vml', Surface, 30);\n        }\n        deepExtend(d, {\n            vml: {\n                ArcDataNode: ArcDataNode,\n                ArcNode: ArcNode,\n                CircleTransformNode: CircleTransformNode,\n                CircleNode: CircleNode,\n                FillNode: FillNode,\n                GroupNode: GroupNode,\n                ImageNode: ImageNode,\n                ImageFillNode: ImageFillNode,\n                ImagePathDataNode: ImagePathDataNode,\n                MultiPathDataNode: MultiPathDataNode,\n                MultiPathNode: MultiPathNode,\n                Node: Node,\n                PathDataNode: PathDataNode,\n                PathNode: PathNode,\n                RectDataNode: RectDataNode,\n                RectNode: RectNode,\n                RootNode: RootNode,\n                StrokeNode: StrokeNode,\n                Surface: Surface,\n                TextNode: TextNode,\n                TextPathNode: TextPathNode,\n                TextPathDataNode: TextPathDataNode,\n                TransformNode: TransformNode\n            }\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/html', [\n        'kendo.color',\n        'drawing/shapes',\n        'util/main',\n        'util/text-metrics'\n    ], f);\n}(function () {\n    (function ($, parseFloat, Math) {\n        'use strict';\n        var drawing = kendo.drawing;\n        var geo = kendo.geometry;\n        var slice = Array.prototype.slice;\n        var browser = kendo.support.browser;\n        var romanNumeral = kendo.util.arabicToRoman;\n        var mergeSort = kendo.util.mergeSort;\n        var KENDO_PSEUDO_ELEMENT = 'KENDO-PSEUDO-ELEMENT';\n        var IMAGE_CACHE = {};\n        var nodeInfo = {};\n        nodeInfo._root = nodeInfo;\n        var TextRect = drawing.Text.extend({\n            nodeType: 'Text',\n            init: function (str, rect, options) {\n                drawing.Text.fn.init.call(this, str, rect.getOrigin(), options);\n                this._pdfRect = rect;\n            },\n            rect: function () {\n                return this._pdfRect;\n            },\n            rawBBox: function () {\n                return this._pdfRect;\n            }\n        });\n        function getXY(thing) {\n            if (typeof thing == 'number') {\n                return {\n                    x: thing,\n                    y: thing\n                };\n            }\n            if (Array.isArray(thing)) {\n                return {\n                    x: thing[0],\n                    y: thing[1]\n                };\n            }\n            return {\n                x: thing.x,\n                y: thing.y\n            };\n        }\n        function drawDOM(element, options) {\n            if (!options) {\n                options = {};\n            }\n            var defer = $.Deferred();\n            element = $(element)[0];\n            if (!element) {\n                return defer.reject('No element to export');\n            }\n            if (typeof window.getComputedStyle != 'function') {\n                throw new Error('window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.');\n            }\n            if (kendo.pdf) {\n                kendo.pdf.defineFont(getFontFaces(element.ownerDocument));\n            }\n            var scale = getXY(options.scale || 1);\n            function doOne(element) {\n                var group = new drawing.Group();\n                var pos = element.getBoundingClientRect();\n                setTransform(group, [\n                    scale.x,\n                    0,\n                    0,\n                    scale.y,\n                    -pos.left * scale.x,\n                    -pos.top * scale.y\n                ]);\n                nodeInfo._clipbox = false;\n                nodeInfo._matrix = geo.Matrix.unit();\n                nodeInfo._stackingContext = {\n                    element: element,\n                    group: group\n                };\n                if (options.avoidLinks === true) {\n                    nodeInfo._avoidLinks = 'a';\n                } else {\n                    nodeInfo._avoidLinks = options.avoidLinks;\n                }\n                $(element).addClass('k-pdf-export');\n                renderElement(element, group);\n                $(element).removeClass('k-pdf-export');\n                return group;\n            }\n            cacheImages(element, function () {\n                var forceBreak = options && options.forcePageBreak;\n                var hasPaperSize = options && options.paperSize && options.paperSize != 'auto';\n                var paperOptions = kendo.pdf.getPaperOptions(function (key, def) {\n                    if (key == 'paperSize') {\n                        return hasPaperSize ? options[key] : 'A4';\n                    }\n                    return key in options ? options[key] : def;\n                });\n                var pageWidth = hasPaperSize && paperOptions.paperSize[0];\n                var pageHeight = hasPaperSize && paperOptions.paperSize[1];\n                var margin = options.margin && paperOptions.margin;\n                var hasMargin = !!margin;\n                if (forceBreak || pageHeight) {\n                    if (!margin) {\n                        margin = {\n                            left: 0,\n                            top: 0,\n                            right: 0,\n                            bottom: 0\n                        };\n                    }\n                    if (pageWidth) {\n                        pageWidth /= scale.x;\n                    }\n                    if (pageHeight) {\n                        pageHeight /= scale.y;\n                    }\n                    margin.left /= scale.x;\n                    margin.right /= scale.x;\n                    margin.top /= scale.y;\n                    margin.bottom /= scale.y;\n                    var group = new drawing.Group({\n                        pdf: {\n                            multiPage: true,\n                            paperSize: hasPaperSize ? paperOptions.paperSize : 'auto',\n                            _ignoreMargin: hasMargin\n                        }\n                    });\n                    handlePageBreaks(function (x) {\n                        if (options.progress) {\n                            var canceled = false, pageNum = 0;\n                            (function next() {\n                                if (pageNum < x.pages.length) {\n                                    var page = doOne(x.pages[pageNum]);\n                                    group.append(page);\n                                    options.progress({\n                                        page: page,\n                                        pageNum: ++pageNum,\n                                        totalPages: x.pages.length,\n                                        cancel: function () {\n                                            canceled = true;\n                                        }\n                                    });\n                                    if (!canceled) {\n                                        setTimeout(next);\n                                    } else {\n                                        x.container.parentNode.removeChild(x.container);\n                                    }\n                                } else {\n                                    x.container.parentNode.removeChild(x.container);\n                                    defer.resolve(group);\n                                }\n                            }());\n                        } else {\n                            x.pages.forEach(function (page) {\n                                group.append(doOne(page));\n                            });\n                            x.container.parentNode.removeChild(x.container);\n                            defer.resolve(group);\n                        }\n                    }, element, forceBreak, pageWidth ? pageWidth - margin.left - margin.right : null, pageHeight ? pageHeight - margin.top - margin.bottom : null, margin, options);\n                } else {\n                    defer.resolve(doOne(element));\n                }\n            });\n            function makeTemplate(template) {\n                if (template != null) {\n                    if (typeof template == 'string') {\n                        template = kendo.template(template.replace(/^\\s+|\\s+$/g, ''));\n                    }\n                    if (typeof template == 'function') {\n                        return function (data) {\n                            var el = template(data);\n                            if (el) {\n                                if (typeof el == 'string') {\n                                    el = el.replace(/^\\s+|\\s+$/g, '');\n                                }\n                                return $(el)[0];\n                            }\n                        };\n                    }\n                    return function () {\n                        return $(template).clone()[0];\n                    };\n                }\n            }\n            function cloneNodes(el) {\n                var clone = el.cloneNode(false);\n                if (el.nodeType == 1) {\n                    var $el = $(el), $clone = $(clone), i;\n                    var data = $el.data();\n                    for (i in data) {\n                        $clone.data(i, data[i]);\n                    }\n                    if (/^canvas$/i.test(el.tagName)) {\n                        clone.getContext('2d').drawImage(el, 0, 0);\n                    } else if (/^input$/i.test(el.tagName)) {\n                        el.removeAttribute('name');\n                    } else {\n                        for (i = el.firstChild; i; i = i.nextSibling) {\n                            clone.appendChild(cloneNodes(i));\n                        }\n                    }\n                }\n                return clone;\n            }\n            function handlePageBreaks(callback, element, forceBreak, pageWidth, pageHeight, margin, options) {\n                var template = makeTemplate(options.template);\n                var doc = element.ownerDocument;\n                var pages = [];\n                var copy = options._destructive ? element : cloneNodes(element);\n                var container = doc.createElement('KENDO-PDF-DOCUMENT');\n                var adjust = 0;\n                $(copy).find('tfoot').each(function () {\n                    this.parentNode.appendChild(this);\n                });\n                $(copy).find('ol').each(function () {\n                    $(this).children().each(function (index) {\n                        this.setAttribute('kendo-split-index', index);\n                    });\n                });\n                $(container).css({\n                    display: 'block',\n                    position: 'absolute',\n                    boxSizing: 'content-box',\n                    left: '-10000px',\n                    top: '-10000px'\n                });\n                if (pageWidth) {\n                    $(container).css({\n                        width: pageWidth,\n                        paddingLeft: margin.left,\n                        paddingRight: margin.right\n                    });\n                    $(copy).css({ overflow: 'hidden' });\n                }\n                element.parentNode.insertBefore(container, element);\n                container.appendChild(copy);\n                if (options.beforePageBreak) {\n                    setTimeout(function () {\n                        options.beforePageBreak(container, doPageBreak);\n                    }, 15);\n                } else {\n                    setTimeout(doPageBreak, 15);\n                }\n                function doPageBreak() {\n                    if (forceBreak != '-' || pageHeight) {\n                        splitElement(copy);\n                    }\n                    var page = makePage();\n                    copy.parentNode.insertBefore(page, copy);\n                    page.appendChild(copy);\n                    if (template) {\n                        var count = pages.length;\n                        pages.forEach(function (page, i) {\n                            var el = template({\n                                element: page,\n                                pageNum: i + 1,\n                                totalPages: pages.length\n                            });\n                            if (el) {\n                                page.appendChild(el);\n                                cacheImages(el, function () {\n                                    if (--count === 0) {\n                                        next();\n                                    }\n                                });\n                            }\n                        });\n                    } else {\n                        next();\n                    }\n                    function next() {\n                        whenImagesAreActuallyLoaded(pages, function () {\n                            callback({\n                                pages: pages,\n                                container: container\n                            });\n                        });\n                    }\n                }\n                function keepTogether(jqel) {\n                    if (options.keepTogether && jqel.is(options.keepTogether) && jqel.height() <= pageHeight - adjust) {\n                        return true;\n                    }\n                    return jqel.data('kendoChart') || /^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(jqel[0].tagName);\n                }\n                function splitElement(element) {\n                    var style = getComputedStyle(element);\n                    var bottomPadding = parseFloat(getPropertyValue(style, 'padding-bottom'));\n                    var bottomBorder = parseFloat(getPropertyValue(style, 'border-bottom-width'));\n                    var saveAdjust = adjust;\n                    adjust += bottomPadding + bottomBorder;\n                    var isFirst = true;\n                    for (var el = element.firstChild; el; el = el.nextSibling) {\n                        if (el.nodeType == 1) {\n                            isFirst = false;\n                            var jqel = $(el);\n                            if (jqel.is(forceBreak)) {\n                                breakAtElement(el);\n                                continue;\n                            }\n                            if (!pageHeight) {\n                                splitElement(el);\n                                continue;\n                            }\n                            if (!/^(?:static|relative)$/.test(getPropertyValue(getComputedStyle(el), 'position'))) {\n                                continue;\n                            }\n                            var fall = fallsOnMargin(el);\n                            if (fall == 1) {\n                                breakAtElement(el);\n                            } else if (fall) {\n                                if (keepTogether(jqel)) {\n                                    breakAtElement(el);\n                                } else {\n                                    splitElement(el);\n                                }\n                            } else {\n                                splitElement(el);\n                            }\n                        } else if (el.nodeType == 3 && pageHeight) {\n                            splitText(el, isFirst);\n                            isFirst = false;\n                        }\n                    }\n                    adjust = saveAdjust;\n                }\n                function firstInParent(el) {\n                    var p = el.parentNode, first = p.firstChild;\n                    if (el === first) {\n                        return true;\n                    }\n                    if (el === p.children[0]) {\n                        if (first.nodeType == 7 || first.nodeType == 8) {\n                            return true;\n                        }\n                        if (first.nodeType == 3) {\n                            return !/\\S/.test(first.data);\n                        }\n                    }\n                    return false;\n                }\n                function breakAtElement(el) {\n                    if (el.nodeType == 1 && el !== copy && firstInParent(el)) {\n                        return breakAtElement(el.parentNode);\n                    }\n                    var table, colgroup, thead, grid, gridHead;\n                    table = $(el).closest('table');\n                    colgroup = table.find('colgroup:first');\n                    if (options.repeatHeaders) {\n                        thead = table.find('thead:first');\n                        grid = $(el).closest('.k-grid[data-role=\"grid\"]');\n                        if (grid[0] && grid[0].querySelector('.k-auto-scrollable')) {\n                            gridHead = grid.find('.k-grid-header:first');\n                        }\n                    }\n                    var page = makePage();\n                    var range = doc.createRange();\n                    range.setStartBefore(copy);\n                    range.setEndBefore(el);\n                    page.appendChild(range.extractContents());\n                    copy.parentNode.insertBefore(page, copy);\n                    if (table[0]) {\n                        table = $(el).closest('table');\n                        if (options.repeatHeaders && thead[0]) {\n                            thead.clone().prependTo(table);\n                        }\n                        if (colgroup[0]) {\n                            colgroup.clone().prependTo(table);\n                        }\n                    }\n                    if (options.repeatHeaders && gridHead && gridHead[0]) {\n                        grid = $(el).closest('.k-grid[data-role=\"grid\"]');\n                        if (gridHead[0]) {\n                            gridHead.clone().prependTo(grid);\n                        }\n                    }\n                }\n                function makePage() {\n                    var page = doc.createElement('KENDO-PDF-PAGE');\n                    $(page).css({\n                        display: 'block',\n                        boxSizing: 'content-box',\n                        width: pageWidth || 'auto',\n                        padding: margin.top + 'px ' + margin.right + 'px ' + margin.bottom + 'px ' + margin.left + 'px',\n                        position: 'relative',\n                        height: pageHeight || 'auto',\n                        overflow: pageHeight || pageWidth ? 'hidden' : 'visible',\n                        clear: 'both'\n                    });\n                    if (options && options.pageClassName) {\n                        page.className = options.pageClassName;\n                    }\n                    pages.push(page);\n                    return page;\n                }\n                function fallsOnMargin(thing) {\n                    var box = thing.getBoundingClientRect();\n                    if (box.width === 0 || box.height === 0) {\n                        return 0;\n                    }\n                    var top = copy.getBoundingClientRect().top;\n                    var available = pageHeight - adjust;\n                    return box.height > available ? 3 : box.top - top > available ? 1 : box.bottom - top > available ? 2 : 0;\n                }\n                function splitText(node, isFirst) {\n                    if (!/\\S/.test(node.data)) {\n                        return;\n                    }\n                    var len = node.data.length;\n                    var range = doc.createRange();\n                    range.selectNodeContents(node);\n                    var fall = fallsOnMargin(range);\n                    if (!fall) {\n                        return;\n                    }\n                    var nextnode = node;\n                    if (fall == 1) {\n                        if (isFirst) {\n                            breakAtElement(node.parentNode);\n                        } else {\n                            breakAtElement(node);\n                        }\n                    } else {\n                        (function findEOP(min, pos, max) {\n                            range.setEnd(node, pos);\n                            if (min == pos || pos == max) {\n                                return pos;\n                            }\n                            if (fallsOnMargin(range)) {\n                                return findEOP(min, min + pos >> 1, pos);\n                            } else {\n                                return findEOP(pos, pos + max >> 1, max);\n                            }\n                        }(0, len >> 1, len));\n                        if (!/\\S/.test(range.toString()) && isFirst) {\n                            breakAtElement(node.parentNode);\n                        } else {\n                            nextnode = node.splitText(range.endOffset);\n                            var page = makePage();\n                            range.setStartBefore(copy);\n                            page.appendChild(range.extractContents());\n                            copy.parentNode.insertBefore(page, copy);\n                        }\n                    }\n                    splitText(nextnode);\n                }\n            }\n            return defer.promise();\n        }\n        drawing.drawDOM = drawDOM;\n        drawDOM.getFontFaces = getFontFaces;\n        var parseBackgroundImage = function () {\n            var tok_linear_gradient = /^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\\s*)\\(/;\n            var tok_percent = /^([-0-9.]+%)/;\n            var tok_length = /^([-0-9.]+px)/;\n            var tok_keyword = /^(left|right|top|bottom|to|center)\\W/;\n            var tok_angle = /^([-0-9.]+(deg|grad|rad|turn))/;\n            var tok_whitespace = /^(\\s+)/;\n            var tok_popen = /^(\\()/;\n            var tok_pclose = /^(\\))/;\n            var tok_comma = /^(,)/;\n            var tok_url = /^(url)\\(/;\n            var tok_content = /^(.*?)\\)/;\n            var cache1 = {}, cache2 = {};\n            function parse(input) {\n                var orig = input;\n                if (hasOwnProperty(cache1, orig)) {\n                    return cache1[orig];\n                }\n                function skip_ws() {\n                    var m = tok_whitespace.exec(input);\n                    if (m) {\n                        input = input.substr(m[1].length);\n                    }\n                }\n                function read(token) {\n                    skip_ws();\n                    var m = token.exec(input);\n                    if (m) {\n                        input = input.substr(m[1].length);\n                        return m[1];\n                    }\n                }\n                function read_stop() {\n                    var color = kendo.parseColor(input, true);\n                    var length, percent;\n                    if (color) {\n                        input = input.substr(color.match[0].length);\n                        color = color.toRGB();\n                        if (!(length = read(tok_length))) {\n                            percent = read(tok_percent);\n                        }\n                        return {\n                            color: color,\n                            length: length,\n                            percent: percent\n                        };\n                    }\n                }\n                function read_linear_gradient(propName) {\n                    var angle;\n                    var to1, to2;\n                    var stops = [];\n                    var reverse = false;\n                    if (read(tok_popen)) {\n                        angle = read(tok_angle);\n                        if (angle) {\n                            angle = parseAngle(angle);\n                            read(tok_comma);\n                        } else {\n                            to1 = read(tok_keyword);\n                            if (to1 == 'to') {\n                                to1 = read(tok_keyword);\n                            } else if (to1 && /^-/.test(propName)) {\n                                reverse = true;\n                            }\n                            to2 = read(tok_keyword);\n                            read(tok_comma);\n                        }\n                        if (/-moz-/.test(propName) && angle == null && to1 == null) {\n                            var x = read(tok_percent), y = read(tok_percent);\n                            reverse = true;\n                            if (x == '0%') {\n                                to1 = 'left';\n                            } else if (x == '100%') {\n                                to1 = 'right';\n                            }\n                            if (y == '0%') {\n                                to2 = 'top';\n                            } else if (y == '100%') {\n                                to2 = 'bottom';\n                            }\n                            read(tok_comma);\n                        }\n                        while (input && !read(tok_pclose)) {\n                            var stop = read_stop();\n                            if (!stop) {\n                                break;\n                            }\n                            stops.push(stop);\n                            read(tok_comma);\n                        }\n                        return {\n                            type: 'linear',\n                            angle: angle,\n                            to: to1 && to2 ? to1 + ' ' + to2 : to1 ? to1 : to2 ? to2 : null,\n                            stops: stops,\n                            reverse: reverse\n                        };\n                    }\n                }\n                function read_url() {\n                    if (read(tok_popen)) {\n                        var url = read(tok_content);\n                        url = url.replace(/^['\"]+|[\"']+$/g, '');\n                        read(tok_pclose);\n                        return {\n                            type: 'url',\n                            url: url\n                        };\n                    }\n                }\n                var tok;\n                if (tok = read(tok_linear_gradient)) {\n                    tok = read_linear_gradient(tok);\n                } else if (tok = read(tok_url)) {\n                    tok = read_url();\n                }\n                return cache1[orig] = tok || { type: 'none' };\n            }\n            return function (input) {\n                if (hasOwnProperty(cache2, input)) {\n                    return cache2[input];\n                }\n                return cache2[input] = splitProperty(input).map(parse);\n            };\n        }();\n        var splitProperty = function () {\n            var cache = {};\n            return function (input, separator) {\n                if (!separator) {\n                    separator = /^\\s*,\\s*/;\n                }\n                var cacheKey = input + separator;\n                if (hasOwnProperty(cache, cacheKey)) {\n                    return cache[cacheKey];\n                }\n                var ret = [];\n                var last = 0, pos = 0;\n                var in_paren = 0;\n                var in_string = false;\n                var m;\n                function looking_at(rx) {\n                    return m = rx.exec(input.substr(pos));\n                }\n                function trim(str) {\n                    return str.replace(/^\\s+|\\s+$/g, '');\n                }\n                while (pos < input.length) {\n                    if (!in_string && looking_at(/^[\\(\\[\\{]/)) {\n                        in_paren++;\n                        pos++;\n                    } else if (!in_string && looking_at(/^[\\)\\]\\}]/)) {\n                        in_paren--;\n                        pos++;\n                    } else if (!in_string && looking_at(/^[\\\"\\']/)) {\n                        in_string = m[0];\n                        pos++;\n                    } else if (in_string == '\\'' && looking_at(/^\\\\\\'/)) {\n                        pos += 2;\n                    } else if (in_string == '\"' && looking_at(/^\\\\\\\"/)) {\n                        pos += 2;\n                    } else if (in_string == '\\'' && looking_at(/^\\'/)) {\n                        in_string = false;\n                        pos++;\n                    } else if (in_string == '\"' && looking_at(/^\\\"/)) {\n                        in_string = false;\n                        pos++;\n                    } else if (looking_at(separator)) {\n                        if (!in_string && !in_paren && pos > last) {\n                            ret.push(trim(input.substring(last, pos)));\n                            last = pos + m[0].length;\n                        }\n                        pos += m[0].length;\n                    } else {\n                        pos++;\n                    }\n                }\n                if (last < pos) {\n                    ret.push(trim(input.substring(last, pos)));\n                }\n                return cache[cacheKey] = ret;\n            };\n        }();\n        var getFontURL = function () {\n            var cache = {};\n            return function (el) {\n                var url = cache[el];\n                if (!url) {\n                    var m;\n                    if (m = /url\\((['\"]?)([^'\")]*?)\\1\\)\\s+format\\((['\"]?)truetype\\3\\)/.exec(el)) {\n                        url = cache[el] = m[2];\n                    } else if (m = /url\\((['\"]?)([^'\")]*?\\.ttf)\\1\\)/.exec(el)) {\n                        url = cache[el] = m[2];\n                    }\n                }\n                return url;\n            };\n        }();\n        function getFontFaces(doc) {\n            if (doc == null) {\n                doc = document;\n            }\n            var result = {};\n            for (var i = 0; i < doc.styleSheets.length; ++i) {\n                doStylesheet(doc.styleSheets[i]);\n            }\n            return result;\n            function doStylesheet(ss) {\n                if (ss) {\n                    var rules = null;\n                    try {\n                        rules = ss.cssRules;\n                    } catch (ex) {\n                    }\n                    if (rules) {\n                        addRules(ss, rules);\n                    }\n                }\n            }\n            function findFonts(rule) {\n                var src = getPropertyValue(rule.style, 'src');\n                if (src) {\n                    return splitProperty(src).reduce(function (a, el) {\n                        var font = getFontURL(el);\n                        if (font) {\n                            a.push(font);\n                        }\n                        return a;\n                    }, []);\n                } else {\n                    var font = getFontURL(rule.cssText);\n                    return font ? [font] : [];\n                }\n            }\n            function addRules(styleSheet, rules) {\n                for (var i = 0; i < rules.length; ++i) {\n                    var r = rules[i];\n                    switch (r.type) {\n                    case 3:\n                        doStylesheet(r.styleSheet);\n                        break;\n                    case 5:\n                        var style = r.style;\n                        var family = splitProperty(getPropertyValue(style, 'font-family'));\n                        var bold = /^([56789]00|bold)$/i.test(getPropertyValue(style, 'font-weight'));\n                        var italic = 'italic' == getPropertyValue(style, 'font-style');\n                        var src = findFonts(r);\n                        if (src.length > 0) {\n                            addRule(styleSheet, family, bold, italic, src[0]);\n                        }\n                    }\n                }\n            }\n            function addRule(styleSheet, names, bold, italic, url) {\n                if (!/^data:/i.test(url)) {\n                    if (!(/^[^\\/:]+:\\/\\//.test(url) || /^\\//.test(url))) {\n                        url = String(styleSheet.href).replace(/[^\\/]*$/, '') + url;\n                    }\n                }\n                names.forEach(function (name) {\n                    name = name.replace(/^(['\"]?)(.*?)\\1$/, '$2');\n                    if (bold) {\n                        name += '|bold';\n                    }\n                    if (italic) {\n                        name += '|italic';\n                    }\n                    result[name] = url;\n                });\n            }\n        }\n        function hasOwnProperty(obj, key) {\n            return Object.prototype.hasOwnProperty.call(obj, key);\n        }\n        function getCounter(name) {\n            name = '_counter_' + name;\n            return nodeInfo[name];\n        }\n        function getAllCounters(name) {\n            var values = [], p = nodeInfo;\n            name = '_counter_' + name;\n            while (p) {\n                if (hasOwnProperty(p, name)) {\n                    values.push(p[name]);\n                }\n                p = Object.getPrototypeOf(p);\n            }\n            return values.reverse();\n        }\n        function incCounter(name, inc) {\n            var p = nodeInfo;\n            name = '_counter_' + name;\n            while (p && !hasOwnProperty(p, name)) {\n                p = Object.getPrototypeOf(p);\n            }\n            if (!p) {\n                p = nodeInfo._root;\n            }\n            p[name] = (p[name] || 0) + (inc == null ? 1 : inc);\n        }\n        function resetCounter(name, val) {\n            name = '_counter_' + name;\n            nodeInfo[name] = val == null ? 0 : val;\n        }\n        function doCounters(a, f, def) {\n            for (var i = 0; i < a.length;) {\n                var name = a[i++];\n                var val = parseFloat(a[i]);\n                if (isNaN(val)) {\n                    f(name, def);\n                } else {\n                    f(name, val);\n                    ++i;\n                }\n            }\n        }\n        function parseColor(str, css) {\n            var color = kendo.parseColor(str);\n            if (color) {\n                color = color.toRGB();\n                if (css) {\n                    color = color.toCssRgba();\n                } else if (color.a === 0) {\n                    color = null;\n                }\n            }\n            return color;\n        }\n        function whenImagesAreActuallyLoaded(elements, callback) {\n            var pending = 0;\n            elements.forEach(function (el) {\n                var images = el.querySelectorAll('img');\n                for (var i = 0; i < images.length; ++i) {\n                    var img = images[i];\n                    if (!img.complete) {\n                        pending++;\n                        img.onload = img.onerror = next;\n                    }\n                }\n            });\n            if (!pending) {\n                next();\n            }\n            function next() {\n                if (--pending <= 0) {\n                    callback();\n                }\n            }\n        }\n        function cacheImages(element, callback) {\n            var urls = [];\n            function add(url) {\n                if (!IMAGE_CACHE[url]) {\n                    IMAGE_CACHE[url] = true;\n                    urls.push(url);\n                }\n            }\n            (function dive(element) {\n                if (/^img$/i.test(element.tagName)) {\n                    add(element.src);\n                }\n                parseBackgroundImage(getPropertyValue(getComputedStyle(element), 'background-image')).forEach(function (bg) {\n                    if (bg.type == 'url') {\n                        add(bg.url);\n                    }\n                });\n                if (element.children) {\n                    slice.call(element.children).forEach(dive);\n                }\n            }(element));\n            var count = urls.length;\n            function next() {\n                if (--count <= 0) {\n                    callback();\n                }\n            }\n            if (count === 0) {\n                next();\n            }\n            urls.forEach(function (url) {\n                var img = IMAGE_CACHE[url] = new Image();\n                if (!/^data:/i.test(url)) {\n                    img.crossOrigin = 'Anonymous';\n                }\n                img.src = url;\n                if (img.complete) {\n                    next();\n                } else {\n                    img.onload = next;\n                    img.onerror = function () {\n                        IMAGE_CACHE[url] = null;\n                        next();\n                    };\n                }\n            });\n        }\n        function alphaNumeral(n) {\n            var result = '';\n            do {\n                var r = n % 26;\n                result = String.fromCharCode(97 + r) + result;\n                n = Math.floor(n / 26);\n            } while (n > 0);\n            return result;\n        }\n        function pushNodeInfo(element, style, group) {\n            nodeInfo = Object.create(nodeInfo);\n            nodeInfo[element.tagName.toLowerCase()] = {\n                element: element,\n                style: style\n            };\n            var decoration = getPropertyValue(style, 'text-decoration');\n            if (decoration && decoration != 'none') {\n                var color = getPropertyValue(style, 'color');\n                decoration.split(/\\s+/g).forEach(function (name) {\n                    if (!nodeInfo[name]) {\n                        nodeInfo[name] = color;\n                    }\n                });\n            }\n            if (createsStackingContext(style)) {\n                nodeInfo._stackingContext = {\n                    element: element,\n                    group: group\n                };\n            }\n        }\n        function popNodeInfo() {\n            nodeInfo = Object.getPrototypeOf(nodeInfo);\n        }\n        function updateClipbox(path) {\n            if (nodeInfo._clipbox != null) {\n                var box = path.bbox(nodeInfo._matrix);\n                if (nodeInfo._clipbox) {\n                    nodeInfo._clipbox = geo.Rect.intersect(nodeInfo._clipbox, box);\n                } else {\n                    nodeInfo._clipbox = box;\n                }\n            }\n        }\n        function emptyClipbox() {\n            var cb = nodeInfo._clipbox;\n            if (cb == null) {\n                return true;\n            }\n            if (cb) {\n                return cb.width() === 0 || cb.height() === 0;\n            }\n        }\n        function createsStackingContext(style) {\n            function prop(name) {\n                return getPropertyValue(style, name);\n            }\n            if (prop('transform') != 'none' || prop('position') != 'static' && prop('z-index') != 'auto' || prop('opacity') < 1) {\n                return true;\n            }\n        }\n        function getComputedStyle(element, pseudoElt) {\n            return window.getComputedStyle(element, pseudoElt || null);\n        }\n        function getPropertyValue(style, prop) {\n            var val = style.getPropertyValue(prop);\n            if (val == null || val === '') {\n                if (browser.webkit) {\n                    val = style.getPropertyValue('-webkit-' + prop);\n                } else if (browser.mozilla) {\n                    val = style.getPropertyValue('-moz-' + prop);\n                } else if (browser.opera) {\n                    val = style.getPropertyValue('-o-' + prop);\n                } else if (browser.msie) {\n                    val = style.getPropertyValue('-ms-' + prop);\n                }\n            }\n            return val;\n        }\n        function pleaseSetPropertyValue(style, prop, value, important) {\n            style.setProperty(prop, value, important);\n            if (browser.webkit) {\n                style.setProperty('-webkit-' + prop, value, important);\n            } else if (browser.mozilla) {\n                style.setProperty('-moz-' + prop, value, important);\n            } else if (browser.opera) {\n                style.setProperty('-o-' + prop, value, important);\n            } else if (browser.msie) {\n                style.setProperty('-ms-' + prop, value, important);\n                prop = 'ms' + prop.replace(/(^|-)([a-z])/g, function (s, p1, p2) {\n                    return p1 + p2.toUpperCase();\n                });\n                style[prop] = value;\n            }\n        }\n        function getBorder(style, side) {\n            side = 'border-' + side;\n            return {\n                width: parseFloat(getPropertyValue(style, side + '-width')),\n                style: getPropertyValue(style, side + '-style'),\n                color: parseColor(getPropertyValue(style, side + '-color'), true)\n            };\n        }\n        function saveStyle(element, func) {\n            var prev = element.style.cssText;\n            var result = func();\n            element.style.cssText = prev;\n            return result;\n        }\n        function getBorderRadius(style, side) {\n            var r = getPropertyValue(style, 'border-' + side + '-radius').split(/\\s+/g).map(parseFloat);\n            if (r.length == 1) {\n                r.push(r[0]);\n            }\n            return sanitizeRadius({\n                x: r[0],\n                y: r[1]\n            });\n        }\n        function getContentBox(element) {\n            var box = element.getBoundingClientRect();\n            box = innerBox(box, 'border-*-width', element);\n            box = innerBox(box, 'padding-*', element);\n            return box;\n        }\n        function innerBox(box, prop, element) {\n            var style, wt, wr, wb, wl;\n            if (typeof prop == 'string') {\n                style = getComputedStyle(element);\n                wt = parseFloat(getPropertyValue(style, prop.replace('*', 'top')));\n                wr = parseFloat(getPropertyValue(style, prop.replace('*', 'right')));\n                wb = parseFloat(getPropertyValue(style, prop.replace('*', 'bottom')));\n                wl = parseFloat(getPropertyValue(style, prop.replace('*', 'left')));\n            } else if (typeof prop == 'number') {\n                wt = wr = wb = wl = prop;\n            }\n            return {\n                top: box.top + wt,\n                right: box.right - wr,\n                bottom: box.bottom - wb,\n                left: box.left + wl,\n                width: box.right - box.left - wr - wl,\n                height: box.bottom - box.top - wb - wt\n            };\n        }\n        function getTransform(style) {\n            var transform = getPropertyValue(style, 'transform');\n            if (transform == 'none') {\n                return null;\n            }\n            var matrix = /^\\s*matrix\\(\\s*(.*?)\\s*\\)\\s*$/.exec(transform);\n            if (matrix) {\n                var origin = getPropertyValue(style, 'transform-origin');\n                matrix = matrix[1].split(/\\s*,\\s*/g).map(parseFloat);\n                origin = origin.split(/\\s+/g).map(parseFloat);\n                return {\n                    matrix: matrix,\n                    origin: origin\n                };\n            }\n        }\n        function radiansToDegrees(radians) {\n            return 180 * radians / Math.PI % 360;\n        }\n        function parseAngle(angle) {\n            var num = parseFloat(angle);\n            if (/grad$/.test(angle)) {\n                return Math.PI * num / 200;\n            } else if (/rad$/.test(angle)) {\n                return num;\n            } else if (/turn$/.test(angle)) {\n                return Math.PI * num * 2;\n            } else if (/deg$/.test(angle)) {\n                return Math.PI * num / 180;\n            }\n        }\n        function setTransform(shape, m) {\n            m = new geo.Matrix(m[0], m[1], m[2], m[3], m[4], m[5]);\n            shape.transform(m);\n            return m;\n        }\n        function setClipping(shape, clipPath) {\n            shape.clip(clipPath);\n        }\n        function addArcToPath(path, x, y, options) {\n            var points = new geo.Arc([\n                    x,\n                    y\n                ], options).curvePoints(), i = 1;\n            while (i < points.length) {\n                path.curveTo(points[i++], points[i++], points[i++]);\n            }\n        }\n        function sanitizeRadius(r) {\n            if (r.x <= 0 || r.y <= 0) {\n                r.x = r.y = 0;\n            }\n            return r;\n        }\n        function adjustBorderRadiusForBox(box, rTL, rTR, rBR, rBL) {\n            var tl_x = Math.max(0, rTL.x), tl_y = Math.max(0, rTL.y);\n            var tr_x = Math.max(0, rTR.x), tr_y = Math.max(0, rTR.y);\n            var br_x = Math.max(0, rBR.x), br_y = Math.max(0, rBR.y);\n            var bl_x = Math.max(0, rBL.x), bl_y = Math.max(0, rBL.y);\n            var f = Math.min(box.width / (tl_x + tr_x), box.height / (tr_y + br_y), box.width / (br_x + bl_x), box.height / (bl_y + tl_y));\n            if (f < 1) {\n                tl_x *= f;\n                tl_y *= f;\n                tr_x *= f;\n                tr_y *= f;\n                br_x *= f;\n                br_y *= f;\n                bl_x *= f;\n                bl_y *= f;\n            }\n            return {\n                tl: {\n                    x: tl_x,\n                    y: tl_y\n                },\n                tr: {\n                    x: tr_x,\n                    y: tr_y\n                },\n                br: {\n                    x: br_x,\n                    y: br_y\n                },\n                bl: {\n                    x: bl_x,\n                    y: bl_y\n                }\n            };\n        }\n        function elementRoundBox(element, box, type) {\n            var style = getComputedStyle(element);\n            var rTL = getBorderRadius(style, 'top-left');\n            var rTR = getBorderRadius(style, 'top-right');\n            var rBL = getBorderRadius(style, 'bottom-left');\n            var rBR = getBorderRadius(style, 'bottom-right');\n            if (type == 'padding' || type == 'content') {\n                var bt = getBorder(style, 'top');\n                var br = getBorder(style, 'right');\n                var bb = getBorder(style, 'bottom');\n                var bl = getBorder(style, 'left');\n                rTL.x -= bl.width;\n                rTL.y -= bt.width;\n                rTR.x -= br.width;\n                rTR.y -= bt.width;\n                rBR.x -= br.width;\n                rBR.y -= bb.width;\n                rBL.x -= bl.width;\n                rBL.y -= bb.width;\n                if (type == 'content') {\n                    var pt = parseFloat(getPropertyValue(style, 'padding-top'));\n                    var pr = parseFloat(getPropertyValue(style, 'padding-right'));\n                    var pb = parseFloat(getPropertyValue(style, 'padding-bottom'));\n                    var pl = parseFloat(getPropertyValue(style, 'padding-left'));\n                    rTL.x -= pl;\n                    rTL.y -= pt;\n                    rTR.x -= pr;\n                    rTR.y -= pt;\n                    rBR.x -= pr;\n                    rBR.y -= pb;\n                    rBL.x -= pl;\n                    rBL.y -= pb;\n                }\n            }\n            if (typeof type == 'number') {\n                rTL.x -= type;\n                rTL.y -= type;\n                rTR.x -= type;\n                rTR.y -= type;\n                rBR.x -= type;\n                rBR.y -= type;\n                rBL.x -= type;\n                rBL.y -= type;\n            }\n            return roundBox(box, rTL, rTR, rBR, rBL);\n        }\n        function roundBox(box, rTL0, rTR0, rBR0, rBL0) {\n            var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n            var rTL = tmp.tl;\n            var rTR = tmp.tr;\n            var rBR = tmp.br;\n            var rBL = tmp.bl;\n            var path = new drawing.Path({\n                fill: null,\n                stroke: null\n            });\n            path.moveTo(box.left, box.top + rTL.y);\n            if (rTL.x) {\n                addArcToPath(path, box.left + rTL.x, box.top + rTL.y, {\n                    startAngle: -180,\n                    endAngle: -90,\n                    radiusX: rTL.x,\n                    radiusY: rTL.y\n                });\n            }\n            path.lineTo(box.right - rTR.x, box.top);\n            if (rTR.x) {\n                addArcToPath(path, box.right - rTR.x, box.top + rTR.y, {\n                    startAngle: -90,\n                    endAngle: 0,\n                    radiusX: rTR.x,\n                    radiusY: rTR.y\n                });\n            }\n            path.lineTo(box.right, box.bottom - rBR.y);\n            if (rBR.x) {\n                addArcToPath(path, box.right - rBR.x, box.bottom - rBR.y, {\n                    startAngle: 0,\n                    endAngle: 90,\n                    radiusX: rBR.x,\n                    radiusY: rBR.y\n                });\n            }\n            path.lineTo(box.left + rBL.x, box.bottom);\n            if (rBL.x) {\n                addArcToPath(path, box.left + rBL.x, box.bottom - rBL.y, {\n                    startAngle: 90,\n                    endAngle: 180,\n                    radiusX: rBL.x,\n                    radiusY: rBL.y\n                });\n            }\n            return path.close();\n        }\n        function formatCounter(val, style) {\n            var str = parseFloat(val) + '';\n            switch (style) {\n            case 'decimal-leading-zero':\n                if (str.length < 2) {\n                    str = '0' + str;\n                }\n                return str;\n            case 'lower-roman':\n                return romanNumeral(val).toLowerCase();\n            case 'upper-roman':\n                return romanNumeral(val).toUpperCase();\n            case 'lower-latin':\n            case 'lower-alpha':\n                return alphaNumeral(val - 1);\n            case 'upper-latin':\n            case 'upper-alpha':\n                return alphaNumeral(val - 1).toUpperCase();\n            default:\n                return str;\n            }\n        }\n        function evalPseudoElementContent(element, content) {\n            function displayCounter(name, style, separator) {\n                if (!separator) {\n                    return formatCounter(getCounter(name) || 0, style);\n                }\n                separator = separator.replace(/^\\s*([\"'])(.*)\\1\\s*$/, '$2');\n                return getAllCounters(name).map(function (val) {\n                    return formatCounter(val, style);\n                }).join(separator);\n            }\n            var a = splitProperty(content, /^\\s+/);\n            var result = [], m;\n            a.forEach(function (el) {\n                var tmp;\n                if (m = /^\\s*([\"'])(.*)\\1\\s*$/.exec(el)) {\n                    result.push(m[2].replace(/\\\\([0-9a-f]{4})/gi, function (s, p) {\n                        return String.fromCharCode(parseInt(p, 16));\n                    }));\n                } else if (m = /^\\s*counter\\((.*?)\\)\\s*$/.exec(el)) {\n                    tmp = splitProperty(m[1]);\n                    result.push(displayCounter(tmp[0], tmp[1]));\n                } else if (m = /^\\s*counters\\((.*?)\\)\\s*$/.exec(el)) {\n                    tmp = splitProperty(m[1]);\n                    result.push(displayCounter(tmp[0], tmp[2], tmp[1]));\n                } else if (m = /^\\s*attr\\((.*?)\\)\\s*$/.exec(el)) {\n                    result.push(element.getAttribute(m[1]) || '');\n                } else {\n                    result.push(el);\n                }\n            });\n            return result.join('');\n        }\n        function getCssText(style) {\n            if (style.cssText) {\n                return style.cssText;\n            }\n            var result = [];\n            for (var i = 0; i < style.length; ++i) {\n                result.push(style[i] + ': ' + getPropertyValue(style, style[i]));\n            }\n            return result.join(';\\n');\n        }\n        function _renderWithPseudoElements(element, group) {\n            if (element.tagName == KENDO_PSEUDO_ELEMENT) {\n                _renderElement(element, group);\n                return;\n            }\n            var fake = [];\n            function pseudo(kind, place) {\n                var style = getComputedStyle(element, kind);\n                if (style.content && style.content != 'normal' && style.content != 'none' && style.width != '0px') {\n                    var psel = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n                    psel.style.cssText = getCssText(style);\n                    psel.textContent = evalPseudoElementContent(element, style.content);\n                    element.insertBefore(psel, place);\n                    fake.push(psel);\n                }\n            }\n            pseudo(':before', element.firstChild);\n            pseudo(':after', null);\n            var saveClass = element.className;\n            element.className += ' kendo-pdf-hide-pseudo-elements';\n            _renderElement(element, group);\n            element.className = saveClass;\n            fake.forEach(function (el) {\n                element.removeChild(el);\n            });\n        }\n        function _renderElement(element, group) {\n            var style = getComputedStyle(element);\n            var top = getBorder(style, 'top');\n            var right = getBorder(style, 'right');\n            var bottom = getBorder(style, 'bottom');\n            var left = getBorder(style, 'left');\n            var rTL0 = getBorderRadius(style, 'top-left');\n            var rTR0 = getBorderRadius(style, 'top-right');\n            var rBL0 = getBorderRadius(style, 'bottom-left');\n            var rBR0 = getBorderRadius(style, 'bottom-right');\n            var dir = getPropertyValue(style, 'direction');\n            var backgroundColor = getPropertyValue(style, 'background-color');\n            backgroundColor = parseColor(backgroundColor);\n            var backgroundImage = parseBackgroundImage(getPropertyValue(style, 'background-image'));\n            var backgroundRepeat = splitProperty(getPropertyValue(style, 'background-repeat'));\n            var backgroundPosition = splitProperty(getPropertyValue(style, 'background-position'));\n            var backgroundOrigin = splitProperty(getPropertyValue(style, 'background-origin'));\n            var backgroundSize = splitProperty(getPropertyValue(style, 'background-size'));\n            if (browser.msie && browser.version < 10) {\n                backgroundPosition = splitProperty(element.currentStyle.backgroundPosition);\n            }\n            var innerbox = innerBox(element.getBoundingClientRect(), 'border-*-width', element);\n            (function () {\n                var clip = getPropertyValue(style, 'clip');\n                var m = /^\\s*rect\\((.*)\\)\\s*$/.exec(clip);\n                if (m) {\n                    var a = m[1].split(/[ ,]+/g);\n                    var top = a[0] == 'auto' ? innerbox.top : parseFloat(a[0]) + innerbox.top;\n                    var right = a[1] == 'auto' ? innerbox.right : parseFloat(a[1]) + innerbox.left;\n                    var bottom = a[2] == 'auto' ? innerbox.bottom : parseFloat(a[2]) + innerbox.top;\n                    var left = a[3] == 'auto' ? innerbox.left : parseFloat(a[3]) + innerbox.left;\n                    var tmp = new drawing.Group();\n                    var clipPath = new drawing.Path().moveTo(left, top).lineTo(right, top).lineTo(right, bottom).lineTo(left, bottom).close();\n                    setClipping(tmp, clipPath);\n                    group.append(tmp);\n                    group = tmp;\n                    updateClipbox(clipPath);\n                }\n            }());\n            var boxes, i, cells;\n            var display = getPropertyValue(style, 'display');\n            if (display == 'table-row') {\n                boxes = [];\n                for (i = 0, cells = element.children; i < cells.length; ++i) {\n                    boxes.push(cells[i].getBoundingClientRect());\n                }\n            } else {\n                boxes = element.getClientRects();\n                if (boxes.length == 1) {\n                    boxes = [element.getBoundingClientRect()];\n                }\n            }\n            boxes = adjustBoxes(boxes);\n            for (i = 0; i < boxes.length; ++i) {\n                drawOneBox(boxes[i], i === 0, i == boxes.length - 1);\n            }\n            if (boxes.length > 0 && display == 'list-item') {\n                drawBullet(boxes[0]);\n            }\n            (function () {\n                function clipit() {\n                    var clipPath = elementRoundBox(element, innerbox, 'padding');\n                    var tmp = new drawing.Group();\n                    setClipping(tmp, clipPath);\n                    group.append(tmp);\n                    group = tmp;\n                    updateClipbox(clipPath);\n                }\n                if (isFormField(element)) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow'))) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-x'))) {\n                    clipit();\n                } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, 'overflow-y'))) {\n                    clipit();\n                }\n            }());\n            if (!maybeRenderWidget(element, group)) {\n                renderContents(element, group);\n            }\n            return group;\n            function adjustBoxes(boxes) {\n                if (/^td$/i.test(element.tagName)) {\n                    var table = nodeInfo.table;\n                    if (table && getPropertyValue(table.style, 'border-collapse') == 'collapse') {\n                        var tableBorderLeft = getBorder(table.style, 'left').width;\n                        var tableBorderTop = getBorder(table.style, 'top').width;\n                        if (tableBorderLeft === 0 && tableBorderTop === 0) {\n                            return boxes;\n                        }\n                        var tableBox = table.element.getBoundingClientRect();\n                        var firstCell = table.element.rows[0].cells[0];\n                        var firstCellBox = firstCell.getBoundingClientRect();\n                        if (firstCellBox.top == tableBox.top || firstCellBox.left == tableBox.left) {\n                            return slice.call(boxes).map(function (box) {\n                                return {\n                                    left: box.left + tableBorderLeft,\n                                    top: box.top + tableBorderTop,\n                                    right: box.right + tableBorderLeft,\n                                    bottom: box.bottom + tableBorderTop,\n                                    height: box.height,\n                                    width: box.width\n                                };\n                            });\n                        }\n                    }\n                }\n                return boxes;\n            }\n            function drawEdge(color, len, Wtop, Wleft, Wright, rl, rr, transform) {\n                if (Wtop <= 0) {\n                    return;\n                }\n                var path, edge = new drawing.Group();\n                setTransform(edge, transform);\n                group.append(edge);\n                sanitizeRadius(rl);\n                sanitizeRadius(rr);\n                path = new drawing.Path({\n                    fill: { color: color },\n                    stroke: null\n                });\n                edge.append(path);\n                path.moveTo(rl.x ? Math.max(rl.x, Wleft) : 0, 0).lineTo(len - (rr.x ? Math.max(rr.x, Wright) : 0), 0).lineTo(len - Math.max(rr.x, Wright), Wtop).lineTo(Math.max(rl.x, Wleft), Wtop).close();\n                if (rl.x) {\n                    drawRoundCorner(Wleft, rl, [\n                        -1,\n                        0,\n                        0,\n                        1,\n                        rl.x,\n                        0\n                    ]);\n                }\n                if (rr.x) {\n                    drawRoundCorner(Wright, rr, [\n                        1,\n                        0,\n                        0,\n                        1,\n                        len - rr.x,\n                        0\n                    ]);\n                }\n                function drawRoundCorner(Wright, r, transform) {\n                    var angle = Math.PI / 2 * Wright / (Wright + Wtop);\n                    var ri = {\n                        x: r.x - Wright,\n                        y: r.y - Wtop\n                    };\n                    var path = new drawing.Path({\n                        fill: { color: color },\n                        stroke: null\n                    }).moveTo(0, 0);\n                    setTransform(path, transform);\n                    addArcToPath(path, 0, r.y, {\n                        startAngle: -90,\n                        endAngle: -radiansToDegrees(angle),\n                        radiusX: r.x,\n                        radiusY: r.y\n                    });\n                    if (ri.x > 0 && ri.y > 0) {\n                        path.lineTo(ri.x * Math.cos(angle), r.y - ri.y * Math.sin(angle));\n                        addArcToPath(path, 0, r.y, {\n                            startAngle: -radiansToDegrees(angle),\n                            endAngle: -90,\n                            radiusX: ri.x,\n                            radiusY: ri.y,\n                            anticlockwise: true\n                        });\n                    } else if (ri.x > 0) {\n                        path.lineTo(ri.x, Wtop).lineTo(0, Wtop);\n                    } else {\n                        path.lineTo(ri.x, Wtop).lineTo(ri.x, 0);\n                    }\n                    edge.append(path.close());\n                }\n            }\n            function drawBackground(box) {\n                var background = new drawing.Group();\n                setClipping(background, roundBox(box, rTL0, rTR0, rBR0, rBL0));\n                group.append(background);\n                if (element.tagName == 'A' && element.href && !/^#?$/.test($(element).attr('href'))) {\n                    if (!nodeInfo._avoidLinks || !$(element).is(nodeInfo._avoidLinks)) {\n                        background._pdfLink = {\n                            url: element.href,\n                            top: box.top,\n                            right: box.right,\n                            bottom: box.bottom,\n                            left: box.left\n                        };\n                    }\n                }\n                if (backgroundColor) {\n                    var path = new drawing.Path({\n                        fill: { color: backgroundColor.toCssRgba() },\n                        stroke: null\n                    });\n                    path.moveTo(box.left, box.top).lineTo(box.right, box.top).lineTo(box.right, box.bottom).lineTo(box.left, box.bottom).close();\n                    background.append(path);\n                }\n                for (var i = backgroundImage.length; --i >= 0;) {\n                    drawOneBackground(background, box, backgroundImage[i], backgroundRepeat[i % backgroundRepeat.length], backgroundPosition[i % backgroundPosition.length], backgroundOrigin[i % backgroundOrigin.length], backgroundSize[i % backgroundSize.length]);\n                }\n            }\n            function drawOneBackground(group, box, background, backgroundRepeat, backgroundPosition, backgroundOrigin, backgroundSize) {\n                if (!background || background == 'none') {\n                    return;\n                }\n                if (background.type == 'url') {\n                    if (/^url\\(\\\"data:image\\/svg/i.test(background.url)) {\n                        return;\n                    }\n                    var img = IMAGE_CACHE[background.url];\n                    if (img && img.width > 0 && img.height > 0) {\n                        drawBackgroundImage(group, box, img.width, img.height, function (group, rect) {\n                            group.append(new drawing.Image(background.url, rect));\n                        });\n                    }\n                } else if (background.type == 'linear') {\n                    drawBackgroundImage(group, box, box.width, box.height, gradientRenderer(background));\n                } else {\n                    return;\n                }\n                function drawBackgroundImage(group, box, img_width, img_height, renderBG) {\n                    var aspect_ratio = img_width / img_height, f;\n                    var orgBox = box;\n                    if (backgroundOrigin == 'content-box') {\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\n                        orgBox = innerBox(orgBox, 'padding-*', element);\n                    } else if (backgroundOrigin == 'padding-box') {\n                        orgBox = innerBox(orgBox, 'border-*-width', element);\n                    }\n                    if (!/^\\s*auto(\\s+auto)?\\s*$/.test(backgroundSize)) {\n                        if (backgroundSize == 'contain') {\n                            f = Math.min(orgBox.width / img_width, orgBox.height / img_height);\n                            img_width *= f;\n                            img_height *= f;\n                        } else if (backgroundSize == 'cover') {\n                            f = Math.max(orgBox.width / img_width, orgBox.height / img_height);\n                            img_width *= f;\n                            img_height *= f;\n                        } else {\n                            var size = backgroundSize.split(/\\s+/g);\n                            if (/%$/.test(size[0])) {\n                                img_width = orgBox.width * parseFloat(size[0]) / 100;\n                            } else {\n                                img_width = parseFloat(size[0]);\n                            }\n                            if (size.length == 1 || size[1] == 'auto') {\n                                img_height = img_width / aspect_ratio;\n                            } else if (/%$/.test(size[1])) {\n                                img_height = orgBox.height * parseFloat(size[1]) / 100;\n                            } else {\n                                img_height = parseFloat(size[1]);\n                            }\n                        }\n                    }\n                    var pos = (backgroundPosition + '').split(/\\s+/);\n                    if (pos.length == 1) {\n                        pos[1] = '50%';\n                    }\n                    if (/%$/.test(pos[0])) {\n                        pos[0] = parseFloat(pos[0]) / 100 * (orgBox.width - img_width);\n                    } else {\n                        pos[0] = parseFloat(pos[0]);\n                    }\n                    if (/%$/.test(pos[1])) {\n                        pos[1] = parseFloat(pos[1]) / 100 * (orgBox.height - img_height);\n                    } else {\n                        pos[1] = parseFloat(pos[1]);\n                    }\n                    var rect = new geo.Rect([\n                        orgBox.left + pos[0],\n                        orgBox.top + pos[1]\n                    ], [\n                        img_width,\n                        img_height\n                    ]);\n                    function rewX() {\n                        while (rect.origin.x > box.left) {\n                            rect.origin.x -= img_width;\n                        }\n                    }\n                    function rewY() {\n                        while (rect.origin.y > box.top) {\n                            rect.origin.y -= img_height;\n                        }\n                    }\n                    function repeatX() {\n                        while (rect.origin.x < box.right) {\n                            renderBG(group, rect.clone());\n                            rect.origin.x += img_width;\n                        }\n                    }\n                    if (backgroundRepeat == 'no-repeat') {\n                        renderBG(group, rect);\n                    } else if (backgroundRepeat == 'repeat-x') {\n                        rewX();\n                        repeatX();\n                    } else if (backgroundRepeat == 'repeat-y') {\n                        rewY();\n                        while (rect.origin.y < box.bottom) {\n                            renderBG(group, rect.clone());\n                            rect.origin.y += img_height;\n                        }\n                    } else if (backgroundRepeat == 'repeat') {\n                        rewX();\n                        rewY();\n                        var origin = rect.origin.clone();\n                        while (rect.origin.y < box.bottom) {\n                            rect.origin.x = origin.x;\n                            repeatX();\n                            rect.origin.y += img_height;\n                        }\n                    }\n                }\n            }\n            function drawBullet() {\n                var listStyleType = getPropertyValue(style, 'list-style-type');\n                if (listStyleType == 'none') {\n                    return;\n                }\n                var listStylePosition = getPropertyValue(style, 'list-style-position');\n                function _drawBullet(f) {\n                    saveStyle(element, function () {\n                        element.style.position = 'relative';\n                        var bullet = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);\n                        bullet.style.position = 'absolute';\n                        bullet.style.boxSizing = 'border-box';\n                        if (listStylePosition == 'outside') {\n                            bullet.style.width = '6em';\n                            bullet.style.left = '-6.8em';\n                            bullet.style.textAlign = 'right';\n                        } else {\n                            bullet.style.left = '0px';\n                        }\n                        f(bullet);\n                        element.insertBefore(bullet, element.firstChild);\n                        renderElement(bullet, group);\n                        element.removeChild(bullet);\n                    });\n                }\n                function elementIndex(f) {\n                    var a = element.parentNode.children;\n                    var k = element.getAttribute('kendo-split-index');\n                    if (k != null) {\n                        return f(k | 0, a.length);\n                    }\n                    for (var i = 0; i < a.length; ++i) {\n                        if (a[i] === element) {\n                            return f(i, a.length);\n                        }\n                    }\n                }\n                switch (listStyleType) {\n                case 'circle':\n                case 'disc':\n                case 'square':\n                    _drawBullet(function (bullet) {\n                        bullet.style.fontSize = '60%';\n                        bullet.style.lineHeight = '200%';\n                        bullet.style.paddingRight = '0.5em';\n                        bullet.style.fontFamily = 'DejaVu Serif';\n                        bullet.innerHTML = {\n                            'disc': '\\u25CF',\n                            'circle': '\\u25EF',\n                            'square': '\\u25A0'\n                        }[listStyleType];\n                    });\n                    break;\n                case 'decimal':\n                case 'decimal-leading-zero':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            ++idx;\n                            if (listStyleType == 'decimal-leading-zero' && (idx + '').length < 2) {\n                                idx = '0' + idx;\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                case 'lower-roman':\n                case 'upper-roman':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            idx = romanNumeral(idx + 1);\n                            if (listStyleType == 'upper-roman') {\n                                idx = idx.toUpperCase();\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                case 'lower-latin':\n                case 'lower-alpha':\n                case 'upper-latin':\n                case 'upper-alpha':\n                    _drawBullet(function (bullet) {\n                        elementIndex(function (idx) {\n                            idx = alphaNumeral(idx);\n                            if (/^upper/i.test(listStyleType)) {\n                                idx = idx.toUpperCase();\n                            }\n                            bullet.innerHTML = idx + '.';\n                        });\n                    });\n                    break;\n                }\n            }\n            function drawOneBox(box, isFirst, isLast) {\n                if (box.width === 0 || box.height === 0) {\n                    return;\n                }\n                drawBackground(box);\n                var shouldDrawLeft = left.width > 0 && (isFirst && dir == 'ltr' || isLast && dir == 'rtl');\n                var shouldDrawRight = right.width > 0 && (isLast && dir == 'ltr' || isFirst && dir == 'rtl');\n                if (top.width === 0 && left.width === 0 && right.width === 0 && bottom.width === 0) {\n                    return;\n                }\n                if (true) {\n                    if (top.color == right.color && top.color == bottom.color && top.color == left.color) {\n                        if (top.width == right.width && top.width == bottom.width && top.width == left.width) {\n                            if (shouldDrawLeft && shouldDrawRight) {\n                                box = innerBox(box, top.width / 2);\n                                var path = elementRoundBox(element, box, top.width / 2);\n                                path.options.stroke = {\n                                    color: top.color,\n                                    width: top.width\n                                };\n                                group.append(path);\n                                return;\n                            }\n                        }\n                    }\n                    if (rTL0.x === 0 && rTR0.x === 0 && rBR0.x === 0 && rBL0.x === 0) {\n                        if (top.width < 2 && left.width < 2 && right.width < 2 && bottom.width < 2) {\n                            if (top.width > 0) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: top.width,\n                                        color: top.color\n                                    }\n                                }).moveTo(box.left, box.top + top.width / 2).lineTo(box.right, box.top + top.width / 2));\n                            }\n                            if (bottom.width > 0) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: bottom.width,\n                                        color: bottom.color\n                                    }\n                                }).moveTo(box.left, box.bottom - bottom.width / 2).lineTo(box.right, box.bottom - bottom.width / 2));\n                            }\n                            if (shouldDrawLeft) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: left.width,\n                                        color: left.color\n                                    }\n                                }).moveTo(box.left + left.width / 2, box.top).lineTo(box.left + left.width / 2, box.bottom));\n                            }\n                            if (shouldDrawRight) {\n                                group.append(new drawing.Path({\n                                    stroke: {\n                                        width: right.width,\n                                        color: right.color\n                                    }\n                                }).moveTo(box.right - right.width / 2, box.top).lineTo(box.right - right.width / 2, box.bottom));\n                            }\n                            return;\n                        }\n                    }\n                }\n                var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);\n                var rTL = tmp.tl;\n                var rTR = tmp.tr;\n                var rBR = tmp.br;\n                var rBL = tmp.bl;\n                drawEdge(top.color, box.width, top.width, left.width, right.width, rTL, rTR, [\n                    1,\n                    0,\n                    0,\n                    1,\n                    box.left,\n                    box.top\n                ]);\n                drawEdge(bottom.color, box.width, bottom.width, right.width, left.width, rBR, rBL, [\n                    -1,\n                    0,\n                    0,\n                    -1,\n                    box.right,\n                    box.bottom\n                ]);\n                function inv(p) {\n                    return {\n                        x: p.y,\n                        y: p.x\n                    };\n                }\n                drawEdge(left.color, box.height, left.width, bottom.width, top.width, inv(rBL), inv(rTL), [\n                    0,\n                    -1,\n                    1,\n                    0,\n                    box.left,\n                    box.bottom\n                ]);\n                drawEdge(right.color, box.height, right.width, top.width, bottom.width, inv(rTR), inv(rBR), [\n                    0,\n                    1,\n                    -1,\n                    0,\n                    box.right,\n                    box.top\n                ]);\n            }\n        }\n        function gradientRenderer(gradient) {\n            return function (group, rect) {\n                var width = rect.width(), height = rect.height();\n                switch (gradient.type) {\n                case 'linear':\n                    var angle = gradient.angle != null ? gradient.angle : Math.PI;\n                    switch (gradient.to) {\n                    case 'top':\n                        angle = 0;\n                        break;\n                    case 'left':\n                        angle = -Math.PI / 2;\n                        break;\n                    case 'bottom':\n                        angle = Math.PI;\n                        break;\n                    case 'right':\n                        angle = Math.PI / 2;\n                        break;\n                    case 'top left':\n                    case 'left top':\n                        angle = -Math.atan2(height, width);\n                        break;\n                    case 'top right':\n                    case 'right top':\n                        angle = Math.atan2(height, width);\n                        break;\n                    case 'bottom left':\n                    case 'left bottom':\n                        angle = Math.PI + Math.atan2(height, width);\n                        break;\n                    case 'bottom right':\n                    case 'right bottom':\n                        angle = Math.PI - Math.atan2(height, width);\n                        break;\n                    }\n                    if (gradient.reverse) {\n                        angle -= Math.PI;\n                    }\n                    angle %= 2 * Math.PI;\n                    if (angle < 0) {\n                        angle += 2 * Math.PI;\n                    }\n                    var pxlen = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));\n                    var scaledAngle = Math.atan(width * Math.tan(angle) / height);\n                    var sin = Math.sin(scaledAngle), cos = Math.cos(scaledAngle);\n                    var len = Math.abs(sin) + Math.abs(cos);\n                    var x = len / 2 * sin;\n                    var y = len / 2 * cos;\n                    if (angle > Math.PI / 2 && angle <= 3 * Math.PI / 2) {\n                        x = -x;\n                        y = -y;\n                    }\n                    var implicit = [], right = 0;\n                    var stops = gradient.stops.map(function (s, i) {\n                        var offset = s.percent;\n                        if (offset) {\n                            offset = parseFloat(offset) / 100;\n                        } else if (s.length) {\n                            offset = parseFloat(s.length) / pxlen;\n                        } else if (i === 0) {\n                            offset = 0;\n                        } else if (i == gradient.stops.length - 1) {\n                            offset = 1;\n                        }\n                        var stop = {\n                            color: s.color.toCssRgba(),\n                            offset: offset\n                        };\n                        if (offset != null) {\n                            right = offset;\n                            implicit.forEach(function (s, i) {\n                                var stop = s.stop;\n                                stop.offset = s.left + (right - s.left) * (i + 1) / (implicit.length + 1);\n                            });\n                            implicit = [];\n                        } else {\n                            implicit.push({\n                                left: right,\n                                stop: stop\n                            });\n                        }\n                        return stop;\n                    });\n                    var start = [\n                        0.5 - x,\n                        0.5 + y\n                    ];\n                    var end = [\n                        0.5 + x,\n                        0.5 - y\n                    ];\n                    group.append(drawing.Path.fromRect(rect).stroke(null).fill(new drawing.LinearGradient({\n                        start: start,\n                        end: end,\n                        stops: stops,\n                        userSpace: false\n                    })));\n                    break;\n                case 'radial':\n                    if (window.console && window.console.log) {\n                        window.console.log('Radial gradients are not yet supported in HTML renderer');\n                    }\n                    break;\n                }\n            };\n        }\n        function maybeRenderWidget(element, group) {\n            if (element.getAttribute(kendo.attr('role'))) {\n                var widget = kendo.widgetInstance($(element));\n                if (widget && (widget.exportDOMVisual || widget.exportVisual)) {\n                    var visual;\n                    if (widget.exportDOMVisual) {\n                        visual = widget.exportDOMVisual();\n                    } else {\n                        visual = widget.exportVisual();\n                    }\n                    if (!visual) {\n                        return false;\n                    }\n                    var wrap = new drawing.Group();\n                    wrap.children.push(visual);\n                    var bbox = element.getBoundingClientRect();\n                    wrap.transform(geo.transform().translate(bbox.left, bbox.top));\n                    group.append(wrap);\n                    return true;\n                }\n            }\n        }\n        function renderImage(element, url, group) {\n            var box = getContentBox(element);\n            var rect = new geo.Rect([\n                box.left,\n                box.top\n            ], [\n                box.width,\n                box.height\n            ]);\n            var image = new drawing.Image(url, rect);\n            setClipping(image, elementRoundBox(element, box, 'content'));\n            group.append(image);\n        }\n        function zIndexSort(a, b) {\n            var sa = getComputedStyle(a);\n            var sb = getComputedStyle(b);\n            var za = parseFloat(getPropertyValue(sa, 'z-index'));\n            var zb = parseFloat(getPropertyValue(sb, 'z-index'));\n            var pa = getPropertyValue(sa, 'position');\n            var pb = getPropertyValue(sb, 'position');\n            if (isNaN(za) && isNaN(zb)) {\n                if (/static|absolute/.test(pa) && /static|absolute/.test(pb)) {\n                    return 0;\n                }\n                if (pa == 'static') {\n                    return -1;\n                }\n                if (pb == 'static') {\n                    return 1;\n                }\n                return 0;\n            }\n            if (isNaN(za)) {\n                return zb === 0 ? 0 : zb > 0 ? -1 : 1;\n            }\n            if (isNaN(zb)) {\n                return za === 0 ? 0 : za > 0 ? 1 : -1;\n            }\n            return parseFloat(za) - parseFloat(zb);\n        }\n        function isFormField(element) {\n            return /^(?:textarea|select|input)$/i.test(element.tagName);\n        }\n        function getSelectedOption(element) {\n            if (element.selectedOptions && element.selectedOptions.length > 0) {\n                return element.selectedOptions[0];\n            }\n            return element.options[element.selectedIndex];\n        }\n        function renderCheckbox(element, group) {\n            var style = getComputedStyle(element);\n            var color = getPropertyValue(style, 'color');\n            var box = element.getBoundingClientRect();\n            if (element.type == 'checkbox') {\n                group.append(drawing.Path.fromRect(new geo.Rect([\n                    box.left + 1,\n                    box.top + 1\n                ], [\n                    box.width - 2,\n                    box.height - 2\n                ])).stroke(color, 1));\n                if (element.checked) {\n                    group.append(new drawing.Path().stroke(color, 1.2).moveTo(box.left + 0.22 * box.width, box.top + 0.55 * box.height).lineTo(box.left + 0.45 * box.width, box.top + 0.75 * box.height).lineTo(box.left + 0.78 * box.width, box.top + 0.22 * box.width));\n                }\n            } else {\n                group.append(new drawing.Circle(new geo.Circle([\n                    (box.left + box.right) / 2,\n                    (box.top + box.bottom) / 2\n                ], Math.min(box.width - 2, box.height - 2) / 2)).stroke(color, 1));\n                if (element.checked) {\n                    group.append(new drawing.Circle(new geo.Circle([\n                        (box.left + box.right) / 2,\n                        (box.top + box.bottom) / 2\n                    ], Math.min(box.width - 8, box.height - 8) / 2)).fill(color).stroke(null));\n                }\n            }\n        }\n        function renderFormField(element, group) {\n            var tag = element.tagName.toLowerCase();\n            if (tag == 'input' && (element.type == 'checkbox' || element.type == 'radio')) {\n                return renderCheckbox(element, group);\n            }\n            var p = element.parentNode;\n            var doc = element.ownerDocument;\n            var el = doc.createElement(KENDO_PSEUDO_ELEMENT);\n            var option;\n            el.style.cssText = getCssText(getComputedStyle(element));\n            if (tag == 'input') {\n                el.style.whiteSpace = 'pre';\n            }\n            if (tag == 'select' || tag == 'textarea') {\n                el.style.overflow = 'auto';\n            }\n            if (tag == 'select') {\n                if (element.multiple) {\n                    for (var i = 0; i < element.options.length; ++i) {\n                        option = doc.createElement(KENDO_PSEUDO_ELEMENT);\n                        option.style.cssText = getCssText(getComputedStyle(element.options[i]));\n                        option.style.display = 'block';\n                        option.textContent = element.options[i].textContent;\n                        el.appendChild(option);\n                    }\n                } else {\n                    option = getSelectedOption(element);\n                    if (option) {\n                        el.textContent = option.textContent;\n                    }\n                }\n            } else {\n                el.textContent = element.value;\n            }\n            p.insertBefore(el, element);\n            el.scrollLeft = element.scrollLeft;\n            el.scrollTop = element.scrollTop;\n            element.style.display = 'none';\n            renderContents(el, group);\n            element.style.display = '';\n            p.removeChild(el);\n        }\n        function renderContents(element, group) {\n            if (nodeInfo._stackingContext.element === element) {\n                nodeInfo._stackingContext.group = group;\n            }\n            switch (element.tagName.toLowerCase()) {\n            case 'img':\n                renderImage(element, element.src, group);\n                break;\n            case 'canvas':\n                try {\n                    renderImage(element, element.toDataURL('image/png'), group);\n                } catch (ex) {\n                }\n                break;\n            case 'textarea':\n            case 'input':\n            case 'select':\n                renderFormField(element, group);\n                break;\n            default:\n                var blocks = [], floats = [], inline = [], positioned = [];\n                for (var i = element.firstChild; i; i = i.nextSibling) {\n                    switch (i.nodeType) {\n                    case 3:\n                        if (/\\S/.test(i.data)) {\n                            renderText(element, i, group);\n                        }\n                        break;\n                    case 1:\n                        var style = getComputedStyle(i);\n                        var display = getPropertyValue(style, 'display');\n                        var floating = getPropertyValue(style, 'float');\n                        var position = getPropertyValue(style, 'position');\n                        if (position != 'static') {\n                            positioned.push(i);\n                        } else if (display != 'inline') {\n                            if (floating != 'none') {\n                                floats.push(i);\n                            } else {\n                                blocks.push(i);\n                            }\n                        } else {\n                            inline.push(i);\n                        }\n                        break;\n                    }\n                }\n                mergeSort(blocks, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(floats, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(inline, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n                mergeSort(positioned, zIndexSort).forEach(function (el) {\n                    renderElement(el, group);\n                });\n            }\n        }\n        function renderText(element, node, group) {\n            if (emptyClipbox()) {\n                return;\n            }\n            var style = getComputedStyle(element);\n            if (parseFloat(getPropertyValue(style, 'text-indent')) < -500) {\n                return;\n            }\n            var text = node.data;\n            var start = 0;\n            var end = text.search(/\\S\\s*$/) + 1;\n            if (!end) {\n                return;\n            }\n            var fontSize = getPropertyValue(style, 'font-size');\n            var lineHeight = getPropertyValue(style, 'line-height');\n            var font = [\n                getPropertyValue(style, 'font-style'),\n                getPropertyValue(style, 'font-variant'),\n                getPropertyValue(style, 'font-weight'),\n                fontSize,\n                getPropertyValue(style, 'font-family')\n            ].join(' ');\n            fontSize = parseFloat(fontSize);\n            lineHeight = parseFloat(lineHeight);\n            if (fontSize === 0) {\n                return;\n            }\n            var color = getPropertyValue(style, 'color');\n            var range = element.ownerDocument.createRange();\n            var align = getPropertyValue(style, 'text-align');\n            var isJustified = align == 'justify';\n            var whiteSpace = getPropertyValue(style, 'white-space');\n            var textOverflow, saveTextOverflow;\n            if (browser.msie) {\n                textOverflow = style.textOverflow;\n                if (textOverflow == 'ellipsis') {\n                    saveTextOverflow = element.style.textOverflow;\n                    element.style.textOverflow = 'clip';\n                }\n            }\n            var estimateLineLength = element.getBoundingClientRect().width / fontSize * 5;\n            if (estimateLineLength === 0) {\n                estimateLineLength = 500;\n            }\n            var prevLineBottom = null;\n            while (!doChunk()) {\n            }\n            if (browser.msie && textOverflow == 'ellipsis') {\n                element.style.textOverflow = saveTextOverflow;\n            }\n            return;\n            function actuallyGetRangeBoundingRect(range) {\n                if (browser.msie || browser.chrome) {\n                    var rectangles = range.getClientRects(), box = {\n                            top: +Infinity,\n                            right: -Infinity,\n                            bottom: -Infinity,\n                            left: +Infinity\n                        };\n                    for (var i = 0; i < rectangles.length; ++i) {\n                        var b = rectangles[i];\n                        if (b.width <= 1 || b.bottom === prevLineBottom) {\n                            continue;\n                        }\n                        box.left = Math.min(b.left, box.left);\n                        box.top = Math.min(b.top, box.top);\n                        box.right = Math.max(b.right, box.right);\n                        box.bottom = Math.max(b.bottom, box.bottom);\n                    }\n                    box.width = box.right - box.left;\n                    box.height = box.bottom - box.top;\n                    return box;\n                }\n                return range.getBoundingClientRect();\n            }\n            function doChunk() {\n                var origStart = start;\n                var box, pos = text.substr(start).search(/\\S/);\n                start += pos;\n                if (pos < 0 || start >= end) {\n                    return true;\n                }\n                range.setStart(node, start);\n                range.setEnd(node, start + 1);\n                box = actuallyGetRangeBoundingRect(range);\n                var found = false;\n                if (isJustified) {\n                    pos = text.substr(start).search(/\\s/);\n                    if (pos >= 0) {\n                        range.setEnd(node, start + pos);\n                        var r = actuallyGetRangeBoundingRect(range);\n                        if (r.bottom == box.bottom) {\n                            box = r;\n                            found = true;\n                            start += pos;\n                        }\n                    }\n                }\n                if (!found) {\n                    pos = function findEOL(min, eol, max) {\n                        range.setEnd(node, eol);\n                        var r = actuallyGetRangeBoundingRect(range);\n                        if (r.bottom != box.bottom && min < eol) {\n                            return findEOL(min, min + eol >> 1, eol);\n                        } else if (r.right != box.right) {\n                            box = r;\n                            if (eol < max) {\n                                return findEOL(eol, eol + max >> 1, max);\n                            } else {\n                                return eol;\n                            }\n                        } else {\n                            return eol;\n                        }\n                    }(start, Math.min(end, start + estimateLineLength), end);\n                    if (pos == start) {\n                        return true;\n                    }\n                    start = pos;\n                    pos = range.toString().search(/\\s+$/);\n                    if (pos === 0) {\n                        return;\n                    }\n                    if (pos > 0) {\n                        range.setEnd(node, range.startOffset + pos);\n                        box = actuallyGetRangeBoundingRect(range);\n                    }\n                }\n                if (browser.msie) {\n                    box = range.getClientRects()[0];\n                }\n                var str = range.toString();\n                if (!/^(?:pre|pre-wrap)$/i.test(whiteSpace)) {\n                    str = str.replace(/\\s+/g, ' ');\n                } else if (/\\t/.test(str)) {\n                    var cc = 0;\n                    for (pos = origStart; pos < range.startOffset; ++pos) {\n                        var code = text.charCodeAt(pos);\n                        if (code == 9) {\n                            cc += 8 - cc % 8;\n                        } else if (code == 10 || code == 13) {\n                            cc = 0;\n                        } else {\n                            cc++;\n                        }\n                    }\n                    while ((pos = str.search('\\t')) >= 0) {\n                        var indent = '        '.substr(0, 8 - (cc + pos) % 8);\n                        str = str.substr(0, pos) + indent + str.substr(pos + 1);\n                    }\n                }\n                if (!found) {\n                    prevLineBottom = box.bottom;\n                }\n                drawText(str, box);\n            }\n            function drawText(str, box) {\n                if (browser.msie && !isNaN(lineHeight)) {\n                    var size = kendo.util.measureText(str, { font: font });\n                    var top = (box.top + box.bottom - size.height) / 2;\n                    box = {\n                        top: top,\n                        right: box.right,\n                        bottom: top + size.height,\n                        left: box.left,\n                        height: size.height,\n                        width: box.right - box.left\n                    };\n                }\n                var text = new TextRect(str, new geo.Rect([\n                    box.left,\n                    box.top\n                ], [\n                    box.width,\n                    box.height\n                ]), {\n                    font: font,\n                    fill: { color: color }\n                });\n                group.append(text);\n                decorate(box);\n            }\n            function decorate(box) {\n                line(nodeInfo['underline'], box.bottom);\n                line(nodeInfo['line-through'], box.bottom - box.height / 2.7);\n                line(nodeInfo['overline'], box.top);\n                function line(color, ypos) {\n                    if (color) {\n                        var width = fontSize / 12;\n                        var path = new drawing.Path({\n                            stroke: {\n                                width: width,\n                                color: color\n                            }\n                        });\n                        ypos -= width;\n                        path.moveTo(box.left, ypos).lineTo(box.right, ypos);\n                        group.append(path);\n                    }\n                }\n            }\n        }\n        function groupInStackingContext(element, group, zIndex) {\n            var main;\n            if (zIndex != 'auto') {\n                main = nodeInfo._stackingContext.group;\n                zIndex = parseFloat(zIndex);\n            } else {\n                main = group;\n                zIndex = 0;\n            }\n            var a = main.children;\n            for (var i = 0; i < a.length; ++i) {\n                if (a[i]._dom_zIndex != null && a[i]._dom_zIndex > zIndex) {\n                    break;\n                }\n            }\n            var tmp = new drawing.Group();\n            main.insertAt(tmp, i);\n            tmp._dom_zIndex = zIndex;\n            if (main !== group) {\n                if (nodeInfo._clipbox) {\n                    var m = nodeInfo._matrix.invert();\n                    var r = nodeInfo._clipbox.transformCopy(m);\n                    setClipping(tmp, drawing.Path.fromRect(r));\n                }\n            }\n            return tmp;\n        }\n        function renderElement(element, container) {\n            var style = getComputedStyle(element);\n            var counterReset = getPropertyValue(style, 'counter-reset');\n            if (counterReset) {\n                doCounters(splitProperty(counterReset, /^\\s+/), resetCounter, 0);\n            }\n            var counterIncrement = getPropertyValue(style, 'counter-increment');\n            if (counterIncrement) {\n                doCounters(splitProperty(counterIncrement, /^\\s+/), incCounter, 1);\n            }\n            if (/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(element.tagName)) {\n                return;\n            }\n            if (nodeInfo._clipbox == null) {\n                return;\n            }\n            var opacity = parseFloat(getPropertyValue(style, 'opacity'));\n            var visibility = getPropertyValue(style, 'visibility');\n            var display = getPropertyValue(style, 'display');\n            if (opacity === 0 || visibility == 'hidden' || display == 'none') {\n                return;\n            }\n            var tr = getTransform(style);\n            var group;\n            var zIndex = getPropertyValue(style, 'z-index');\n            if ((tr || opacity < 1) && zIndex == 'auto') {\n                zIndex = 0;\n            }\n            group = groupInStackingContext(element, container, zIndex);\n            if (opacity < 1) {\n                group.opacity(opacity * group.opacity());\n            }\n            pushNodeInfo(element, style, group);\n            if (!tr) {\n                _renderWithPseudoElements(element, group);\n            } else {\n                saveStyle(element, function () {\n                    pleaseSetPropertyValue(element.style, 'transform', 'none', 'important');\n                    pleaseSetPropertyValue(element.style, 'transition', 'none', 'important');\n                    if (getPropertyValue(style, 'position') == 'static') {\n                        pleaseSetPropertyValue(element.style, 'position', 'relative', 'important');\n                    }\n                    var bbox = element.getBoundingClientRect();\n                    var x = bbox.left + tr.origin[0];\n                    var y = bbox.top + tr.origin[1];\n                    var m = [\n                        1,\n                        0,\n                        0,\n                        1,\n                        -x,\n                        -y\n                    ];\n                    m = mmul(m, tr.matrix);\n                    m = mmul(m, [\n                        1,\n                        0,\n                        0,\n                        1,\n                        x,\n                        y\n                    ]);\n                    m = setTransform(group, m);\n                    nodeInfo._matrix = nodeInfo._matrix.multiplyCopy(m);\n                    _renderWithPseudoElements(element, group);\n                });\n            }\n            popNodeInfo();\n        }\n        function mmul(a, b) {\n            var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];\n            var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];\n            return [\n                a1 * a2 + b1 * c2,\n                a1 * b2 + b1 * d2,\n                c1 * a2 + d1 * c2,\n                c1 * b2 + d1 * d2,\n                e1 * a2 + f1 * c2 + e2,\n                e1 * b2 + f1 * d2 + f2\n            ];\n        }\n    }(window.kendo.jQuery, parseFloat, Math));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('drawing/animation', [\n        'drawing/geometry',\n        'drawing/core'\n    ], f);\n}(function () {\n    (function ($) {\n        var noop = $.noop, kendo = window.kendo, Class = kendo.Class, util = kendo.util, animationFrame = kendo.animationFrame, deepExtend = kendo.deepExtend;\n        var Animation = Class.extend({\n            init: function (element, options) {\n                var anim = this;\n                anim.options = deepExtend({}, anim.options, options);\n                anim.element = element;\n            },\n            options: {\n                duration: 500,\n                easing: 'swing'\n            },\n            setup: noop,\n            step: noop,\n            play: function () {\n                var anim = this, options = anim.options, easing = $.easing[options.easing], duration = options.duration, delay = options.delay || 0, start = util.now() + delay, finish = start + duration;\n                if (duration === 0) {\n                    anim.step(1);\n                    anim.abort();\n                } else {\n                    setTimeout(function () {\n                        var loop = function () {\n                            if (anim._stopped) {\n                                return;\n                            }\n                            var wallTime = util.now();\n                            var time = util.limitValue(wallTime - start, 0, duration);\n                            var pos = time / duration;\n                            var easingPos = easing(pos, time, 0, 1, duration);\n                            anim.step(easingPos);\n                            if (wallTime < finish) {\n                                animationFrame(loop);\n                            } else {\n                                anim.abort();\n                            }\n                        };\n                        loop();\n                    }, delay);\n                }\n            },\n            abort: function () {\n                this._stopped = true;\n            },\n            destroy: function () {\n                this.abort();\n            }\n        });\n        var AnimationFactory = function () {\n            this._items = [];\n        };\n        AnimationFactory.prototype = {\n            register: function (name, type) {\n                this._items.push({\n                    name: name,\n                    type: type\n                });\n            },\n            create: function (element, options) {\n                var items = this._items;\n                var match;\n                if (options && options.type) {\n                    var type = options.type.toLowerCase();\n                    for (var i = 0; i < items.length; i++) {\n                        if (items[i].name.toLowerCase() === type) {\n                            match = items[i];\n                            break;\n                        }\n                    }\n                }\n                if (match) {\n                    return new match.type(element, options);\n                }\n            }\n        };\n        AnimationFactory.current = new AnimationFactory();\n        Animation.create = function (type, element, options) {\n            return AnimationFactory.current.create(type, element, options);\n        };\n        deepExtend(kendo.drawing, {\n            Animation: Animation,\n            AnimationFactory: AnimationFactory\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.drawing', [\n        'kendo.color',\n        'util/main',\n        'util/text-metrics',\n        'util/base64',\n        'mixins/observers',\n        'drawing/geometry',\n        'drawing/core',\n        'drawing/mixins',\n        'drawing/shapes',\n        'drawing/parser',\n        'drawing/search',\n        'drawing/svg',\n        'drawing/canvas',\n        'drawing/vml',\n        'drawing/html',\n        'drawing/animation'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'drawing',\n        name: 'Drawing API',\n        category: 'framework',\n        description: 'The Kendo UI low-level drawing API',\n        depends: [\n            'core',\n            'color',\n            'popup'\n        ]\n    };\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"],"sourceRoot":"/source/"}