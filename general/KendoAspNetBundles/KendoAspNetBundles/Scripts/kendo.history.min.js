/*
* Kendo UI Complete v2012.2.710 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at http://kendoui.com/complete-license
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
;(function(a,b){var c=window.kendo,d=window.location,e=window.history,f=50,g=/^#*/,h=window.document.documentMode,i=a.browser.msie&&(!h||h<=8),j="onhashchange"in window&&!i,k=window.document,l=c.Observable.extend({start:function(a){a=a||{};var b=this;b._pushStateRequested=!!a.pushState,b._pushState=b._pushStateRequested&&b._pushStateSupported(),b.root=a.root||"/",b._interval=0,this.bind(["change","ready"],a);if(b._normalizeUrl())return!0;b.current=b._currentLocation(),b._listenToLocationChange(),b.trigger("ready",{url:b.current})},stop:function(){a(window).unbind(".kendo"),this.unbind("change"),this.unbind("ready"),clearInterval(this._interval)},_normalizeUrl:function(){var a=this,b,c=a.root==d.pathname,f=a._pushStateRequested&&!a._pushStateSupported()&&!c,h=a._pushState&&c&&d.hash;if(f){d.replace(a.root+"#"+a._stripRoot(d.pathname));return!0}if(h){b=a._makePushStateUrl(d.hash.replace(g,"")),e.replaceState({},k.title,b);return!1}return!1},_listenToLocationChange:function(){var b=this,c=a.proxy(b._checkUrl,b);this._pushState?a(window).bind("popstate.kendo",c):j?a(window).bind("hashchange.kendo",c):b._interval=setInterval(c,f)},_pushStateSupported:function(){return window.history&&window.history.pushState},_checkUrl:function(a){var b=this,c=b._currentLocation();c!=b.current&&b.navigate(c)},_stripRoot:function(a){var b=this;return a.indexOf(b.root)===0?("/"+a.substr(b.root.length)).replace(/\/\//g,"/"):a},_makePushStateUrl:function(a){var b=this;a.indexOf(b.root)!==0&&(a=(b.root+a).replace(/\/\//g,"/"));return d.protocol+"//"+d.host+a},_currentLocation:function(){var a=this,b;if(a._pushState){b=d.pathname,d.search&&(b+=d.search);return a._stripRoot(b)}return d.hash.replace(g,"")},change:function(a){this.bind("change",a)},navigate:function(a,b){var c=this;if(a==="#:back")e.back();else{a=a.replace(g,"");if(c.current===a||c.current===decodeURIComponent(a))return;c._pushState?(e.pushState({},k.title,c._makePushStateUrl(a)),c.current=a):d.hash=c.current=a,b||c.trigger("change",{url:c.current})}}});c.history=new l})(jQuery);