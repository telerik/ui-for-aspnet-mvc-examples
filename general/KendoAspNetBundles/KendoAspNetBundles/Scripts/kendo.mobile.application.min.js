/*
* Kendo UI Complete v2012.2.710 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at http://kendoui.com/complete-license
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
;(function(a,b){function y(){a("meta[name=viewport]").replaceWith(o({height:w()?", height=device-width":", height=device-height"}))}function x(){return w()?m:l}function w(){return Math.abs(window.orientation)/90==1}var c=window.kendo,d=c.mobile,e=c.history,f=c.support,g=d.ui.Pane,h="ios",i=f.mobileOS,j=c.template("#=data.name##if(data.version){# #=data.name##=data.version.major# km-m#=data.version.minor# #=data.version.appMode?'km-app':'km-web'##}#",{usedWithBlock:!1}),k=i.device=="blackberry"&&i.flatVersion>=600&&i.flatVersion<1e3&&i.appMode,l="km-vertical",m="km-horizontal",n={ios:{ios:!0,appMode:!1,browser:"default",device:"iphone",flatVersion:"430",majorVersion:"4",minorVersion:"3.0",name:"ios",tablet:!1},android:{android:!0,appMode:!1,browser:"default",device:"android",flatVersion:"233",majorVersion:"2",minorVersion:"3.3",name:"android",tablet:!1},blackberry:{blackberry:!0,appMode:!1,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,appMode:!1,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1}},o=c.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width#=data.height#" name="viewport" />',{usedWithBlock:!1}),p='<meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-status-bar-style" content="black" /> '+o({height:""}),q=c.template('<link rel="apple-touch-icon'+(f.mobileOS.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),r=(i.device=="iphone"||i.device=="ipod")&&i.browser=="mobilesafari",s=60,t=a(window),u=a("head"),v=a.proxy,z=c.Observable.extend({init:function(b,e){var h=this;d.application=h,h.options=a.extend({hideAddressBar:!0,transition:""},e),c.Observable.fn.init.call(h,h.options),h.element=a(b?b:document.body),a(function(){h._setupPlatform(),h._attachHideBarHandlers(),h.pane=new g(h.element,h.options),h._setupElementClass(),h._attachMeta(),h._setupDocumentTitle(),h._startHistory(),f.touch&&a(document.documentElement).on("touchmove",!1)})},navigate:function(a,b){this.pane.navigate(a,b)},scroller:function(){return this.view().scroller},hideLoading:function(){this.pane.hideLoading()},showLoading:function(){this.pane.showLoading()},view:function(){return this.pane.view()},_setupPlatform:function(){var a=this,b=a.options.platform,c=i,d;b&&(typeof b=="string"?c=n[b]:c=b,f.mobileOS=i=c),c?(a.os=c.name,d={appMode:c.appMode,major:c.majorVersion,minor:c.minorVersion?c.minorVersion[0]:0}):(a.os=h,d=!1),a.osCssClass=j({name:"km-"+a.os,version:d})},_startHistory:function(){var b=this,c,d=b.options.initial;c={change:function(a){b.pane.navigate(a.url)},ready:function(a){var c=a.url;!c&&d&&(c=d,e.navigate(d,!0)),b.pane.navigate(c)}},b.pane.bind("navigate",function(a){e.navigate(a.url,!0)}),e.start(a.extend(b.options,c))},_setupElementClass:function(){var a=this,b=a.options.platform?"km-"+a.options.platform:a.osCssClass,d=a.element;d.parent().addClass("km-root km-"+(i.tablet?"tablet":"phone")),d.addClass(b+" "+x()),k&&y(),c.onResize(function(){d.removeClass("km-horizontal km-vertical").addClass(x()),k&&y()})},_attachMeta:function(){var a=this.options.icon,b;u.prepend(p);if(a){typeof a=="string"&&(a={"":a});for(b in a)u.prepend(q({icon:a[b],size:b}))}},_attachHideBarHandlers:function(){var a=this,b=v(a._hideBar,a);!i.appMode&&!!a.options.hideAddressBar&&(a._initialHeight={},r&&(t.on("load",b),c.onResize(b),a.element[0].addEventListener(f.mousedown,b,!0)))},_setupDocumentTitle:function(){var a=this,c=document.title;a.pane.bind("viewShow",function(a){var d=a.view.title;document.title=d!==b?d:c})},_hideBar:function(){var a=this,b=a.element,c=window.orientation+"",d=a._initialHeight,e;d[c]||(d[c]=t.height()),e=d[c]+s,e!=b.height()&&b.height(e),setTimeout(window.scrollTo,0,0,1)}});c.mobile.Application=z})(jQuery);