/*
* Kendo UI Complete v2013.2.716 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/


("function"==typeof define&&define.amd?define:function(e,t){return t()})(["./kendo.core.min","./kendo.userevents.min"],function(){!function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(i){return!1}}function i(e){return z?v.elementFromPoint(e.x.screen,e.y.screen):v.elementFromPoint(e.x.client,e.y.client)}function r(e,t){return parseInt(e.css(t),10)||0}function a(e,t){return Math.min(Math.max(e,t.min),t.max)}function o(e,t){var n=E(e),i=n.left+r(e,"borderLeftWidth")+r(e,"paddingLeft"),a=n.top+r(e,"borderTopWidth")+r(e,"paddingTop"),o=i+e.width()-t.outerWidth(!0),s=a+e.height()-t.outerHeight(!0);return{x:{min:i,max:o},y:{min:a,max:s}}}function s(e,n,i){for(var r,a,o=0,s=n&&n.length,l=i&&i.length;e&&e.parentNode;){for(o=0;s>o;o++)if(r=n[o],r.element[0]===e)return{target:r,targetElement:e};for(o=0;l>o;o++)if(a=i[o],p.matchesSelector.call(e,a.options.filter))return{target:a,targetElement:e};e=e.parentNode}return t}var l,c,u,f,d,h,g=window.kendo,p=g.support,v=window.document,m=g.Class,x=g.ui.Widget,_=g.Observable,y=g.UserEvents,b=e.proxy,T=e.extend,E=g.getOffset,M={},S={},w={},O=p.mobileOS,D=O&&O.android,z=D&&"chrome"==O.browser,k="keyup",C="change",W="dragstart",H="drag",P="dragend",A="dragcancel",L="dragenter",N="dragleave",F="drop",B=_.extend({init:function(t,n){var i=this,r=t[0];i.capture=!1,e.each(g.eventMap.down.split(" "),function(){r.addEventListener(this,b(i._press,i),!0)}),e.each(g.eventMap.up.split(" "),function(){r.addEventListener(this,b(i._release,i),!0)}),_.fn.init.call(i),i.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),G=_.extend({init:function(t){var n=this;_.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:1e3,_virtualMax:-1e3})},virtualSize:function(e,t){(this._virtualMin!==e||this._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),i=n*t.scale,r=t.getSize();t.max=t.virtual?-t._virtualMin:0,t.size=r,t.total=i,t.min=Math.min(t.max,r-i),t.minScale=r/n,t.centerOffset=(i-r)/2,t.enabled=t.forcedEnabled||i>r,e||t.trigger(C,t)}}),I=_.extend({init:function(e){var t=this,n=b(t.refresh,t);_.fn.init.call(t),t.x=new G(T({horizontal:!0},e)),t.y=new G(T({horizontal:!1},e)),t.forcedMinScale=e.minScale,t.bind(C,e),g.onResize(n)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(C)}}),j=_.extend({init:function(e){var t=this;T(t,e),_.fn.init.call(t)},dragMove:function(e){var t=this,n=t.dimension,i=t.axis,r=t.movable,a=r[i]+e;n.enabled&&((a<n.min&&0>e||a>n.max&&e>0)&&(e*=t.resistance),r.translateAxis(i,e),t.trigger(C,t))}}),Q=m.extend({init:function(e){var t,n,i,r,a=this;T(a,{elastic:!0},e),i=a.elastic?.5:0,r=a.movable,a.x=t=new j({axis:"x",dimension:a.dimensions.x,resistance:i,movable:r}),a.y=n=new j({axis:"y",dimension:a.dimensions.y,resistance:i,movable:r}),a.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){a.gesture=e},gesturechange:function(e){var i,o=a.gesture,s=o.center,l=e.center,c=e.distance/o.distance,u=a.dimensions.minScale;r.scale<=u&&1>c&&(c+=.8*(1-c)),i={x:(r.x-s.x)*c+l.x-r.x,y:(r.y-s.y)*c+l.y-r.y},r.scaleWith(c),t.dragMove(i.x),n.dragMove(i.y),a.dimensions.rescale(r.scale),a.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(t.dimension.enabled||n.dimension.enabled?(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),R=p.transitions.prefix+"Transform";c=p.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"},u=_.extend({init:function(t){var n=this;_.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(c(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){T(this,e),this.refresh()},refresh:function(){var e=this,t=c(e.x,e.y,e.scale);t!=e.coordinates&&(e.element[0].style[R]=t,e._saveCoordinates(t),e.trigger(C))},_saveCoordinates:function(e){this.coordinates=e}}),f=x.extend({init:function(e,t){var n,i=this;x.fn.init.call(i,e,t),n=i.options.group,n in S?S[n].push(i):S[n]=[i]},events:[L,N,F],options:{name:"DropTarget",group:"default"},destroy:function(){var e,t=this.options.group,n=S[t]||w[t];if(n.length>1){for(x.fn.destroy.call(this),e=0;e<n.length;e++)if(n[e]==this){n.splice(e,1);break}}else f.destroyGroup(t)},_trigger:function(e,n){var i=this,r=M[i.options.group];return r?i.trigger(e,T({},n.event,{draggable:r,dropTarget:n.dropTarget})):t},_over:function(e){this._trigger(L,e)},_out:function(e){this._trigger(N,e)},_drop:function(e){var t=this,n=M[t.options.group];n&&(n.dropped=!t._trigger(F,e))}}),f.destroyGroup=function(e){var t,n=S[e]||w[e];if(n){for(t=0;t<n.length;t++)x.fn.destroy.call(n[t]);n.length=0,delete S[e],delete w[e]}},f._cache=S,d=f.extend({init:function(e,t){var n,i=this;x.fn.init.call(i,e,t),n=i.options.group,n in w?w[n].push(i):w[n]=[i]},options:{name:"DropTargetArea",group:"default",filter:null}}),h=x.extend({init:function(e,t){var n=this;x.fn.init.call(n,e,t),n.userEvents=new y(n.element,{global:!0,stopPropagation:!0,filter:n.options.filter,threshold:n.options.distance,start:b(n._start,n),move:b(n._drag,n),end:b(n._end,n),cancel:b(n._cancel,n)}),n._afterEndHandler=b(n._afterEnd,n),n.captureEscape=function(e){e.keyCode===g.keys.ESC&&(n._trigger(A,{event:e}),n.userEvents.cancel())}},events:[W,H,P,A],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(t){var n,i=this,r=i.options,o=i.boundaries,s=r.axis,l=i.options.cursorOffset;l?n={left:t.x.location+l.left,top:t.y.location+l.top}:(i.hintOffset.left+=t.x.delta,i.hintOffset.top+=t.y.delta,n=e.extend({},i.hintOffset)),o&&(n.top=a(n.top,o.y),n.left=a(n.left,o.x)),"x"===s?delete n.top:"y"===s&&delete n.left,i.hint.css(n)},_start:function(t){var n,i=this,r=i.options,a=r.container,s=r.hint;i.currentTarget=t.target,i.currentTargetOffset=E(i.currentTarget),s&&(i.hint&&i.hint.stop(!0,!0).remove(),i.hint=e.isFunction(s)?e(s.call(i,i.currentTarget)):s,n=E(i.currentTarget),i.hintOffset=n,i.hint.css({position:"absolute",zIndex:2e4,left:n.left,top:n.top}).appendTo(v.body)),M[r.group]=i,i.dropped=!1,a&&(i.boundaries=o(a,i.hint)),i._trigger(W,t)&&(i.userEvents.cancel(),i._afterEnd()),e(v).on(k,i.captureEscape)},_drag:function(n){var i=this;n.preventDefault(),i._withDropTarget(n,function(i,r){if(!i)return l&&(l._trigger(N,T(n,{dropTarget:e(l.targetElement)})),l=null),t;if(l){if(r===l.targetElement)return;l._trigger(N,T(n,{dropTarget:e(l.targetElement)}))}i._trigger(L,T(n,{dropTarget:e(r)})),l=T(i,{targetElement:r})}),i._trigger(H,n),i.hint&&i._updateHint(n)},_end:function(t){var n=this;n._withDropTarget(t,function(n,i){n&&(n._drop(T({},t,{dropTarget:e(i)})),l=null)}),n._trigger(P,t),n._cancel(t.event)},_cancel:function(){var e=this;e.hint&&!e.dropped?setTimeout(function(){e.hint.stop(!0,!0).animate(e.currentTargetOffset,"fast",e._afterEndHandler)},0):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,T({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,dropTarget:t.dropTarget}))},_withDropTarget:function(e,t){var r,a,o=this,l=o.options,c=S[l.group],u=w[l.group];(c&&c.length||u&&u.length)&&(r=i(e),o.hint&&n(o.hint[0],r)&&(o.hint.hide(),r=i(e),r||(r=i(e)),o.hint.show()),a=s(r,c,u),a?t(a.target,a.targetElement):t())},destroy:function(){var e=this;x.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy()},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete M[t.options.group],t.trigger("destroy"),e(v).off(k,t.captureEscape)}}),g.ui.plugin(f),g.ui.plugin(d),g.ui.plugin(h),g.TapCapture=B,g.containerBoundaries=o,T(g.ui,{Pane:Q,PaneDimensions:I,Movable:u})}(window.kendo.jQuery)});