/*
* Kendo UI Complete v2013.2.716 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/


("function"==typeof define&&define.amd?define:function(e,i){return i()})(["./kendo.mobile.pane.min","./kendo.router.min"],function(){!function(e,i){function t(e){var i=[];return c&&i.push("km-on-"+c.name),e.skin?i.push("km-"+e.skin):(i.push("km-"+e.name),i.push("km-"+e.name+e.majorVersion),i.push("km-"+e.majorVersion),i.push("km-m"+(e.minorVersion?e.minorVersion[0]:0))),e.appMode?i.push("km-app"):i.push("km-web"),i.join(" ")}function n(){return 0===parseInt(e("<div style='background: Background' />").css("background-color").split(",")[1],10)?"dark":"light"}function o(e){return c.wp?"-kendo-landscape"==e.css("animation-name"):1==Math.abs(window.orientation)/90}function a(e){return o(e)?f:h}function s(){e("meta[name=viewport]").remove(),M.append(v({height:", width=device-width"+(o()?", height="+window.innerHeight+"px":p.mobileOS.flatVersion>=600&&p.mobileOS.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height")}))}var r=window.kendo,l=r.mobile,p=r.support,d=l.ui.Pane,m="ios",c=p.mobileOS,u="blackberry"==c.device&&c.flatVersion>=600&&c.flatVersion<1e3&&c.appMode,h="km-vertical",f="km-horizontal",w={ios:{ios:!0,appMode:!1,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,appMode:!1,browser:"default",device:"android",flatVersion:"233",majorVersion:"2",minorVersion:"3.3",name:"android",tablet:!1},blackberry:{blackberry:!0,appMode:!1,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,appMode:!1,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,appMode:!1,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},v=r.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),b=r.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="black" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),g=r.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:!1}),k=c.android||c.blackberry||c.meego,V=v({height:""}),y=r.template('<link rel="apple-touch-icon'+(c.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),_="iphone"==c.device||"ipod"==c.device,C="mobilesafari"==c.browser?60:0,B=e(window),M=e("head"),x="init",H=e.proxy,z=r.Observable.extend({init:function(i,t){var n=this;l.application=n,n.options=e.extend({hideAddressBar:!0,transition:"",updateDocumentTitle:!0},t),r.Observable.fn.init.call(n,n.options),n.bind(n.events,n.options),e(function(){n.element=e(i?i:document.body),n._setupPlatform(),n._setupElementClass(),n._attachHideBarHandlers(),n.pane=new d(n.element,n.options),n.pane.navigateToInitial(),n._attachMeta(),n.options.updateDocumentTitle&&n._setupDocumentTitle(),n._startHistory(),n.trigger(x)})},events:[x],navigate:function(e,i){this.pane.navigate(e,i)},scroller:function(){return this.view().scroller},hideLoading:function(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.hideLoading()},showLoading:function(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.showLoading()},view:function(){return this.pane.view()},skin:function(e){var i=this;return arguments.length?(i.options.skin=e||"",i.element[0].className="km-pane",i._setupPlatform(),i._setupElementClass(),i.options.skin):i.options.skin},_setupPlatform:function(){var i,o=this,a=o.options.platform,s=o.options.skin,r=c||w[m];a&&(r="string"==typeof a?w[a]:a),s&&(r=e.extend({},r,{skin:s})),o.os=r,o.osCssClass=t(o.os),r.skin||"wp"!=r.name||(o.element.parent().css("overflow","hidden"),i=function(){o.element.removeClass("km-wp-dark km-wp-light").addClass("km-wp-"+n())},e(window).on("focusin",i),document.addEventListener("resume",i),i())},_startHistory:function(){var e=this,i=e.options.initial,t=new r.Router({pushState:e.options.pushState,root:e.options.root,init:function(e){var n=e.url;"/"===n&&i&&(t.navigate(i,!0),e.preventDefault())},routeMissing:function(i){e.pane.navigate(i.url)}});e.pane.bind("navigate",function(e){t.navigate(e.url,!0)}),t.start(),e.router=t},_setupElementClass:function(){var i,t=this,n=t.element;n.parent().addClass("km-root km-"+(t.os.tablet?"tablet":"phone")),n.addClass(t.osCssClass+" "+a(n)),p.wpDevicePixelRatio&&n.parent().css("font-size",p.wpDevicePixelRatio+"em"),u&&s(),k&&(i=(window.outerWidth>window.outerHeight?window.outerWidth:window.outerHeight)+100,e(g({width:i,height:i})).appendTo(M)),r.onResize(function(){n.removeClass("km-horizontal km-vertical").addClass(a(n)),u&&s()})},_attachMeta:function(){var e,i=this.options.icon;if(u||M.prepend(V),M.prepend(b(this.options)),i){"string"==typeof i&&(i={"":i});for(e in i)M.prepend(y({icon:i[e],size:e}))}},_attachHideBarHandlers:function(){var e=this,i=H(e,"_hideBar");!p.mobileOS.appMode&&e.options.hideAddressBar&&_&&(e._initialHeight={},B.on("load",i),r.onResize(i),e.element[0].addEventListener("touchstart",function(i){r.triggeredByInput(i)||e._hideBar()},!0))},_setupDocumentTitle:function(){var e=this,t=document.title;e.pane.bind("viewShow",function(e){var n=e.view.title;document.title=n!==i?n:t})},_hideBar:function(){var i,t=this,n=t.element,o=window.orientation+"",a=t._initialHeight;a[o]||(a[o]=B.height()),i=a[o]+C,i!=n.height()&&(n.height(i),e(window).trigger(r.support.resize)),setTimeout(window.scrollTo,0,0,1)}});r.mobile.Application=z}(window.kendo.jQuery)});